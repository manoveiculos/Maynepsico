(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var lu={exports:{}},Cs={};var eg;function ix(){if(eg)return Cs;eg=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:i,type:l,key:f,ref:u!==void 0?u:null,props:h}}return Cs.Fragment=a,Cs.jsx=r,Cs.jsxs=r,Cs}var tg;function sx(){return tg||(tg=1,lu.exports=ix()),lu.exports}var o=sx(),ou={exports:{}},he={};var ng;function rx(){if(ng)return he;ng=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function C(E,G,Q){this.props=E,this.context=G,this.refs=N,this.updater=Q||z}C.prototype.isReactComponent={},C.prototype.setState=function(E,G){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,G,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function R(){}R.prototype=C.prototype;function T(E,G,Q){this.props=E,this.context=G,this.refs=N,this.updater=Q||z}var J=T.prototype=new R;J.constructor=T,A(J,C.prototype),J.isPureReactComponent=!0;var X=Array.isArray;function I(){}var K={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ue(E,G,Q){var Z=Q.ref;return{$$typeof:i,type:E,key:G,ref:Z!==void 0?Z:null,props:Q}}function qe(E,G){return ue(E.type,G,E.props)}function Qe(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function ze(E){var G={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return G[Q]})}var ft=/\/+/g;function Ze(E,G){return typeof E=="object"&&E!==null&&E.key!=null?ze(""+E.key):G.toString(36)}function Ge(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(I,I):(E.status="pending",E.then(function(G){E.status==="pending"&&(E.status="fulfilled",E.value=G)},function(G){E.status==="pending"&&(E.status="rejected",E.reason=G)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function $(E,G,Q,Z,L){var F=typeof E;(F==="undefined"||F==="boolean")&&(E=null);var ce=!1;if(E===null)ce=!0;else switch(F){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(E.$$typeof){case i:case a:ce=!0;break;case v:return ce=E._init,$(ce(E._payload),G,Q,Z,L)}}if(ce)return L=L(E),ce=Z===""?"."+Ze(E,0):Z,X(L)?(Q="",ce!=null&&(Q=ce.replace(ft,"$&/")+"/"),$(L,G,Q,"",function(nn){return nn})):L!=null&&(Qe(L)&&(L=qe(L,Q+(L.key==null||E&&E.key===L.key?"":(""+L.key).replace(ft,"$&/")+"/")+ce)),G.push(L)),1;ce=0;var Ee=Z===""?".":Z+":";if(X(E))for(var Ne=0;Ne<E.length;Ne++)Z=E[Ne],F=Ee+Ze(Z,Ne),ce+=$(Z,G,Q,F,L);else if(Ne=S(E),typeof Ne=="function")for(E=Ne.call(E),Ne=0;!(Z=E.next()).done;)Z=Z.value,F=Ee+Ze(Z,Ne++),ce+=$(Z,G,Q,F,L);else if(F==="object"){if(typeof E.then=="function")return $(Ge(E),G,Q,Z,L);throw G=String(E),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ce}function q(E,G,Q){if(E==null)return E;var Z=[],L=0;return $(E,Z,"","",function(F){return G.call(Q,F,L++)}),Z}function B(E){if(E._status===-1){var G=E._result;G=G(),G.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=G)}if(E._status===1)return E._result.default;throw E._result}var ne=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},P={map:q,forEach:function(E,G,Q){q(E,function(){G.apply(this,arguments)},Q)},count:function(E){var G=0;return q(E,function(){G++}),G},toArray:function(E){return q(E,function(G){return G})||[]},only:function(E){if(!Qe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return he.Activity=b,he.Children=P,he.Component=C,he.Fragment=r,he.Profiler=u,he.PureComponent=T,he.StrictMode=l,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,he.__COMPILER_RUNTIME={__proto__:null,c:function(E){return K.H.useMemoCache(E)}},he.cache=function(E){return function(){return E.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(E,G,Q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Z=A({},E.props),L=E.key;if(G!=null)for(F in G.key!==void 0&&(L=""+G.key),G)!de.call(G,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&G.ref===void 0||(Z[F]=G[F]);var F=arguments.length-2;if(F===1)Z.children=Q;else if(1<F){for(var ce=Array(F),Ee=0;Ee<F;Ee++)ce[Ee]=arguments[Ee+2];Z.children=ce}return ue(E.type,L,Z)},he.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:h,_context:E},E},he.createElement=function(E,G,Q){var Z,L={},F=null;if(G!=null)for(Z in G.key!==void 0&&(F=""+G.key),G)de.call(G,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(L[Z]=G[Z]);var ce=arguments.length-2;if(ce===1)L.children=Q;else if(1<ce){for(var Ee=Array(ce),Ne=0;Ne<ce;Ne++)Ee[Ne]=arguments[Ne+2];L.children=Ee}if(E&&E.defaultProps)for(Z in ce=E.defaultProps,ce)L[Z]===void 0&&(L[Z]=ce[Z]);return ue(E,F,L)},he.createRef=function(){return{current:null}},he.forwardRef=function(E){return{$$typeof:p,render:E}},he.isValidElement=Qe,he.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:B}},he.memo=function(E,G){return{$$typeof:m,type:E,compare:G===void 0?null:G}},he.startTransition=function(E){var G=K.T,Q={};K.T=Q;try{var Z=E(),L=K.S;L!==null&&L(Q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(I,ne)}catch(F){ne(F)}finally{G!==null&&Q.types!==null&&(G.types=Q.types),K.T=G}},he.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},he.use=function(E){return K.H.use(E)},he.useActionState=function(E,G,Q){return K.H.useActionState(E,G,Q)},he.useCallback=function(E,G){return K.H.useCallback(E,G)},he.useContext=function(E){return K.H.useContext(E)},he.useDebugValue=function(){},he.useDeferredValue=function(E,G){return K.H.useDeferredValue(E,G)},he.useEffect=function(E,G){return K.H.useEffect(E,G)},he.useEffectEvent=function(E){return K.H.useEffectEvent(E)},he.useId=function(){return K.H.useId()},he.useImperativeHandle=function(E,G,Q){return K.H.useImperativeHandle(E,G,Q)},he.useInsertionEffect=function(E,G){return K.H.useInsertionEffect(E,G)},he.useLayoutEffect=function(E,G){return K.H.useLayoutEffect(E,G)},he.useMemo=function(E,G){return K.H.useMemo(E,G)},he.useOptimistic=function(E,G){return K.H.useOptimistic(E,G)},he.useReducer=function(E,G,Q){return K.H.useReducer(E,G,Q)},he.useRef=function(E){return K.H.useRef(E)},he.useState=function(E){return K.H.useState(E)},he.useSyncExternalStore=function(E,G,Q){return K.H.useSyncExternalStore(E,G,Q)},he.useTransition=function(){return K.H.useTransition()},he.version="19.2.4",he}var ag;function Hu(){return ag||(ag=1,ou.exports=rx()),ou.exports}var j=Hu(),cu={exports:{}},zs={},uu={exports:{}},du={};var ig;function lx(){return ig||(ig=1,(function(i){function a($,q){var B=$.length;$.push(q);e:for(;0<B;){var ne=B-1>>>1,P=$[ne];if(0<u(P,q))$[ne]=q,$[B]=P,B=ne;else break e}}function r($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var q=$[0],B=$.pop();if(B!==q){$[0]=B;e:for(var ne=0,P=$.length,E=P>>>1;ne<E;){var G=2*(ne+1)-1,Q=$[G],Z=G+1,L=$[Z];if(0>u(Q,B))Z<P&&0>u(L,Q)?($[ne]=L,$[Z]=B,ne=Z):($[ne]=Q,$[G]=B,ne=G);else if(Z<P&&0>u(L,B))$[ne]=L,$[Z]=B,ne=Z;else break e}}return q}function u($,q){var B=$.sortIndex-q.sortIndex;return B!==0?B:$.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var y=[],m=[],v=1,b=null,_=3,S=!1,z=!1,A=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function J($){for(var q=r(m);q!==null;){if(q.callback===null)l(m);else if(q.startTime<=$)l(m),q.sortIndex=q.expirationTime,a(y,q);else break;q=r(m)}}function X($){if(A=!1,J($),!z)if(r(y)!==null)z=!0,I||(I=!0,ze());else{var q=r(m);q!==null&&Ge(X,q.startTime-$)}}var I=!1,K=-1,de=5,ue=-1;function qe(){return N?!0:!(i.unstable_now()-ue<de)}function Qe(){if(N=!1,I){var $=i.unstable_now();ue=$;var q=!0;try{e:{z=!1,A&&(A=!1,R(K),K=-1),S=!0;var B=_;try{t:{for(J($),b=r(y);b!==null&&!(b.expirationTime>$&&qe());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,_=b.priorityLevel;var P=ne(b.expirationTime<=$);if($=i.unstable_now(),typeof P=="function"){b.callback=P,J($),q=!0;break t}b===r(y)&&l(y),J($)}else l(y);b=r(y)}if(b!==null)q=!0;else{var E=r(m);E!==null&&Ge(X,E.startTime-$),q=!1}}break e}finally{b=null,_=B,S=!1}q=void 0}}finally{q?ze():I=!1}}}var ze;if(typeof T=="function")ze=function(){T(Qe)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Ze=ft.port2;ft.port1.onmessage=Qe,ze=function(){Ze.postMessage(null)}}else ze=function(){C(Qe,0)};function Ge($,q){K=C(function(){$(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function($){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var B=_;_=q;try{return $()}finally{_=B}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=_;_=$;try{return q()}finally{_=B}},i.unstable_scheduleCallback=function($,q,B){var ne=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ne+B:ne):B=ne,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=B+P,$={id:v++,callback:q,priorityLevel:$,startTime:B,expirationTime:P,sortIndex:-1},B>ne?($.sortIndex=B,a(m,$),r(y)===null&&$===r(m)&&(A?(R(K),K=-1):A=!0,Ge(X,B-ne))):($.sortIndex=P,a(y,$),z||S||(z=!0,I||(I=!0,ze()))),$},i.unstable_shouldYield=qe,i.unstable_wrapCallback=function($){var q=_;return function(){var B=_;_=q;try{return $.apply(this,arguments)}finally{_=B}}}})(du)),du}var sg;function ox(){return sg||(sg=1,uu.exports=lx()),uu.exports}var hu={exports:{}},dt={};var rg;function cx(){if(rg)return dt;rg=1;var i=Hu();function a(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(y,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:y,containerInfo:m,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,dt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(a(299));return h(y,m,null,v)},dt.flushSync=function(y){var m=f.T,v=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=m,l.p=v,l.d.f()}},dt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(y,m))},dt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},dt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,b=p(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?l.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):v==="script"&&l.d.X(y,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(y)},dt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=p(v,m.crossOrigin);l.d.L(y,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);l.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(y)},dt.requestFormReset=function(y){l.d.r(y)},dt.unstable_batchedUpdates=function(y,m){return y(m)},dt.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},dt.useFormStatus=function(){return f.H.useHostTransitionStatus()},dt.version="19.2.4",dt}var lg;function ux(){if(lg)return hu.exports;lg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),hu.exports=cx(),hu.exports}var og;function dx(){if(og)return zs;og=1;var i=ox(),a=Hu(),r=ux();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var c=n.return;if(c===null)break;var d=c.alternate;if(d===null){if(s=c.return,s!==null){n=s;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===n)return y(c),e;if(d===s)return y(c),t;d=d.sibling}throw Error(l(188))}if(n.return!==s.return)n=c,s=d;else{for(var g=!1,x=c.child;x;){if(x===n){g=!0,n=c,s=d;break}if(x===s){g=!0,s=c,n=d;break}x=x.sibling}if(!g){for(x=d.child;x;){if(x===n){g=!0,n=d,s=c;break}if(x===s){g=!0,s=d,n=c;break}x=x.sibling}if(!g)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),T=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),qe=Symbol.for("react.memo_cache_sentinel"),Qe=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=Qe&&e[Qe]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Symbol.for("react.client.reference");function Ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ft?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case X:return"Suspense";case I:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case T:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Ze(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return Ze(e(t))}catch{}}return null}var Ge=Array.isArray,$=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ne=[],P=-1;function E(e){return{current:e}}function G(e){0>P||(e.current=ne[P],ne[P]=null,P--)}function Q(e,t){P++,ne[P]=e.current,e.current=t}var Z=E(null),L=E(null),F=E(null),ce=E(null);function Ee(e,t){switch(Q(F,t),Q(L,e),Q(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wp(t),e=jp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(Z),Q(Z,e)}function Ne(){G(Z),G(L),G(F)}function nn(e){e.memoizedState!==null&&Q(ce,e);var t=Z.current,n=jp(t,e.type);t!==n&&(Q(L,e),Q(Z,n))}function Ua(e){L.current===e&&(G(Z),G(L)),ce.current===e&&(G(ce),Ts._currentValue=B)}var Il,Zu;function ra(e){if(Il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||"",Zu=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Il+e+Zu}var Gl=!1;function Vl(e,t){if(!e||Gl)return"";Gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var M=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){M=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){M=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&M&&typeof H.stack=="string")return[H.stack,M.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),g=d[0],x=d[1];if(g&&x){var w=g.split(`
`),U=x.split(`
`);for(c=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(s===w.length||c===U.length)for(s=w.length-1,c=U.length-1;1<=s&&0<=c&&w[s]!==U[c];)c--;for(;1<=s&&0<=c;s--,c--)if(w[s]!==U[c]){if(s!==1||c!==1)do if(s--,c--,0>c||w[s]!==U[c]){var V=`
`+w[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=c);break}}}finally{Gl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ra(n):""}function U0(e,t){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return e.child!==t&&t!==null?ra("Suspense Fallback"):ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return Vl(e.type,!1);case 11:return Vl(e.type.render,!1);case 1:return Vl(e.type,!0);case 31:return ra("Activity");default:return""}}function Fu(e){try{var t="",n=null;do t+=U0(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Wl=Object.prototype.hasOwnProperty,Yl=i.unstable_scheduleCallback,Pl=i.unstable_cancelCallback,M0=i.unstable_shouldYield,B0=i.unstable_requestPaint,St=i.unstable_now,L0=i.unstable_getCurrentPriorityLevel,ed=i.unstable_ImmediatePriority,td=i.unstable_UserBlockingPriority,er=i.unstable_NormalPriority,q0=i.unstable_LowPriority,nd=i.unstable_IdlePriority,H0=i.log,$0=i.unstable_setDisableYieldValue,Li=null,wt=null;function zn(e){if(typeof H0=="function"&&$0(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Li,e)}catch{}}var jt=Math.clz32?Math.clz32:V0,I0=Math.log,G0=Math.LN2;function V0(e){return e>>>=0,e===0?32:31-(I0(e)/G0|0)|0}var tr=256,nr=262144,ar=4194304;function la(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ir(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~d,s!==0?c=la(s):(g&=x,g!==0?c=la(g):n||(n=x&~e,n!==0&&(c=la(n))))):(x=s&~d,x!==0?c=la(x):g!==0?c=la(g):n||(n=s&~e,n!==0&&(c=la(n)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:c}function qi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function W0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var e=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),e}function Kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Y0(e,t,n,s,c,d){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,w=e.expirationTimes,U=e.hiddenUpdates;for(n=g&~n;0<n;){var V=31-jt(n),Y=1<<V;x[V]=0,w[V]=-1;var M=U[V];if(M!==null)for(U[V]=null,V=0;V<M.length;V++){var H=M[V];H!==null&&(H.lane&=-536870913)}n&=~Y}s!==0&&id(e,s,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function id(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-jt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function sd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-jt(n),c=1<<s;c&t|e[s]&t&&(e[s]|=t),n&=~c}}function rd(e,t){var n=t&-t;return n=(n&42)!==0?1:Xl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Xl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ld(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:Pp(e.type))}function od(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}var On=Math.random().toString(36).slice(2),it="__reactFiber$"+On,pt="__reactProps$"+On,Ma="__reactContainer$"+On,Ql="__reactEvents$"+On,P0="__reactListeners$"+On,K0="__reactHandles$"+On,cd="__reactResources$"+On,$i="__reactMarker$"+On;function Zl(e){delete e[it],delete e[pt],delete e[Ql],delete e[P0],delete e[K0]}function Ba(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ma]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zp(e);e!==null;){if(n=e[it])return n;e=zp(e)}return t}e=n,n=e.parentNode}return null}function La(e){if(e=e[it]||e[Ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ii(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function qa(e){var t=e[cd];return t||(t=e[cd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[$i]=!0}var ud=new Set,dd={};function oa(e,t){Ha(e,t),Ha(e+"Capture",t)}function Ha(e,t){for(dd[e]=t,e=0;e<t.length;e++)ud.add(t[e])}var X0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},fd={};function J0(e){return Wl.call(fd,e)?!0:Wl.call(hd,e)?!1:X0.test(e)?fd[e]=!0:(hd[e]=!0,!1)}function sr(e,t,n){if(J0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function rr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function cn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q0(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){n=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fl(e){if(!e._valueTracker){var t=pd(e)?"checked":"value";e._valueTracker=Q0(e,t,""+e[t])}}function gd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=pd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Z0=/[\n"\\]/g;function Mt(e){return e.replace(Z0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function eo(e,t,n,s,c,d,g,x){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?to(e,g,Ut(t)):n!=null?to(e,g,Ut(n)):s!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Ut(x):e.removeAttribute("name")}function md(e,t,n,s,c,d,g,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Fl(e);return}n=n!=null?""+Ut(n):"",t=t!=null?""+Ut(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Fl(e)}function to(e,t,n){t==="number"&&lr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function $a(e,t,n,s){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function yd(e,t,n){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ut(n):""}function xd(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(Ge(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Ut(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Fl(e)}function Ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var F0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||F0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bd(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&n[c]!==s&&vd(e,c,s)}else for(var d in t)t.hasOwnProperty(d)&&vd(e,d,t[d])}function no(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return tm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function un(){}var ao=null;function io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,Va=null;function _d(e){var t=La(e);if(t&&(e=t.stateNode)){var n=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(eo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var c=s[pt]||null;if(!c)throw Error(l(90));eo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&gd(s)}break e;case"textarea":yd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&$a(e,!!n.multiple,t,!1)}}}var so=!1;function Sd(e,t,n){if(so)return e(t,n);so=!0;try{var s=e(t);return s}finally{if(so=!1,(Ga!==null||Va!==null)&&(Xr(),Ga&&(t=Ga,e=Va,Va=Ga=null,_d(t),e)))for(t=0;t<e.length;t++)_d(e[t])}}function Gi(e,t){var n=e.stateNode;if(n===null)return null;var s=n[pt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=!1;if(dn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{ro=!1}var Nn=null,lo=null,cr=null;function wd(){if(cr)return cr;var e,t=lo,n=t.length,s,c="value"in Nn?Nn.value:Nn.textContent,d=c.length;for(e=0;e<n&&t[e]===c[e];e++);var g=n-e;for(s=1;s<=g&&t[n-s]===c[d-s];s++);return cr=c.slice(e,1<s?1-s:void 0)}function ur(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dr(){return!0}function jd(){return!1}function gt(e){function t(n,s,c,d,g){this._reactName=n,this._targetInst=c,this.type=s,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?dr:jd,this.isPropagationStopped=jd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=gt(ca),Wi=b({},ca,{view:0,detail:0}),nm=gt(Wi),oo,co,Yi,fr=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(oo=e.screenX-Yi.screenX,co=e.screenY-Yi.screenY):co=oo=0,Yi=e),oo)},movementY:function(e){return"movementY"in e?e.movementY:co}}),Ed=gt(fr),am=b({},fr,{dataTransfer:0}),im=gt(am),sm=b({},Wi,{relatedTarget:0}),uo=gt(sm),rm=b({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),lm=gt(rm),om=b({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cm=gt(om),um=b({},ca,{data:0}),Td=gt(um),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fm[e])?!!t[e]:!1}function ho(){return pm}var gm=b({},Wi,{key:function(e){if(e.key){var t=dm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(e){return e.type==="keypress"?ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mm=gt(gm),ym=b({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=gt(ym),xm=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),vm=gt(xm),bm=b({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),_m=gt(bm),Sm=b({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wm=gt(Sm),jm=b({},ca,{newState:0,oldState:0}),Em=gt(jm),Tm=[9,13,27,32],fo=dn&&"CompositionEvent"in window,Pi=null;dn&&"documentMode"in document&&(Pi=document.documentMode);var Am=dn&&"TextEvent"in window&&!Pi,kd=dn&&(!fo||Pi&&8<Pi&&11>=Pi),Rd=" ",Cd=!1;function zd(e,t){switch(e){case"keyup":return Tm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function km(e,t){switch(e){case"compositionend":return Od(t);case"keypress":return t.which!==32?null:(Cd=!0,Rd);case"textInput":return e=t.data,e===Rd&&Cd?null:e;default:return null}}function Rm(e,t){if(Wa)return e==="compositionend"||!fo&&zd(e,t)?(e=wd(),cr=lo=Nn=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var Cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cm[e.type]:t==="textarea"}function Dd(e,t,n,s){Ga?Va?Va.push(s):Va=[s]:Ga=s,t=nl(t,"onChange"),0<t.length&&(n=new hr("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ki=null,Xi=null;function zm(e){yp(e,0)}function pr(e){var t=Ii(e);if(gd(t))return e}function Ud(e,t){if(e==="change")return t}var Md=!1;if(dn){var po;if(dn){var go="oninput"in document;if(!go){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),go=typeof Bd.oninput=="function"}po=go}else po=!1;Md=po&&(!document.documentMode||9<document.documentMode)}function Ld(){Ki&&(Ki.detachEvent("onpropertychange",qd),Xi=Ki=null)}function qd(e){if(e.propertyName==="value"&&pr(Xi)){var t=[];Dd(t,Xi,e,io(e)),Sd(zm,t)}}function Om(e,t,n){e==="focusin"?(Ld(),Ki=t,Xi=n,Ki.attachEvent("onpropertychange",qd)):e==="focusout"&&Ld()}function Nm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pr(Xi)}function Dm(e,t){if(e==="click")return pr(t)}function Um(e,t){if(e==="input"||e==="change")return pr(t)}function Mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Mm;function Ji(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var c=n[s];if(!Wl.call(t,c)||!Et(e[c],t[c]))return!1}return!0}function Hd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var n=Hd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hd(n)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lr(e.document)}return t}function mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Bm=dn&&"documentMode"in document&&11>=document.documentMode,Ya=null,yo=null,Qi=null,xo=!1;function Vd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xo||Ya==null||Ya!==lr(s)||(s=Ya,"selectionStart"in s&&mo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qi&&Ji(Qi,s)||(Qi=s,s=nl(yo,"onSelect"),0<s.length&&(t=new hr("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ya)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pa={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},vo={},Wd={};dn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function da(e){if(vo[e])return vo[e];if(!Pa[e])return e;var t=Pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wd)return vo[e]=t[n];return e}var Yd=da("animationend"),Pd=da("animationiteration"),Kd=da("animationstart"),Lm=da("transitionrun"),qm=da("transitionstart"),Hm=da("transitioncancel"),Xd=da("transitionend"),Jd=new Map,bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bo.push("scrollEnd");function Yt(e,t){Jd.set(e,t),oa(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Ka=0,_o=0;function mr(){for(var e=Ka,t=_o=Ka=0;t<e;){var n=Bt[t];Bt[t++]=null;var s=Bt[t];Bt[t++]=null;var c=Bt[t];Bt[t++]=null;var d=Bt[t];if(Bt[t++]=null,s!==null&&c!==null){var g=s.pending;g===null?c.next=c:(c.next=g.next,g.next=c),s.pending=c}d!==0&&Qd(n,c,d)}}function yr(e,t,n,s){Bt[Ka++]=e,Bt[Ka++]=t,Bt[Ka++]=n,Bt[Ka++]=s,_o|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function So(e,t,n,s){return yr(e,t,n,s),xr(e)}function ha(e,t){return yr(e,null,null,t),xr(e)}function Qd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var c=!1,d=e.return;d!==null;)d.childLanes|=n,s=d.alternate,s!==null&&(s.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-jt(n),e=d.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=n|536870912),d):null}function xr(e){if(50<vs)throw vs=0,zc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xa={};function $m(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,s){return new $m(e,t,n,s)}function wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Zd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vr(e,t,n,s,c,d){var g=0;if(s=e,typeof e=="function")wo(e)&&(g=1);else if(typeof e=="string")g=Yy(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Tt(31,n,t,c),e.elementType=ue,e.lanes=d,e;case A:return fa(n.children,c,d,t);case N:g=8,c|=24;break;case C:return e=Tt(12,n,t,c|2),e.elementType=C,e.lanes=d,e;case X:return e=Tt(13,n,t,c),e.elementType=X,e.lanes=d,e;case I:return e=Tt(19,n,t,c),e.elementType=I,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:g=10;break e;case R:g=9;break e;case J:g=11;break e;case K:g=14;break e;case de:g=16,s=null;break e}g=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Tt(g,n,t,c),t.elementType=e,t.type=s,t.lanes=d,t}function fa(e,t,n,s){return e=Tt(7,e,s,t),e.lanes=n,e}function jo(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Fd(e){var t=Tt(18,null,null,0);return t.stateNode=e,t}function Eo(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var eh=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var n=eh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Fu(t)},eh.set(e,t),t)}return{value:e,source:t,stack:Fu(t)}}var Ja=[],Qa=0,br=null,Zi=0,qt=[],Ht=0,Dn=null,an=1,sn="";function fn(e,t){Ja[Qa++]=Zi,Ja[Qa++]=br,br=e,Zi=t}function th(e,t,n){qt[Ht++]=an,qt[Ht++]=sn,qt[Ht++]=Dn,Dn=e;var s=an;e=sn;var c=32-jt(s)-1;s&=~(1<<c),n+=1;var d=32-jt(t)+c;if(30<d){var g=c-c%5;d=(s&(1<<g)-1).toString(32),s>>=g,c-=g,an=1<<32-jt(t)+c|n<<c|s,sn=d+e}else an=1<<d|n<<c|s,sn=e}function To(e){e.return!==null&&(fn(e,1),th(e,1,0))}function Ao(e){for(;e===br;)br=Ja[--Qa],Ja[Qa]=null,Zi=Ja[--Qa],Ja[Qa]=null;for(;e===Dn;)Dn=qt[--Ht],qt[Ht]=null,sn=qt[--Ht],qt[Ht]=null,an=qt[--Ht],qt[Ht]=null}function nh(e,t){qt[Ht++]=an,qt[Ht++]=sn,qt[Ht++]=Dn,an=t.id,sn=t.overflow,Dn=e}var st=null,Ue=null,ve=!1,Un=null,$t=!1,ko=Error(l(519));function Mn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fi(Lt(t,e)),ko}function ah(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[it]=e,t[pt]=s,n){case"dialog":me("cancel",t),me("close",t);break;case"iframe":case"object":case"embed":me("load",t);break;case"video":case"audio":for(n=0;n<_s.length;n++)me(_s[n],t);break;case"source":me("error",t);break;case"img":case"image":case"link":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"input":me("invalid",t),md(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":me("invalid",t);break;case"textarea":me("invalid",t),xd(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||_p(t.textContent,n)?(s.popover!=null&&(me("beforetoggle",t),me("toggle",t)),s.onScroll!=null&&me("scroll",t),s.onScrollEnd!=null&&me("scrollend",t),s.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||Mn(e,!0)}function ih(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:st=st.return}}function Za(e){if(e!==st)return!1;if(!ve)return ih(e),ve=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Yc(e.type,e.memoizedProps)),n=!n),n&&Ue&&Mn(e),ih(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ue=Cp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ue=Cp(e)}else t===27?(t=Ue,Jn(e.type)?(e=Qc,Qc=null,Ue=e):Ue=t):Ue=st?Gt(e.stateNode.nextSibling):null;return!0}function pa(){Ue=st=null,ve=!1}function Ro(){var e=Un;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Un=null),e}function Fi(e){Un===null?Un=[e]:Un.push(e)}var Co=E(null),ga=null,pn=null;function Bn(e,t,n){Q(Co,t._currentValue),t._currentValue=n}function gn(e){e._currentValue=Co.current,G(Co)}function zo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t,n,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=c;for(var w=0;w<t.length;w++)if(x.context===t[w]){d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),zo(d.return,n,e),s||(g=null);break e}d=x.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(l(341));g.lanes|=n,d=g.alternate,d!==null&&(d.lanes|=n),zo(g,n,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Fa(e,t,n,s){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var x=c.type;Et(c.pendingProps.value,g.value)||(e!==null?e.push(x):e=[x])}}else if(c===ce.current){if(g=c.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ts):e=[Ts])}c=c.return}e!==null&&Oo(t,e,n,s),t.flags|=262144}function _r(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){ga=e,pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return sh(ga,e)}function Sr(e,t){return ga===null&&ma(e),sh(e,t)}function sh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},pn===null){if(e===null)throw Error(l(308));pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pn=pn.next=t;return n}var Im=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Gm=i.unstable_scheduleCallback,Vm=i.unstable_NormalPriority,Ye={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function No(){return{controller:new Im,data:new Map,refCount:0}}function es(e){e.refCount--,e.refCount===0&&Gm(Vm,function(){e.controller.abort()})}var ts=null,Do=0,ei=0,ti=null;function Wm(e,t){if(ts===null){var n=ts=[];Do=0,ei=Bc(),ti={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Do++,t.then(rh,rh),t}function rh(){if(--Do===0&&ts!==null){ti!==null&&(ti.status="fulfilled");var e=ts;ts=null,ei=0,ti=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ym(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),s}var lh=$.S;$.S=function(e,t){Wf=St(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Wm(e,t),lh!==null&&lh(e,t)};var ya=E(null);function Uo(){var e=ya.current;return e!==null?e:Oe.pooledCache}function wr(e,t){t===null?Q(ya,ya.current):Q(ya,t.pool)}function oh(){var e=Uo();return e===null?null:{parent:Ye._currentValue,pool:e}}var ni=Error(l(460)),Mo=Error(l(474)),jr=Error(l(542)),Er={then:function(){}};function ch(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(un,un),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hh(e),e;default:if(typeof t.status=="string")t.then(un,un);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hh(e),e}throw va=t,ni}}function xa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(va=n,ni):n}}var va=null;function dh(){if(va===null)throw Error(l(459));var e=va;return va=null,e}function hh(e){if(e===ni||e===jr)throw Error(l(483))}var ai=null,ns=0;function Tr(e){var t=ns;return ns+=1,ai===null&&(ai=[]),uh(ai,e,t)}function as(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fh(e){function t(O,k){if(e){var D=O.deletions;D===null?(O.deletions=[k],O.flags|=16):D.push(k)}}function n(O,k){if(!e)return null;for(;k!==null;)t(O,k),k=k.sibling;return null}function s(O){for(var k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function c(O,k){return O=hn(O,k),O.index=0,O.sibling=null,O}function d(O,k,D){return O.index=D,e?(D=O.alternate,D!==null?(D=D.index,D<k?(O.flags|=67108866,k):D):(O.flags|=67108866,k)):(O.flags|=1048576,k)}function g(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function x(O,k,D,W){return k===null||k.tag!==6?(k=jo(D,O.mode,W),k.return=O,k):(k=c(k,D),k.return=O,k)}function w(O,k,D,W){var se=D.type;return se===A?V(O,k,D.props.children,W,D.key):k!==null&&(k.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===de&&xa(se)===k.type)?(k=c(k,D.props),as(k,D),k.return=O,k):(k=vr(D.type,D.key,D.props,null,O.mode,W),as(k,D),k.return=O,k)}function U(O,k,D,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==D.containerInfo||k.stateNode.implementation!==D.implementation?(k=Eo(D,O.mode,W),k.return=O,k):(k=c(k,D.children||[]),k.return=O,k)}function V(O,k,D,W,se){return k===null||k.tag!==7?(k=fa(D,O.mode,W,se),k.return=O,k):(k=c(k,D),k.return=O,k)}function Y(O,k,D){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=jo(""+k,O.mode,D),k.return=O,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return D=vr(k.type,k.key,k.props,null,O.mode,D),as(D,k),D.return=O,D;case z:return k=Eo(k,O.mode,D),k.return=O,k;case de:return k=xa(k),Y(O,k,D)}if(Ge(k)||ze(k))return k=fa(k,O.mode,D,null),k.return=O,k;if(typeof k.then=="function")return Y(O,Tr(k),D);if(k.$$typeof===T)return Y(O,Sr(O,k),D);Ar(O,k)}return null}function M(O,k,D,W){var se=k!==null?k.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return se!==null?null:x(O,k,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return D.key===se?w(O,k,D,W):null;case z:return D.key===se?U(O,k,D,W):null;case de:return D=xa(D),M(O,k,D,W)}if(Ge(D)||ze(D))return se!==null?null:V(O,k,D,W,null);if(typeof D.then=="function")return M(O,k,Tr(D),W);if(D.$$typeof===T)return M(O,k,Sr(O,D),W);Ar(O,D)}return null}function H(O,k,D,W,se){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return O=O.get(D)||null,x(k,O,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return O=O.get(W.key===null?D:W.key)||null,w(k,O,W,se);case z:return O=O.get(W.key===null?D:W.key)||null,U(k,O,W,se);case de:return W=xa(W),H(O,k,D,W,se)}if(Ge(W)||ze(W))return O=O.get(D)||null,V(k,O,W,se,null);if(typeof W.then=="function")return H(O,k,D,Tr(W),se);if(W.$$typeof===T)return H(O,k,D,Sr(k,W),se);Ar(k,W)}return null}function ee(O,k,D,W){for(var se=null,_e=null,ae=k,pe=k=0,xe=null;ae!==null&&pe<D.length;pe++){ae.index>pe?(xe=ae,ae=null):xe=ae.sibling;var Se=M(O,ae,D[pe],W);if(Se===null){ae===null&&(ae=xe);break}e&&ae&&Se.alternate===null&&t(O,ae),k=d(Se,k,pe),_e===null?se=Se:_e.sibling=Se,_e=Se,ae=xe}if(pe===D.length)return n(O,ae),ve&&fn(O,pe),se;if(ae===null){for(;pe<D.length;pe++)ae=Y(O,D[pe],W),ae!==null&&(k=d(ae,k,pe),_e===null?se=ae:_e.sibling=ae,_e=ae);return ve&&fn(O,pe),se}for(ae=s(ae);pe<D.length;pe++)xe=H(ae,O,pe,D[pe],W),xe!==null&&(e&&xe.alternate!==null&&ae.delete(xe.key===null?pe:xe.key),k=d(xe,k,pe),_e===null?se=xe:_e.sibling=xe,_e=xe);return e&&ae.forEach(function(ta){return t(O,ta)}),ve&&fn(O,pe),se}function re(O,k,D,W){if(D==null)throw Error(l(151));for(var se=null,_e=null,ae=k,pe=k=0,xe=null,Se=D.next();ae!==null&&!Se.done;pe++,Se=D.next()){ae.index>pe?(xe=ae,ae=null):xe=ae.sibling;var ta=M(O,ae,Se.value,W);if(ta===null){ae===null&&(ae=xe);break}e&&ae&&ta.alternate===null&&t(O,ae),k=d(ta,k,pe),_e===null?se=ta:_e.sibling=ta,_e=ta,ae=xe}if(Se.done)return n(O,ae),ve&&fn(O,pe),se;if(ae===null){for(;!Se.done;pe++,Se=D.next())Se=Y(O,Se.value,W),Se!==null&&(k=d(Se,k,pe),_e===null?se=Se:_e.sibling=Se,_e=Se);return ve&&fn(O,pe),se}for(ae=s(ae);!Se.done;pe++,Se=D.next())Se=H(ae,O,pe,Se.value,W),Se!==null&&(e&&Se.alternate!==null&&ae.delete(Se.key===null?pe:Se.key),k=d(Se,k,pe),_e===null?se=Se:_e.sibling=Se,_e=Se);return e&&ae.forEach(function(ax){return t(O,ax)}),ve&&fn(O,pe),se}function Ce(O,k,D,W){if(typeof D=="object"&&D!==null&&D.type===A&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case S:e:{for(var se=D.key;k!==null;){if(k.key===se){if(se=D.type,se===A){if(k.tag===7){n(O,k.sibling),W=c(k,D.props.children),W.return=O,O=W;break e}}else if(k.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===de&&xa(se)===k.type){n(O,k.sibling),W=c(k,D.props),as(W,D),W.return=O,O=W;break e}n(O,k);break}else t(O,k);k=k.sibling}D.type===A?(W=fa(D.props.children,O.mode,W,D.key),W.return=O,O=W):(W=vr(D.type,D.key,D.props,null,O.mode,W),as(W,D),W.return=O,O=W)}return g(O);case z:e:{for(se=D.key;k!==null;){if(k.key===se)if(k.tag===4&&k.stateNode.containerInfo===D.containerInfo&&k.stateNode.implementation===D.implementation){n(O,k.sibling),W=c(k,D.children||[]),W.return=O,O=W;break e}else{n(O,k);break}else t(O,k);k=k.sibling}W=Eo(D,O.mode,W),W.return=O,O=W}return g(O);case de:return D=xa(D),Ce(O,k,D,W)}if(Ge(D))return ee(O,k,D,W);if(ze(D)){if(se=ze(D),typeof se!="function")throw Error(l(150));return D=se.call(D),re(O,k,D,W)}if(typeof D.then=="function")return Ce(O,k,Tr(D),W);if(D.$$typeof===T)return Ce(O,k,Sr(O,D),W);Ar(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,k!==null&&k.tag===6?(n(O,k.sibling),W=c(k,D),W.return=O,O=W):(n(O,k),W=jo(D,O.mode,W),W.return=O,O=W),g(O)):n(O,k)}return function(O,k,D,W){try{ns=0;var se=Ce(O,k,D,W);return ai=null,se}catch(ae){if(ae===ni||ae===jr)throw ae;var _e=Tt(29,ae,null,O.mode);return _e.lanes=W,_e.return=O,_e}}}var ba=fh(!0),ph=fh(!1),Ln=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(je&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=xr(e),Qd(e,null,n),t}return yr(e,s,t,n),xr(e)}function is(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sd(e,n)}}function qo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var c=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,n=n.next}while(n!==null);d===null?c=d=t:d=d.next=t}else c=d=t;n={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ho=!1;function ss(){if(Ho){var e=ti;if(e!==null)throw e}}function rs(e,t,n,s){Ho=!1;var c=e.updateQueue;Ln=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var w=x,U=w.next;w.next=null,g===null?d=U:g.next=U,g=w;var V=e.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==g&&(x===null?V.firstBaseUpdate=U:x.next=U,V.lastBaseUpdate=w))}if(d!==null){var Y=c.baseState;g=0,V=U=w=null,x=d;do{var M=x.lane&-536870913,H=M!==x.lane;if(H?(ye&M)===M:(s&M)===M){M!==0&&M===ei&&(Ho=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=e,re=x;M=t;var Ce=n;switch(re.tag){case 1:if(ee=re.payload,typeof ee=="function"){Y=ee.call(Ce,Y,M);break e}Y=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,M=typeof ee=="function"?ee.call(Ce,Y,M):ee,M==null)break e;Y=b({},Y,M);break e;case 2:Ln=!0}}M=x.callback,M!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[M]:H.push(M))}else H={lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(U=V=H,w=Y):V=V.next=H,g|=M;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;H=x,x=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);V===null&&(w=Y),c.baseState=w,c.firstBaseUpdate=U,c.lastBaseUpdate=V,d===null&&(c.shared.lanes=0),Wn|=g,e.lanes=g,e.memoizedState=Y}}function gh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function mh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gh(n[e],t)}var ii=E(null),kr=E(0);function yh(e,t){e=jn,Q(kr,e),Q(ii,t),jn=e|t.baseLanes}function $o(){Q(kr,jn),Q(ii,ii.current)}function Io(){jn=kr.current,G(ii),G(kr)}var At=E(null),It=null;function $n(e){var t=e.alternate;Q(Ve,Ve.current&1),Q(At,e),It===null&&(t===null||ii.current!==null||t.memoizedState!==null)&&(It=e)}function Go(e){Q(Ve,Ve.current),Q(At,e),It===null&&(It=e)}function xh(e){e.tag===22?(Q(Ve,Ve.current),Q(At,e),It===null&&(It=e)):In()}function In(){Q(Ve,Ve.current),Q(At,At.current)}function kt(e){G(At),It===e&&(It=null),G(Ve)}var Ve=E(0);function Rr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xc(n)||Jc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mn=0,fe=null,ke=null,Pe=null,Cr=!1,si=!1,_a=!1,zr=0,ls=0,ri=null,Pm=0;function He(){throw Error(l(321))}function Vo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Wo(e,t,n,s,c,d){return mn=d,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?tf:rc,_a=!1,d=n(s,c),_a=!1,si&&(d=bh(t,n,s,c)),vh(e),d}function vh(e){$.H=us;var t=ke!==null&&ke.next!==null;if(mn=0,Pe=ke=fe=null,Cr=!1,ls=0,ri=null,t)throw Error(l(300));e===null||Ke||(e=e.dependencies,e!==null&&_r(e)&&(Ke=!0))}function bh(e,t,n,s){fe=e;var c=0;do{if(si&&(ri=null),ls=0,si=!1,25<=c)throw Error(l(301));if(c+=1,Pe=ke=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=nf,d=t(n,s)}while(si);return d}function Km(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?os(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(fe.flags|=1024),t}function Yo(){var e=zr!==0;return zr=0,e}function Po(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ko(e){if(Cr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Cr=!1}mn=0,Pe=ke=fe=null,si=!1,ls=zr=0,ri=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function We(){if(ke===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Pe===null?fe.memoizedState:Pe.next;if(t!==null)Pe=t,ke=e;else{if(e===null)throw fe.alternate===null?Error(l(467)):Error(l(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function os(e){var t=ls;return ls+=1,ri===null&&(ri=[]),e=uh(ri,e,t),t=fe,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?tf:rc),e}function Nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return os(e);if(e.$$typeof===T)return rt(e)}throw Error(l(438,String(e)))}function Xo(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=fe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Or(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=qe;return t.index++,n}function yn(e,t){return typeof t=="function"?t(e):t}function Dr(e){var t=We();return Jo(t,ke,e)}function Jo(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var c=e.baseQueue,d=s.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}t.baseQueue=c=d,s.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var x=g=null,w=null,U=t,V=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(ye&Y)===Y:(mn&Y)===Y){var M=U.revertLane;if(M===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===ei&&(V=!0);else if((mn&M)===M){U=U.next,M===ei&&(V=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(x=w=Y,g=d):w=w.next=Y,fe.lanes|=M,Wn|=M;Y=U.action,_a&&n(d,Y),d=U.hasEagerState?U.eagerState:n(d,Y)}else M={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(x=w=M,g=d):w=w.next=M,fe.lanes|=Y,Wn|=Y;U=U.next}while(U!==null&&U!==t);if(w===null?g=d:w.next=x,!Et(d,e.memoizedState)&&(Ke=!0,V&&(n=ti,n!==null)))throw n;e.memoizedState=d,e.baseState=g,e.baseQueue=w,s.lastRenderedState=d}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Qo(e){var t=We(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,c=n.pending,d=t.memoizedState;if(c!==null){n.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);Et(d,t.memoizedState)||(Ke=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,s]}function _h(e,t,n){var s=fe,c=We(),d=ve;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var g=!Et((ke||c).memoizedState,n);if(g&&(c.memoizedState=n,Ke=!0),c=c.queue,ec(jh.bind(null,s,c,e),[e]),c.getSnapshot!==t||g||Pe!==null&&Pe.memoizedState.tag&1){if(s.flags|=2048,li(9,{destroy:void 0},wh.bind(null,s,c,n,t),null),Oe===null)throw Error(l(349));d||(mn&127)!==0||Sh(s,t,n)}return n}function Sh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=Or(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wh(e,t,n,s){t.value=n,t.getSnapshot=s,Eh(t)&&Th(e)}function jh(e,t,n){return n(function(){Eh(t)&&Th(e)})}function Eh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Th(e){var t=ha(e,2);t!==null&&bt(t,e,2)}function Zo(e){var t=ht();if(typeof e=="function"){var n=e;if(e=n(),_a){zn(!0);try{n()}finally{zn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},t}function Ah(e,t,n,s){return e.baseState=n,Jo(e,ke,typeof s=="function"?s:yn)}function Xm(e,t,n,s,c){if(Br(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};$.T!==null?n(!0):d.isTransition=!1,s(d),n=t.pending,n===null?(d.next=t.pending=d,kh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function kh(e,t){var n=t.action,s=t.payload,c=e.state;if(t.isTransition){var d=$.T,g={};$.T=g;try{var x=n(c,s),w=$.S;w!==null&&w(g,x),Rh(e,t,x)}catch(U){Fo(e,t,U)}finally{d!==null&&g.types!==null&&(d.types=g.types),$.T=d}}else try{d=n(c,s),Rh(e,t,d)}catch(U){Fo(e,t,U)}}function Rh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Ch(e,t,s)},function(s){return Fo(e,t,s)}):Ch(e,t,n)}function Ch(e,t,n){t.status="fulfilled",t.value=n,zh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,kh(e,n)))}function Fo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,zh(t),t=t.next;while(t!==s)}e.action=null}function zh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oh(e,t){return t}function Nh(e,t){if(ve){var n=Oe.formState;if(n!==null){e:{var s=fe;if(ve){if(Ue){t:{for(var c=Ue,d=$t;c.nodeType!==8;){if(!d){c=null;break t}if(c=Gt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ue=Gt(c.nextSibling),s=c.data==="F!";break e}}Mn(s)}s=!1}s&&(t=n[0])}}return n=ht(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:t},n.queue=s,n=Zh.bind(null,fe,s),s.dispatch=n,s=Zo(!1),d=sc.bind(null,fe,!1,s.queue),s=ht(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,n=Xm.bind(null,fe,c,d,n),c.dispatch=n,s.memoizedState=e,[t,n,!1]}function Dh(e){var t=We();return Uh(t,ke,e)}function Uh(e,t,n){if(t=Jo(e,t,Oh)[0],e=Dr(yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=os(t)}catch(g){throw g===ni?jr:g}else s=t;t=We();var c=t.queue,d=c.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,li(9,{destroy:void 0},Jm.bind(null,c,n),null)),[s,d,e]}function Jm(e,t){e.action=t}function Mh(e){var t=We(),n=ke;if(n!==null)return Uh(t,n,e);We(),t=t.memoizedState,n=We();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function li(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Or(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Bh(){return We().memoizedState}function Ur(e,t,n,s){var c=ht();fe.flags|=e,c.memoizedState=li(1|t,{destroy:void 0},n,s===void 0?null:s)}function Mr(e,t,n,s){var c=We();s=s===void 0?null:s;var d=c.memoizedState.inst;ke!==null&&s!==null&&Vo(s,ke.memoizedState.deps)?c.memoizedState=li(t,d,n,s):(fe.flags|=e,c.memoizedState=li(1|t,d,n,s))}function Lh(e,t){Ur(8390656,8,e,t)}function ec(e,t){Mr(2048,8,e,t)}function Qm(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Or(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function qh(e){var t=We().memoizedState;return Qm({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Hh(e,t){return Mr(4,2,e,t)}function $h(e,t){return Mr(4,4,e,t)}function Ih(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gh(e,t,n){n=n!=null?n.concat([e]):null,Mr(4,4,Ih.bind(null,t,e),n)}function tc(){}function Vh(e,t){var n=We();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Vo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Wh(e,t){var n=We();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Vo(t,s[1]))return s[0];if(s=e(),_a){zn(!0);try{e()}finally{zn(!1)}}return n.memoizedState=[s,t],s}function nc(e,t,n){return n===void 0||(mn&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Pf(),fe.lanes|=e,Wn|=e,n)}function Yh(e,t,n,s){return Et(n,t)?n:ii.current!==null?(e=nc(e,n,s),Et(e,t)||(Ke=!0),e):(mn&42)===0||(mn&1073741824)!==0&&(ye&261930)===0?(Ke=!0,e.memoizedState=n):(e=Pf(),fe.lanes|=e,Wn|=e,t)}function Ph(e,t,n,s,c){var d=q.p;q.p=d!==0&&8>d?d:8;var g=$.T,x={};$.T=x,sc(e,!1,t,n);try{var w=c(),U=$.S;if(U!==null&&U(x,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=Ym(w,s);cs(e,t,V,zt(e))}else cs(e,t,s,zt(e))}catch(Y){cs(e,t,{then:function(){},status:"rejected",reason:Y},zt())}finally{q.p=d,g!==null&&x.types!==null&&(g.types=x.types),$.T=g}}function Zm(){}function ac(e,t,n,s){if(e.tag!==5)throw Error(l(476));var c=Kh(e).queue;Ph(e,c,t,B,n===null?Zm:function(){return Xh(e),n(s)})}function Kh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:B},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Xh(e){var t=Kh(e);t.next===null&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},zt())}function ic(){return rt(Ts)}function Jh(){return We().memoizedState}function Qh(){return We().memoizedState}function Fm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=zt();e=qn(n);var s=Hn(t,e,n);s!==null&&(bt(s,t,n),is(s,t,n)),t={cache:No()},e.payload=t;return}t=t.return}}function ey(e,t,n){var s=zt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Br(e)?Fh(t,n):(n=So(e,t,n,s),n!==null&&(bt(n,e,s),ef(n,t,s)))}function Zh(e,t,n){var s=zt();cs(e,t,n,s)}function cs(e,t,n,s){var c={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Br(e))Fh(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,x=d(g,n);if(c.hasEagerState=!0,c.eagerState=x,Et(x,g))return yr(e,t,c,0),Oe===null&&mr(),!1}catch{}if(n=So(e,t,c,s),n!==null)return bt(n,e,s),ef(n,t,s),!0}return!1}function sc(e,t,n,s){if(s={lane:2,revertLane:Bc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Br(e)){if(t)throw Error(l(479))}else t=So(e,n,s,2),t!==null&&bt(t,e,2)}function Br(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Fh(e,t){si=Cr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ef(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sd(e,n)}}var us={readContext:rt,use:Nr,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};us.useEffectEvent=He;var tf={readContext:rt,use:Nr,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Lh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ur(4194308,4,Ih.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ur(4194308,4,e,t)},useInsertionEffect:function(e,t){Ur(4,2,e,t)},useMemo:function(e,t){var n=ht();t=t===void 0?null:t;var s=e();if(_a){zn(!0);try{e()}finally{zn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=ht();if(n!==void 0){var c=n(t);if(_a){zn(!0);try{n(t)}finally{zn(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=ey.bind(null,fe,e),[s.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Zo(e);var t=e.queue,n=Zh.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tc,useDeferredValue:function(e,t){var n=ht();return nc(n,e,t)},useTransition:function(){var e=Zo(!1);return e=Ph.bind(null,fe,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=fe,c=ht();if(ve){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Oe===null)throw Error(l(349));(ye&127)!==0||Sh(s,t,n)}c.memoizedState=n;var d={value:n,getSnapshot:t};return c.queue=d,Lh(jh.bind(null,s,d,e),[e]),s.flags|=2048,li(9,{destroy:void 0},wh.bind(null,s,d,n,t),null),n},useId:function(){var e=ht(),t=Oe.identifierPrefix;if(ve){var n=sn,s=an;n=(s&~(1<<32-jt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=zr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Pm++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ic,useFormState:Nh,useActionState:Nh,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=sc.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xo,useCacheRefresh:function(){return ht().memoizedState=Fm.bind(null,fe)},useEffectEvent:function(e){var t=ht(),n={impl:e};return t.memoizedState=n,function(){if((je&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},rc={readContext:rt,use:Nr,useCallback:Vh,useContext:rt,useEffect:ec,useImperativeHandle:Gh,useInsertionEffect:Hh,useLayoutEffect:$h,useMemo:Wh,useReducer:Dr,useRef:Bh,useState:function(){return Dr(yn)},useDebugValue:tc,useDeferredValue:function(e,t){var n=We();return Yh(n,ke.memoizedState,e,t)},useTransition:function(){var e=Dr(yn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:os(e),t]},useSyncExternalStore:_h,useId:Jh,useHostTransitionStatus:ic,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var n=We();return Ah(n,ke,e,t)},useMemoCache:Xo,useCacheRefresh:Qh};rc.useEffectEvent=qh;var nf={readContext:rt,use:Nr,useCallback:Vh,useContext:rt,useEffect:ec,useImperativeHandle:Gh,useInsertionEffect:Hh,useLayoutEffect:$h,useMemo:Wh,useReducer:Qo,useRef:Bh,useState:function(){return Qo(yn)},useDebugValue:tc,useDeferredValue:function(e,t){var n=We();return ke===null?nc(n,e,t):Yh(n,ke.memoizedState,e,t)},useTransition:function(){var e=Qo(yn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:os(e),t]},useSyncExternalStore:_h,useId:Jh,useHostTransitionStatus:ic,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,t){var n=We();return ke!==null?Ah(n,ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xo,useCacheRefresh:Qh};nf.useEffectEvent=qh;function lc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oc={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=zt(),c=qn(s);c.payload=t,n!=null&&(c.callback=n),t=Hn(e,c,s),t!==null&&(bt(t,e,s),is(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=zt(),c=qn(s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Hn(e,c,s),t!==null&&(bt(t,e,s),is(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),s=qn(n);s.tag=2,t!=null&&(s.callback=t),t=Hn(e,s,n),t!==null&&(bt(t,e,n),is(t,e,n))}};function af(e,t,n,s,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,g):t.prototype&&t.prototype.isPureReactComponent?!Ji(n,s)||!Ji(c,d):!0}function sf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&oc.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function rf(e){gr(e)}function lf(e){console.error(e)}function of(e){gr(e)}function Lr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function cf(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function cc(e,t,n){return n=qn(n),n.tag=3,n.payload={element:null},n.callback=function(){Lr(e,t)},n}function uf(e){return e=qn(e),e.tag=3,e}function df(e,t,n,s){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;e.payload=function(){return c(d)},e.callback=function(){cf(t,n,s)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){cf(t,n,s),typeof c!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function ty(e,t,n,s,c){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Fa(t,n,c,!0),n=At.current,n!==null){switch(n.tag){case 31:case 13:return It===null?Jr():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=c,s===Er?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Dc(e,s,c)),!1;case 22:return n.flags|=65536,s===Er?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Dc(e,s,c)),!1}throw Error(l(435,n.tag))}return Dc(e,s,c),Jr(),!1}if(ve)return t=At.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==ko&&(e=Error(l(422),{cause:s}),Fi(Lt(e,n)))):(s!==ko&&(t=Error(l(423),{cause:s}),Fi(Lt(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Lt(s,n),c=cc(e.stateNode,s,c),qo(e,c),$e!==4&&($e=2)),!1;var d=Error(l(520),{cause:s});if(d=Lt(d,n),xs===null?xs=[d]:xs.push(d),$e!==4&&($e=2),t===null)return!0;s=Lt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=cc(n.stateNode,s,e),qo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yn===null||!Yn.has(d))))return n.flags|=65536,c&=-c,n.lanes|=c,c=uf(c),df(c,e,n,s),qo(n,c),!1}n=n.return}while(n!==null);return!1}var uc=Error(l(461)),Ke=!1;function lt(e,t,n,s){t.child=e===null?ph(t,null,n,s):ba(t,e.child,n,s)}function hf(e,t,n,s,c){n=n.render;var d=t.ref;if("ref"in s){var g={};for(var x in s)x!=="ref"&&(g[x]=s[x])}else g=s;return ma(t),s=Wo(e,t,n,g,d,c),x=Yo(),e!==null&&!Ke?(Po(e,t,c),xn(e,t,c)):(ve&&x&&To(t),t.flags|=1,lt(e,t,s,c),t.child)}function ff(e,t,n,s,c){if(e===null){var d=n.type;return typeof d=="function"&&!wo(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,pf(e,t,d,s,c)):(e=vr(n.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!xc(e,c)){var g=d.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(g,s)&&e.ref===t.ref)return xn(e,t,c)}return t.flags|=1,e=hn(d,s),e.ref=t.ref,e.return=t,t.child=e}function pf(e,t,n,s,c){if(e!==null){var d=e.memoizedProps;if(Ji(d,s)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=s=d,xc(e,c))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,xn(e,t,c)}return dc(e,t,n,s,c)}function gf(e,t,n,s){var c=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~d}else s=0,t.child=null;return mf(e,t,d,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wr(t,d!==null?d.cachePool:null),d!==null?yh(t,d):$o(),xh(t);else return s=t.lanes=536870912,mf(e,t,d!==null?d.baseLanes|n:n,n,s)}else d!==null?(wr(t,d.cachePool),yh(t,d),In(),t.memoizedState=null):(e!==null&&wr(t,null),$o(),In());return lt(e,t,c,n),t.child}function ds(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function mf(e,t,n,s,c){var d=Uo();return d=d===null?null:{parent:Ye._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&wr(t,null),$o(),xh(t),e!==null&&Fa(e,t,s,!0),t.childLanes=c,null}function qr(e,t){return t=$r({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yf(e,t,n){return ba(t,e.child,null,n),e=qr(t,t.pendingProps),e.flags|=2,kt(t),t.memoizedState=null,e}function ny(e,t,n){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(s.mode==="hidden")return e=qr(t,s),t.lanes=536870912,ds(null,e);if(Go(t),(e=Ue)?(e=Rp(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},n=Fd(e),n.return=t,t.child=n,st=t,Ue=null)):e=null,e===null)throw Mn(t);return t.lanes=536870912,null}return qr(t,s)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(Go(t),c)if(t.flags&256)t.flags&=-257,t=yf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ke||Fa(e,t,n,!1),c=(n&e.childLanes)!==0,Ke||c){if(s=Oe,s!==null&&(g=rd(s,n),g!==0&&g!==d.retryLane))throw d.retryLane=g,ha(e,g),bt(s,e,g),uc;Jr(),t=yf(e,t,n)}else e=d.treeContext,Ue=Gt(g.nextSibling),st=t,ve=!0,Un=null,$t=!1,e!==null&&nh(t,e),t=qr(t,s),t.flags|=4096;return t}return e=hn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function dc(e,t,n,s,c){return ma(t),n=Wo(e,t,n,s,void 0,c),s=Yo(),e!==null&&!Ke?(Po(e,t,c),xn(e,t,c)):(ve&&s&&To(t),t.flags|=1,lt(e,t,n,c),t.child)}function xf(e,t,n,s,c,d){return ma(t),t.updateQueue=null,n=bh(t,s,n,c),vh(e),s=Yo(),e!==null&&!Ke?(Po(e,t,d),xn(e,t,d)):(ve&&s&&To(t),t.flags|=1,lt(e,t,n,d),t.child)}function vf(e,t,n,s,c){if(ma(t),t.stateNode===null){var d=Xa,g=n.contextType;typeof g=="object"&&g!==null&&(d=rt(g)),d=new n(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=oc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Bo(t),g=n.contextType,d.context=typeof g=="object"&&g!==null?rt(g):Xa,d.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(lc(t,n,g,s),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&oc.enqueueReplaceState(d,d.state,null),rs(t,s,d,c),ss(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var x=t.memoizedProps,w=Sa(n,x);d.props=w;var U=d.context,V=n.contextType;g=Xa,typeof V=="object"&&V!==null&&(g=rt(V));var Y=n.getDerivedStateFromProps;V=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||U!==g)&&sf(t,d,s,g),Ln=!1;var M=t.memoizedState;d.state=M,rs(t,s,d,c),ss(),U=t.memoizedState,x||M!==U||Ln?(typeof Y=="function"&&(lc(t,n,Y,s),U=t.memoizedState),(w=Ln||af(t,n,w,s,M,U,g))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),d.props=s,d.state=U,d.context=g,s=w):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Lo(e,t),g=t.memoizedProps,V=Sa(n,g),d.props=V,Y=t.pendingProps,M=d.context,U=n.contextType,w=Xa,typeof U=="object"&&U!==null&&(w=rt(U)),x=n.getDerivedStateFromProps,(U=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==Y||M!==w)&&sf(t,d,s,w),Ln=!1,M=t.memoizedState,d.state=M,rs(t,s,d,c),ss();var H=t.memoizedState;g!==Y||M!==H||Ln||e!==null&&e.dependencies!==null&&_r(e.dependencies)?(typeof x=="function"&&(lc(t,n,x,s),H=t.memoizedState),(V=Ln||af(t,n,V,s,M,H,w)||e!==null&&e.dependencies!==null&&_r(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,H,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,H,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=H),d.props=s,d.state=H,d.context=w,s=V):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Hr(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=ba(t,e.child,null,c),t.child=ba(t,null,n,c)):lt(e,t,n,c),t.memoizedState=d.state,e=t.child):e=xn(e,t,c),e}function bf(e,t,n,s){return pa(),t.flags|=256,lt(e,t,n,s),t.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fc(e){return{baseLanes:e,cachePool:oh()}}function pc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ct),e}function _f(e,t,n){var s=t.pendingProps,c=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(c?$n(t):In(),(e=Ue)?(e=Rp(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},n=Fd(e),n.return=t,t.child=n,st=t,Ue=null)):e=null,e===null)throw Mn(t);return Jc(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,c?(In(),c=t.mode,x=$r({mode:"hidden",children:x},c),s=fa(s,c,n,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=fc(n),s.childLanes=pc(e,g,n),t.memoizedState=hc,ds(null,s)):($n(t),gc(t,x))}var w=e.memoizedState;if(w!==null&&(x=w.dehydrated,x!==null)){if(d)t.flags&256?($n(t),t.flags&=-257,t=mc(e,t,n)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),x=s.fallback,c=t.mode,s=$r({mode:"visible",children:s.children},c),x=fa(x,c,n,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,ba(t,e.child,null,n),s=t.child,s.memoizedState=fc(n),s.childLanes=pc(e,g,n),t.memoizedState=hc,t=ds(null,s));else if($n(t),Jc(x)){if(g=x.nextSibling&&x.nextSibling.dataset,g)var U=g.dgst;g=U,s=Error(l(419)),s.stack="",s.digest=g,Fi({value:s,source:null,stack:null}),t=mc(e,t,n)}else if(Ke||Fa(e,t,n,!1),g=(n&e.childLanes)!==0,Ke||g){if(g=Oe,g!==null&&(s=rd(g,n),s!==0&&s!==w.retryLane))throw w.retryLane=s,ha(e,s),bt(g,e,s),uc;Xc(x)||Jr(),t=mc(e,t,n)}else Xc(x)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ue=Gt(x.nextSibling),st=t,ve=!0,Un=null,$t=!1,e!==null&&nh(t,e),t=gc(t,s.children),t.flags|=4096);return t}return c?(In(),x=s.fallback,c=t.mode,w=e.child,U=w.sibling,s=hn(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,U!==null?x=hn(U,x):(x=fa(x,c,n,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,ds(null,s),s=t.child,x=e.child.memoizedState,x===null?x=fc(n):(c=x.cachePool,c!==null?(w=Ye._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=oh(),x={baseLanes:x.baseLanes|n,cachePool:c}),s.memoizedState=x,s.childLanes=pc(e,g,n),t.memoizedState=hc,ds(e.child,s)):($n(t),n=e.child,e=n.sibling,n=hn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function gc(e,t){return t=$r({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $r(e,t){return e=Tt(22,e,null,t),e.lanes=0,e}function mc(e,t,n){return ba(t,e.child,null,n),e=gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),zo(e.return,t,n)}function yc(e,t,n,s,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:c,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=n,g.tailMode=c,g.treeForkCount=d)}function wf(e,t,n){var s=t.pendingProps,c=s.revealOrder,d=s.tail;s=s.children;var g=Ve.current,x=(g&2)!==0;if(x?(g=g&1|2,t.flags|=128):g&=1,Q(Ve,g),lt(e,t,s,n),s=ve?Zi:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sf(e,n,t);else if(e.tag===19)Sf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Rr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),yc(t,!1,c,n,d,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Rr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}yc(t,!0,n,null,d,s);break;case"together":yc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Fa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_r(e)))}function ay(e,t,n){switch(t.tag){case 3:Ee(t,t.stateNode.containerInfo),Bn(t,Ye,e.memoizedState.cache),pa();break;case 27:case 5:nn(t);break;case 4:Ee(t,t.stateNode.containerInfo);break;case 10:Bn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Go(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?($n(t),t.flags|=128,null):(n&t.child.childLanes)!==0?_f(e,t,n):($n(t),e=xn(e,t,n),e!==null?e.sibling:null);$n(t);break;case 19:var c=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Fa(e,t,n,!1),s=(n&t.childLanes)!==0),c){if(s)return wf(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(Ve,Ve.current),s)break;return null;case 22:return t.lanes=0,gf(e,t,n,t.pendingProps);case 24:Bn(t,Ye,e.memoizedState.cache)}return xn(e,t,n)}function jf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!xc(e,n)&&(t.flags&128)===0)return Ke=!1,ay(e,t,n);Ke=(e.flags&131072)!==0}else Ke=!1,ve&&(t.flags&1048576)!==0&&th(t,Zi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=xa(t.elementType),t.type=e,typeof e=="function")wo(e)?(s=Sa(e,s),t.tag=1,t=vf(null,t,e,s,n)):(t.tag=0,t=dc(null,t,e,s,n));else{if(e!=null){var c=e.$$typeof;if(c===J){t.tag=11,t=hf(null,t,e,s,n);break e}else if(c===K){t.tag=14,t=ff(null,t,e,s,n);break e}}throw t=Ze(e)||e,Error(l(306,t,""))}}return t;case 0:return dc(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,c=Sa(s,t.pendingProps),vf(e,t,s,c,n);case 3:e:{if(Ee(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;c=d.element,Lo(e,t),rs(t,s,null,n);var g=t.memoizedState;if(s=g.cache,Bn(t,Ye,s),s!==d.cache&&Oo(t,[Ye],n,!0),ss(),s=g.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=bf(e,t,s,n);break e}else if(s!==c){c=Lt(Error(l(424)),t),Fi(c),t=bf(e,t,s,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ue=Gt(e.firstChild),st=t,ve=!0,Un=null,$t=!0,n=ph(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),s===c){t=xn(e,t,n);break e}lt(e,t,s,n)}t=t.child}return t;case 26:return Hr(e,t),e===null?(n=Up(t.type,null,t.pendingProps,null))?t.memoizedState=n:ve||(n=t.type,e=t.pendingProps,s=al(F.current).createElement(n),s[it]=t,s[pt]=e,ot(s,n,e),tt(s),t.stateNode=s):t.memoizedState=Up(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nn(t),e===null&&ve&&(s=t.stateNode=Op(t.type,t.pendingProps,F.current),st=t,$t=!0,c=Ue,Jn(t.type)?(Qc=c,Ue=Gt(s.firstChild)):Ue=c),lt(e,t,t.pendingProps.children,n),Hr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((c=s=Ue)&&(s=Ny(s,t.type,t.pendingProps,$t),s!==null?(t.stateNode=s,st=t,Ue=Gt(s.firstChild),$t=!1,c=!0):c=!1),c||Mn(t)),nn(t),c=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,s=d.children,Yc(c,d)?s=null:g!==null&&Yc(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=Wo(e,t,Km,null,null,n),Ts._currentValue=c),Hr(e,t),lt(e,t,s,n),t.child;case 6:return e===null&&ve&&((e=n=Ue)&&(n=Dy(n,t.pendingProps,$t),n!==null?(t.stateNode=n,st=t,Ue=null,e=!0):e=!1),e||Mn(t)),null;case 13:return _f(e,t,n);case 4:return Ee(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ba(t,null,s,n):lt(e,t,s,n),t.child;case 11:return hf(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Bn(t,t.type,s.value),lt(e,t,s.children,n),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,ma(t),c=rt(c),s=s(c),t.flags|=1,lt(e,t,s,n),t.child;case 14:return ff(e,t,t.type,t.pendingProps,n);case 15:return pf(e,t,t.type,t.pendingProps,n);case 19:return wf(e,t,n);case 31:return ny(e,t,n);case 22:return gf(e,t,n,t.pendingProps);case 24:return ma(t),s=rt(Ye),e===null?(c=Uo(),c===null&&(c=Oe,d=No(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=n),c=d),t.memoizedState={parent:s,cache:c},Bo(t),Bn(t,Ye,c)):((e.lanes&n)!==0&&(Lo(e,t),rs(t,null,null,n),ss()),c=e.memoizedState,d=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Bn(t,Ye,s)):(s=d.cache,Bn(t,Ye,s),s!==c.cache&&Oo(t,[Ye],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function vn(e){e.flags|=4}function vc(e,t,n,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Qf())e.flags|=8192;else throw va=Er,Mo}else e.flags&=-16777217}function Ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hp(t))if(Qf())e.flags|=8192;else throw va=Er,Mo}function Ir(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ad():536870912,e.lanes|=t,di|=t)}function hs(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function iy(e,t,n){var s=t.pendingProps;switch(Ao(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),gn(Ye),Ne(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Za(t)?vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ro())),Me(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(vn(t),d!==null?(Me(t),Ef(t,d)):(Me(t),vc(t,c,null,s,n))):d?d!==e.memoizedState?(vn(t),Me(t),Ef(t,d)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&vn(t),Me(t),vc(t,c,e,s,n)),null;case 27:if(Ua(t),n=F.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Me(t),null}e=Z.current,Za(t)?ah(t):(e=Op(c,s,n),t.stateNode=e,vn(t))}return Me(t),null;case 5:if(Ua(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Me(t),null}if(d=Z.current,Za(t))ah(t);else{var g=al(F.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?g.createElement("select",{is:s.is}):g.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?g.createElement(c,{is:s.is}):g.createElement(c)}}d[it]=t,d[pt]=s;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(ot(d,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vn(t)}}return Me(t),vc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=F.current,Za(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,c=st,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[it]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||_p(e.nodeValue,n)),e||Mn(t,!0)}else e=al(e).createTextNode(s),e[it]=t,t.stateNode=e}return Me(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Za(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[it]=t}else pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else n=Ro(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(kt(t),t):(kt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Me(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Za(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[it]=t}else pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),c=!1}else c=Ro(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(kt(t),t):(kt(t),null)}return kt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ir(t,t.updateQueue),Me(t),null);case 4:return Ne(),e===null&&$c(t.stateNode.containerInfo),Me(t),null;case 10:return gn(t.type),Me(t),null;case 19:if(G(Ve),s=t.memoizedState,s===null)return Me(t),null;if(c=(t.flags&128)!==0,d=s.rendering,d===null)if(c)hs(s,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Rr(e),d!==null){for(t.flags|=128,hs(s,!1),e=d.updateQueue,t.updateQueue=e,Ir(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Zd(n,e),n=n.sibling;return Q(Ve,Ve.current&1|2),ve&&fn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&St()>Pr&&(t.flags|=128,c=!0,hs(s,!1),t.lanes=4194304)}else{if(!c)if(e=Rr(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ir(t,e),hs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!ve)return Me(t),null}else 2*St()-s.renderingStartTime>Pr&&n!==536870912&&(t.flags|=128,c=!0,hs(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=Ve.current,Q(Ve,c?n&1|2:n&1),ve&&fn(t,s.treeForkCount),e):(Me(t),null);case 22:case 23:return kt(t),Io(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),n=t.updateQueue,n!==null&&Ir(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&G(ya),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),gn(Ye),Me(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function sy(e,t){switch(Ao(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(Ye),Ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ua(t),null;case 31:if(t.memoizedState!==null){if(kt(t),t.alternate===null)throw Error(l(340));pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Ve),null;case 4:return Ne(),null;case 10:return gn(t.type),null;case 22:case 23:return kt(t),Io(),e!==null&&G(ya),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gn(Ye),null;case 25:return null;default:return null}}function Tf(e,t){switch(Ao(t),t.tag){case 3:gn(Ye),Ne();break;case 26:case 27:case 5:Ua(t);break;case 4:Ne();break;case 31:t.memoizedState!==null&&kt(t);break;case 13:kt(t);break;case 19:G(Ve);break;case 10:gn(t.type);break;case 22:case 23:kt(t),Io(),e!==null&&G(ya);break;case 24:gn(Ye)}}function fs(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var c=s.next;n=c;do{if((n.tag&e)===e){s=void 0;var d=n.create,g=n.inst;s=d(),g.destroy=s}n=n.next}while(n!==c)}}catch(x){Ae(t,t.return,x)}}function Gn(e,t,n){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&e)===e){var g=s.inst,x=g.destroy;if(x!==void 0){g.destroy=void 0,c=t;var w=n,U=x;try{U()}catch(V){Ae(c,w,V)}}}s=s.next}while(s!==d)}}catch(V){Ae(t,t.return,V)}}function Af(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mh(t,n)}catch(s){Ae(e,e.return,s)}}}function kf(e,t,n){n.props=Sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ae(e,t,s)}}function ps(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(c){Ae(e,t,c)}}function rn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(c){Ae(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ae(e,t,c)}else n.current=null}function Rf(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(c){Ae(e,e.return,c)}}function bc(e,t,n){try{var s=e.stateNode;Ay(s,e.type,n,t),s[pt]=t}catch(c){Ae(e,e.return,c)}}function Cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function _c(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=un));else if(s!==4&&(s===27&&Jn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Sc(e,t,n),e=e.sibling;e!==null;)Sc(e,t,n),e=e.sibling}function Gr(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Jn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gr(e,t,n),e=e.sibling;e!==null;)Gr(e,t,n),e=e.sibling}function zf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ot(t,s,n),t[it]=e,t[pt]=n}catch(d){Ae(e,e.return,d)}}var bn=!1,Xe=!1,wc=!1,Of=typeof WeakSet=="function"?WeakSet:Set,nt=null;function ry(e,t){if(e=e.containerInfo,Vc=ul,e=Gd(e),mo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var c=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var g=0,x=-1,w=-1,U=0,V=0,Y=e,M=null;t:for(;;){for(var H;Y!==n||c!==0&&Y.nodeType!==3||(x=g+c),Y!==d||s!==0&&Y.nodeType!==3||(w=g+s),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)M=Y,Y=H;for(;;){if(Y===e)break t;if(M===n&&++U===c&&(x=g),M===d&&++V===s&&(w=g),(H=Y.nextSibling)!==null)break;Y=M,M=Y.parentNode}Y=H}n=x===-1||w===-1?null:{start:x,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wc={focusedElem:e,selectionRange:n},ul=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,c=d.memoizedProps,d=d.memoizedState,s=n.stateNode;try{var ee=Sa(n.type,c);e=s.getSnapshotBeforeUpdate(ee,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ae(n,n.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Kc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Nf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(e,n),s&4&&fs(5,n);break;case 1:if(Sn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){Ae(n,n.return,g)}else{var c=Sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ae(n,n.return,g)}}s&64&&Af(n),s&512&&ps(n,n.return);break;case 3:if(Sn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mh(e,t)}catch(g){Ae(n,n.return,g)}}break;case 27:t===null&&s&4&&zf(n);case 26:case 5:Sn(e,n),t===null&&s&4&&Rf(n),s&512&&ps(n,n.return);break;case 12:Sn(e,n);break;case 31:Sn(e,n),s&4&&Mf(e,n);break;case 13:Sn(e,n),s&4&&Bf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=gy.bind(null,n),Uy(e,n))));break;case 22:if(s=n.memoizedState!==null||bn,!s){t=t!==null&&t.memoizedState!==null||Xe,c=bn;var d=Xe;bn=s,(Xe=t)&&!d?wn(e,n,(n.subtreeFlags&8772)!==0):Sn(e,n),bn=c,Xe=d}break;case 30:break;default:Sn(e,n)}}function Df(e){var t=e.alternate;t!==null&&(e.alternate=null,Df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,mt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Uf(e,t,n),n=n.sibling}function Uf(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Li,n)}catch{}switch(n.tag){case 26:Xe||rn(n,t),_n(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||rn(n,t);var s=Be,c=mt;Jn(n.type)&&(Be=n.stateNode,mt=!1),_n(e,t,n),ws(n.stateNode),Be=s,mt=c;break;case 5:Xe||rn(n,t);case 6:if(s=Be,c=mt,Be=null,_n(e,t,n),Be=s,mt=c,Be!==null)if(mt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(n.stateNode)}catch(d){Ae(n,t,d)}else try{Be.removeChild(n.stateNode)}catch(d){Ae(n,t,d)}break;case 18:Be!==null&&(mt?(e=Be,Ap(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),vi(e)):Ap(Be,n.stateNode));break;case 4:s=Be,c=mt,Be=n.stateNode.containerInfo,mt=!0,_n(e,t,n),Be=s,mt=c;break;case 0:case 11:case 14:case 15:Gn(2,n,t),Xe||Gn(4,n,t),_n(e,t,n);break;case 1:Xe||(rn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&kf(n,t,s)),_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:Xe=(s=Xe)||n.memoizedState!==null,_n(e,t,n),Xe=s;break;default:_n(e,t,n)}}function Mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vi(e)}catch(n){Ae(t,t.return,n)}}}function Bf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vi(e)}catch(n){Ae(t,t.return,n)}}function ly(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Of),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Of),t;default:throw Error(l(435,e.tag))}}function Vr(e,t){var n=ly(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var c=my.bind(null,e,s);s.then(c,c)}})}function yt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var c=n[s],d=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 27:if(Jn(x.type)){Be=x.stateNode,mt=!1;break e}break;case 5:Be=x.stateNode,mt=!1;break e;case 3:case 4:Be=x.stateNode.containerInfo,mt=!0;break e}x=x.return}if(Be===null)throw Error(l(160));Uf(d,g,c),Be=null,mt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lf(t,e),t=t.sibling}var Pt=null;function Lf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),xt(e),s&4&&(Gn(3,e,e.return),fs(3,e),Gn(5,e,e.return));break;case 1:yt(t,e),xt(e),s&512&&(Xe||n===null||rn(n,n.return)),s&64&&bn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var c=Pt;if(yt(t,e),xt(e),s&512&&(Xe||n===null||rn(n,n.return)),s&4){var d=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":d=c.getElementsByTagName("title")[0],(!d||d[$i]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(s),c.head.insertBefore(d,c.querySelector("head > title"))),ot(d,s,n),d[it]=e,tt(d),s=d;break e;case"link":var g=Lp("link","href",c).get(s+(n.href||""));if(g){for(var x=0;x<g.length;x++)if(d=g[x],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(x,1);break t}}d=c.createElement(s),ot(d,s,n),c.head.appendChild(d);break;case"meta":if(g=Lp("meta","content",c).get(s+(n.content||""))){for(x=0;x<g.length;x++)if(d=g[x],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(x,1);break t}}d=c.createElement(s),ot(d,s,n),c.head.appendChild(d);break;default:throw Error(l(468,s))}d[it]=e,tt(d),s=d}e.stateNode=s}else qp(c,e.type,e.stateNode);else e.stateNode=Bp(c,s,e.memoizedProps);else d!==s?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,s===null?qp(c,e.type,e.stateNode):Bp(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&bc(e,e.memoizedProps,n.memoizedProps)}break;case 27:yt(t,e),xt(e),s&512&&(Xe||n===null||rn(n,n.return)),n!==null&&s&4&&bc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(yt(t,e),xt(e),s&512&&(Xe||n===null||rn(n,n.return)),e.flags&32){c=e.stateNode;try{Ia(c,"")}catch(ee){Ae(e,e.return,ee)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,bc(e,c,n!==null?n.memoizedProps:c)),s&1024&&(wc=!0);break;case 6:if(yt(t,e),xt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(ee){Ae(e,e.return,ee)}}break;case 3:if(rl=null,c=Pt,Pt=il(t.containerInfo),yt(t,e),Pt=c,xt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(t.containerInfo)}catch(ee){Ae(e,e.return,ee)}wc&&(wc=!1,qf(e));break;case 4:s=Pt,Pt=il(e.stateNode.containerInfo),yt(t,e),xt(e),Pt=s;break;case 12:yt(t,e),xt(e);break;case 31:yt(t,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Vr(e,s)));break;case 13:yt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Yr=St()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Vr(e,s)));break;case 22:c=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,U=bn,V=Xe;if(bn=U||c,Xe=V||w,yt(t,e),Xe=V,bn=U,xt(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||w||bn||Xe||wa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(d=w.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{x=w.stateNode;var Y=w.memoizedProps.style,M=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(ee){Ae(w,w.return,ee)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(ee){Ae(w,w.return,ee)}}}else if(t.tag===18){if(n===null){w=t;try{var H=w.stateNode;c?kp(H,!0):kp(w.stateNode,!1)}catch(ee){Ae(w,w.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Vr(e,n))));break;case 19:yt(t,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Vr(e,s)));break;case 30:break;case 21:break;default:yt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Cf(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var c=n.stateNode,d=_c(e);Gr(e,d,c);break;case 5:var g=n.stateNode;n.flags&32&&(Ia(g,""),n.flags&=-33);var x=_c(e);Gr(e,x,g);break;case 3:case 4:var w=n.stateNode.containerInfo,U=_c(e);Sc(e,U,w);break;default:throw Error(l(161))}}catch(V){Ae(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Nf(e,t.alternate,t),t=t.sibling}function wa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gn(4,t,t.return),wa(t);break;case 1:rn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&kf(t,t.return,n),wa(t);break;case 27:ws(t.stateNode);case 26:case 5:rn(t,t.return),wa(t);break;case 22:t.memoizedState===null&&wa(t);break;case 30:wa(t);break;default:wa(t)}e=e.sibling}}function wn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:wn(c,d,n),fs(4,d);break;case 1:if(wn(c,d,n),s=d,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){Ae(s,s.return,U)}if(s=d,c=s.updateQueue,c!==null){var x=s.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)gh(w[c],x)}catch(U){Ae(s,s.return,U)}}n&&g&64&&Af(d),ps(d,d.return);break;case 27:zf(d);case 26:case 5:wn(c,d,n),n&&s===null&&g&4&&Rf(d),ps(d,d.return);break;case 12:wn(c,d,n);break;case 31:wn(c,d,n),n&&g&4&&Mf(c,d);break;case 13:wn(c,d,n),n&&g&4&&Bf(c,d);break;case 22:d.memoizedState===null&&wn(c,d,n),ps(d,d.return);break;case 30:break;default:wn(c,d,n)}t=t.sibling}}function jc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&es(n))}function Ec(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&es(e))}function Kt(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hf(e,t,n,s),t=t.sibling}function Hf(e,t,n,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,n,s),c&2048&&fs(9,t);break;case 1:Kt(e,t,n,s);break;case 3:Kt(e,t,n,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&es(e)));break;case 12:if(c&2048){Kt(e,t,n,s),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,x=d.onPostCommit;typeof x=="function"&&x(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ae(t,t.return,w)}}else Kt(e,t,n,s);break;case 31:Kt(e,t,n,s);break;case 13:Kt(e,t,n,s);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Kt(e,t,n,s):gs(e,t):d._visibility&2?Kt(e,t,n,s):(d._visibility|=2,oi(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&jc(g,t);break;case 24:Kt(e,t,n,s),c&2048&&Ec(t.alternate,t);break;default:Kt(e,t,n,s)}}function oi(e,t,n,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,x=n,w=s,U=g.flags;switch(g.tag){case 0:case 11:case 15:oi(d,g,x,w,c),fs(8,g);break;case 23:break;case 22:var V=g.stateNode;g.memoizedState!==null?V._visibility&2?oi(d,g,x,w,c):gs(d,g):(V._visibility|=2,oi(d,g,x,w,c)),c&&U&2048&&jc(g.alternate,g);break;case 24:oi(d,g,x,w,c),c&&U&2048&&Ec(g.alternate,g);break;default:oi(d,g,x,w,c)}t=t.sibling}}function gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,c=s.flags;switch(s.tag){case 22:gs(n,s),c&2048&&jc(s.alternate,s);break;case 24:gs(n,s),c&2048&&Ec(s.alternate,s);break;default:gs(n,s)}t=t.sibling}}var ms=8192;function ci(e,t,n){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)$f(e,t,n),e=e.sibling}function $f(e,t,n){switch(e.tag){case 26:ci(e,t,n),e.flags&ms&&e.memoizedState!==null&&Py(n,Pt,e.memoizedState,e.memoizedProps);break;case 5:ci(e,t,n);break;case 3:case 4:var s=Pt;Pt=il(e.stateNode.containerInfo),ci(e,t,n),Pt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ms,ms=16777216,ci(e,t,n),ms=s):ci(e,t,n));break;default:ci(e,t,n)}}function If(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ys(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];nt=s,Vf(s,e)}If(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gf(e),e=e.sibling}function Gf(e){switch(e.tag){case 0:case 11:case 15:ys(e),e.flags&2048&&Gn(9,e,e.return);break;case 3:ys(e);break;case 12:ys(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wr(e)):ys(e);break;default:ys(e)}}function Wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];nt=s,Vf(s,e)}If(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gn(8,t,t.return),Wr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wr(t));break;default:Wr(t)}e=e.sibling}}function Vf(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:Gn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:es(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,nt=s;else e:for(n=e;nt!==null;){s=nt;var c=s.sibling,d=s.return;if(Df(s),s===n){nt=null;break e}if(c!==null){c.return=d,nt=c;break e}nt=d}}}var oy={getCacheForType:function(e){var t=rt(Ye),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return rt(Ye).controller.signal}},cy=typeof WeakMap=="function"?WeakMap:Map,je=0,Oe=null,ge=null,ye=0,Te=0,Rt=null,Vn=!1,ui=!1,Tc=!1,jn=0,$e=0,Wn=0,ja=0,Ac=0,Ct=0,di=0,xs=null,vt=null,kc=!1,Yr=0,Wf=0,Pr=1/0,Kr=null,Yn=null,Fe=0,Pn=null,hi=null,En=0,Rc=0,Cc=null,Yf=null,vs=0,zc=null;function zt(){return(je&2)!==0&&ye!==0?ye&-ye:$.T!==null?Bc():ld()}function Pf(){if(Ct===0)if((ye&536870912)===0||ve){var e=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Ct=e}else Ct=536870912;return e=At.current,e!==null&&(e.flags|=32),Ct}function bt(e,t,n){(e===Oe&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(fi(e,0),Kn(e,ye,Ct,!1)),Hi(e,n),((je&2)===0||e!==Oe)&&(e===Oe&&((je&2)===0&&(ja|=n),$e===4&&Kn(e,ye,Ct,!1)),ln(e))}function Kf(e,t,n){if((je&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||qi(e,t),c=s?hy(e,t):Nc(e,t,!0),d=s;do{if(c===0){ui&&!s&&Kn(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!uy(n)){c=Nc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var x=e;c=xs;var w=x.current.memoizedState.isDehydrated;if(w&&(fi(x,g).flags|=256),g=Nc(x,g,!1),g!==2){if(Tc&&!w){x.errorRecoveryDisabledLanes|=d,ja|=d,c=4;break e}d=vt,vt=c,d!==null&&(vt===null?vt=d:vt.push.apply(vt,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){fi(e,0),Kn(e,t,0,!0);break}e:{switch(s=e,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Kn(s,t,Ct,!Vn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Yr+300-St(),10<c)){if(Kn(s,t,Ct,!Vn),ir(s,0,!0)!==0)break e;En=t,s.timeoutHandle=Ep(Xf.bind(null,s,n,vt,Kr,kc,t,Ct,ja,di,Vn,d,"Throttled",-0,0),c);break e}Xf(s,n,vt,Kr,kc,t,Ct,ja,di,Vn,d,null,-0,0)}}break}while(!0);ln(e)}function Xf(e,t,n,s,c,d,g,x,w,U,V,Y,M,H){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},$f(t,d,Y);var ee=(d&62914560)===d?Yr-St():(d&4194048)===d?Wf-St():0;if(ee=Ky(Y,ee),ee!==null){En=d,e.cancelPendingCommit=ee(ap.bind(null,e,t,d,n,s,c,g,x,w,V,Y,null,M,H)),Kn(e,d,g,!U);return}}ap(e,t,d,n,s,c,g,x,w)}function uy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var c=n[s],d=c.getSnapshot;c=c.value;try{if(!Et(d(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t,n,s){t&=~Ac,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var d=31-jt(c),g=1<<d;s[d]=-1,c&=~g}n!==0&&id(e,n,t)}function Xr(){return(je&6)===0?(bs(0),!1):!0}function Oc(){if(ge!==null){if(Te===0)var e=ge.return;else e=ge,pn=ga=null,Ko(e),ai=null,ns=0,e=ge;for(;e!==null;)Tf(e.alternate,e),e=e.return;ge=null}}function fi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Cy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),En=0,Oc(),Oe=e,ge=n=hn(e.current,null),ye=t,Te=0,Rt=null,Vn=!1,ui=qi(e,t),Tc=!1,di=Ct=Ac=ja=Wn=$e=0,vt=xs=null,kc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-jt(s),d=1<<c;t|=e[c],s&=~d}return jn=t,mr(),n}function Jf(e,t){fe=null,$.H=us,t===ni||t===jr?(t=dh(),Te=3):t===Mo?(t=dh(),Te=4):Te=t===uc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,ge===null&&($e=1,Lr(e,Lt(t,e.current)))}function Qf(){var e=At.current;return e===null?!0:(ye&4194048)===ye?It===null:(ye&62914560)===ye||(ye&536870912)!==0?e===It:!1}function Zf(){var e=$.H;return $.H=us,e===null?us:e}function Ff(){var e=$.A;return $.A=oy,e}function Jr(){$e=4,Vn||(ye&4194048)!==ye&&At.current!==null||(ui=!0),(Wn&134217727)===0&&(ja&134217727)===0||Oe===null||Kn(Oe,ye,Ct,!1)}function Nc(e,t,n){var s=je;je|=2;var c=Zf(),d=Ff();(Oe!==e||ye!==t)&&(Kr=null,fi(e,t)),t=!1;var g=$e;e:do try{if(Te!==0&&ge!==null){var x=ge,w=Rt;switch(Te){case 8:Oc(),g=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(t=!0);var U=Te;if(Te=0,Rt=null,pi(e,x,w,U),n&&ui){g=0;break e}break;default:U=Te,Te=0,Rt=null,pi(e,x,w,U)}}dy(),g=$e;break}catch(V){Jf(e,V)}while(!0);return t&&e.shellSuspendCounter++,pn=ga=null,je=s,$.H=c,$.A=d,ge===null&&(Oe=null,ye=0,mr()),g}function dy(){for(;ge!==null;)ep(ge)}function hy(e,t){var n=je;je|=2;var s=Zf(),c=Ff();Oe!==e||ye!==t?(Kr=null,Pr=St()+500,fi(e,t)):ui=qi(e,t);e:do try{if(Te!==0&&ge!==null){t=ge;var d=Rt;t:switch(Te){case 1:Te=0,Rt=null,pi(e,t,d,1);break;case 2:case 9:if(ch(d)){Te=0,Rt=null,tp(t);break}t=function(){Te!==2&&Te!==9||Oe!==e||(Te=7),ln(e)},d.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:ch(d)?(Te=0,Rt=null,tp(t)):(Te=0,Rt=null,pi(e,t,d,7));break;case 5:var g=null;switch(ge.tag){case 26:g=ge.memoizedState;case 5:case 27:var x=ge;if(g?Hp(g):x.stateNode.complete){Te=0,Rt=null;var w=x.sibling;if(w!==null)ge=w;else{var U=x.return;U!==null?(ge=U,Qr(U)):ge=null}break t}}Te=0,Rt=null,pi(e,t,d,5);break;case 6:Te=0,Rt=null,pi(e,t,d,6);break;case 8:Oc(),$e=6;break e;default:throw Error(l(462))}}fy();break}catch(V){Jf(e,V)}while(!0);return pn=ga=null,$.H=s,$.A=c,je=n,ge!==null?0:(Oe=null,ye=0,mr(),$e)}function fy(){for(;ge!==null&&!M0();)ep(ge)}function ep(e){var t=jf(e.alternate,e,jn);e.memoizedProps=e.pendingProps,t===null?Qr(e):ge=t}function tp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xf(n,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=xf(n,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:Ko(t);default:Tf(n,t),t=ge=Zd(t,jn),t=jf(n,t,jn)}e.memoizedProps=e.pendingProps,t===null?Qr(e):ge=t}function pi(e,t,n,s){pn=ga=null,Ko(t),ai=null,ns=0;var c=t.return;try{if(ty(e,c,t,n,ye)){$e=1,Lr(e,Lt(n,e.current)),ge=null;return}}catch(d){if(c!==null)throw ge=c,d;$e=1,Lr(e,Lt(n,e.current)),ge=null;return}t.flags&32768?(ve||s===1?e=!0:ui||(ye&536870912)!==0?e=!1:(Vn=e=!0,(s===2||s===9||s===3||s===6)&&(s=At.current,s!==null&&s.tag===13&&(s.flags|=16384))),np(t,e)):Qr(t)}function Qr(e){var t=e;do{if((t.flags&32768)!==0){np(t,Vn);return}e=t.return;var n=iy(t.alternate,t,jn);if(n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);$e===0&&($e=5)}function np(e,t){do{var n=sy(e.alternate,e);if(n!==null){n.flags&=32767,ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=n}while(e!==null);$e=6,ge=null}function ap(e,t,n,s,c,d,g,x,w){e.cancelPendingCommit=null;do Zr();while(Fe!==0);if((je&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=_o,Y0(e,n,d,g,x,w),e===Oe&&(ge=Oe=null,ye=0),hi=t,Pn=e,En=n,Rc=d,Cc=c,Yf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yy(er,function(){return op(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=$.T,$.T=null,c=q.p,q.p=2,g=je,je|=4;try{ry(e,t,n)}finally{je=g,q.p=c,$.T=s}}Fe=1,ip(),sp(),rp()}}function ip(){if(Fe===1){Fe=0;var e=Pn,t=hi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=$.T,$.T=null;var s=q.p;q.p=2;var c=je;je|=4;try{Lf(t,e);var d=Wc,g=Gd(e.containerInfo),x=d.focusedElem,w=d.selectionRange;if(g!==x&&x&&x.ownerDocument&&Id(x.ownerDocument.documentElement,x)){if(w!==null&&mo(x)){var U=w.start,V=w.end;if(V===void 0&&(V=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min(V,x.value.length);else{var Y=x.ownerDocument||document,M=Y&&Y.defaultView||window;if(M.getSelection){var H=M.getSelection(),ee=x.textContent.length,re=Math.min(w.start,ee),Ce=w.end===void 0?re:Math.min(w.end,ee);!H.extend&&re>Ce&&(g=Ce,Ce=re,re=g);var O=$d(x,re),k=$d(x,Ce);if(O&&k&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var D=Y.createRange();D.setStart(O.node,O.offset),H.removeAllRanges(),re>Ce?(H.addRange(D),H.extend(k.node,k.offset)):(D.setEnd(k.node,k.offset),H.addRange(D))}}}}for(Y=[],H=x;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var W=Y[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ul=!!Vc,Wc=Vc=null}finally{je=c,q.p=s,$.T=n}}e.current=t,Fe=2}}function sp(){if(Fe===2){Fe=0;var e=Pn,t=hi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=$.T,$.T=null;var s=q.p;q.p=2;var c=je;je|=4;try{Nf(e,t.alternate,t)}finally{je=c,q.p=s,$.T=n}}Fe=3}}function rp(){if(Fe===4||Fe===3){Fe=0,B0();var e=Pn,t=hi,n=En,s=Yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,hi=Pn=null,lp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Yn=null),Jl(n),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=$.T,c=q.p,q.p=2,$.T=null;try{for(var d=e.onRecoverableError,g=0;g<s.length;g++){var x=s[g];d(x.value,{componentStack:x.stack})}}finally{$.T=t,q.p=c}}(En&3)!==0&&Zr(),ln(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===zc?vs++:(vs=0,zc=e):vs=0,bs(0)}}function lp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,es(t)))}function Zr(){return ip(),sp(),rp(),op()}function op(){if(Fe!==5)return!1;var e=Pn,t=Rc;Rc=0;var n=Jl(En),s=$.T,c=q.p;try{q.p=32>n?32:n,$.T=null,n=Cc,Cc=null;var d=Pn,g=En;if(Fe=0,hi=Pn=null,En=0,(je&6)!==0)throw Error(l(331));var x=je;if(je|=4,Gf(d.current),Hf(d,d.current,g,n),je=x,bs(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Li,d)}catch{}return!0}finally{q.p=c,$.T=s,lp(e,t)}}function cp(e,t,n){t=Lt(n,t),t=cc(e.stateNode,t,2),e=Hn(e,t,2),e!==null&&(Hi(e,2),ln(e))}function Ae(e,t,n){if(e.tag===3)cp(e,e,n);else for(;t!==null;){if(t.tag===3){cp(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Yn===null||!Yn.has(s))){e=Lt(n,e),n=uf(2),s=Hn(t,n,2),s!==null&&(df(n,s,t,e),Hi(s,2),ln(s));break}}t=t.return}}function Dc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new cy;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(n)||(Tc=!0,c.add(n),e=py.bind(null,e,t,n),t.then(e,e))}function py(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Oe===e&&(ye&n)===n&&($e===4||$e===3&&(ye&62914560)===ye&&300>St()-Yr?(je&2)===0&&fi(e,0):Ac|=n,di===ye&&(di=0)),ln(e)}function up(e,t){t===0&&(t=ad()),e=ha(e,t),e!==null&&(Hi(e,t),ln(e))}function gy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),up(e,n)}function my(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),up(e,n)}function yy(e,t){return Yl(e,t)}var Fr=null,gi=null,Uc=!1,el=!1,Mc=!1,Xn=0;function ln(e){e!==gi&&e.next===null&&(gi===null?Fr=gi=e:gi=gi.next=e),el=!0,Uc||(Uc=!0,vy())}function bs(e,t){if(!Mc&&el){Mc=!0;do for(var n=!1,s=Fr;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var d=0;else{var g=s.suspendedLanes,x=s.pingedLanes;d=(1<<31-jt(42|e)+1)-1,d&=c&~(g&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,pp(s,d))}else d=ye,d=ir(s,s===Oe?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||qi(s,d)||(n=!0,pp(s,d));s=s.next}while(n);Mc=!1}}function xy(){dp()}function dp(){el=Uc=!1;var e=0;Xn!==0&&Ry()&&(e=Xn);for(var t=St(),n=null,s=Fr;s!==null;){var c=s.next,d=hp(s,t);d===0?(s.next=null,n===null?Fr=c:n.next=c,c===null&&(gi=n)):(n=s,(e!==0||(d&3)!==0)&&(el=!0)),s=c}Fe!==0&&Fe!==5||bs(e),Xn!==0&&(Xn=0)}function hp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-jt(d),x=1<<g,w=c[g];w===-1?((x&n)===0||(x&s)!==0)&&(c[g]=W0(x,t)):w<=t&&(e.expiredLanes|=x),d&=~x}if(t=Oe,n=ye,n=ir(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Pl(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||qi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Pl(s),Jl(n)){case 2:case 8:n=td;break;case 32:n=er;break;case 268435456:n=nd;break;default:n=er}return s=fp.bind(null,e),n=Yl(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Pl(s),e.callbackPriority=2,e.callbackNode=null,2}function fp(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Zr()&&e.callbackNode!==n)return null;var s=ye;return s=ir(e,e===Oe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Kf(e,s,t),hp(e,St()),e.callbackNode!=null&&e.callbackNode===n?fp.bind(null,e):null)}function pp(e,t){if(Zr())return null;Kf(e,t,!0)}function vy(){zy(function(){(je&6)!==0?Yl(ed,xy):dp()})}function Bc(){if(Xn===0){var e=ei;e===0&&(e=tr,tr<<=1,(tr&261888)===0&&(tr=256)),Xn=e}return Xn}function gp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function mp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function by(e,t,n,s,c){if(t==="submit"&&n&&n.stateNode===c){var d=gp((c[pt]||null).action),g=s.submitter;g&&(t=(t=g[pt]||null)?gp(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var x=new hr("action","action",null,s,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Xn!==0){var w=g?mp(c,g):new FormData(c);ac(n,{pending:!0,data:w,method:c.method,action:d},null,w)}}else typeof d=="function"&&(x.preventDefault(),w=g?mp(c,g):new FormData(c),ac(n,{pending:!0,data:w,method:c.method,action:d},d,w))},currentTarget:c}]})}}for(var Lc=0;Lc<bo.length;Lc++){var qc=bo[Lc],_y=qc.toLowerCase(),Sy=qc[0].toUpperCase()+qc.slice(1);Yt(_y,"on"+Sy)}Yt(Yd,"onAnimationEnd"),Yt(Pd,"onAnimationIteration"),Yt(Kd,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Lm,"onTransitionRun"),Yt(qm,"onTransitionStart"),Yt(Hm,"onTransitionCancel"),Yt(Xd,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_s));function yp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],c=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var g=s.length-1;0<=g;g--){var x=s[g],w=x.instance,U=x.currentTarget;if(x=x.listener,w!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=U;try{d(c)}catch(V){gr(V)}c.currentTarget=null,d=w}else for(g=0;g<s.length;g++){if(x=s[g],w=x.instance,U=x.currentTarget,x=x.listener,w!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=U;try{d(c)}catch(V){gr(V)}c.currentTarget=null,d=w}}}}function me(e,t){var n=t[Ql];n===void 0&&(n=t[Ql]=new Set);var s=e+"__bubble";n.has(s)||(xp(t,e,2,!1),n.add(s))}function Hc(e,t,n){var s=0;t&&(s|=4),xp(n,e,s,t)}var tl="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[tl]){e[tl]=!0,ud.forEach(function(n){n!=="selectionchange"&&(wy.has(n)||Hc(n,!1,e),Hc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tl]||(t[tl]=!0,Hc("selectionchange",!1,t))}}function xp(e,t,n,s){switch(Pp(t)){case 2:var c=Qy;break;case 8:c=Zy;break;default:c=nu}n=c.bind(null,t,n,e),c=void 0,!ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Ic(e,t,n,s,c){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var x=s.stateNode.containerInfo;if(x===c)break;if(g===4)for(g=s.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;x!==null;){if(g=Ba(x),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){s=d=g;continue e}x=x.parentNode}}s=s.return}Sd(function(){var U=d,V=io(n),Y=[];e:{var M=Jd.get(e);if(M!==void 0){var H=hr,ee=e;switch(e){case"keypress":if(ur(n)===0)break e;case"keydown":case"keyup":H=mm;break;case"focusin":ee="focus",H=uo;break;case"focusout":ee="blur",H=uo;break;case"beforeblur":case"afterblur":H=uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=vm;break;case Yd:case Pd:case Kd:H=lm;break;case Xd:H=_m;break;case"scroll":case"scrollend":H=nm;break;case"wheel":H=wm;break;case"copy":case"cut":case"paste":H=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ad;break;case"toggle":case"beforetoggle":H=Em}var re=(t&4)!==0,Ce=!re&&(e==="scroll"||e==="scrollend"),O=re?M!==null?M+"Capture":null:M;re=[];for(var k=U,D;k!==null;){var W=k;if(D=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||D===null||O===null||(W=Gi(k,O),W!=null&&re.push(Ss(k,W,D))),Ce)break;k=k.return}0<re.length&&(M=new H(M,ee,null,n,V),Y.push({event:M,listeners:re}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",M&&n!==ao&&(ee=n.relatedTarget||n.fromElement)&&(Ba(ee)||ee[Ma]))break e;if((H||M)&&(M=V.window===V?V:(M=V.ownerDocument)?M.defaultView||M.parentWindow:window,H?(ee=n.relatedTarget||n.toElement,H=U,ee=ee?Ba(ee):null,ee!==null&&(Ce=h(ee),re=ee.tag,ee!==Ce||re!==5&&re!==27&&re!==6)&&(ee=null)):(H=null,ee=U),H!==ee)){if(re=Ed,W="onMouseLeave",O="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(re=Ad,W="onPointerLeave",O="onPointerEnter",k="pointer"),Ce=H==null?M:Ii(H),D=ee==null?M:Ii(ee),M=new re(W,k+"leave",H,n,V),M.target=Ce,M.relatedTarget=D,W=null,Ba(V)===U&&(re=new re(O,k+"enter",ee,n,V),re.target=D,re.relatedTarget=Ce,W=re),Ce=W,H&&ee)t:{for(re=jy,O=H,k=ee,D=0,W=O;W;W=re(W))D++;W=0;for(var se=k;se;se=re(se))W++;for(;0<D-W;)O=re(O),D--;for(;0<W-D;)k=re(k),W--;for(;D--;){if(O===k||k!==null&&O===k.alternate){re=O;break t}O=re(O),k=re(k)}re=null}else re=null;H!==null&&vp(Y,M,H,re,!1),ee!==null&&Ce!==null&&vp(Y,Ce,ee,re,!0)}}e:{if(M=U?Ii(U):window,H=M.nodeName&&M.nodeName.toLowerCase(),H==="select"||H==="input"&&M.type==="file")var _e=Ud;else if(Nd(M))if(Md)_e=Um;else{_e=Nm;var ae=Om}else H=M.nodeName,!H||H.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?U&&no(U.elementType)&&(_e=Ud):_e=Dm;if(_e&&(_e=_e(e,U))){Dd(Y,_e,n,V);break e}ae&&ae(e,M,U),e==="focusout"&&U&&M.type==="number"&&U.memoizedProps.value!=null&&to(M,"number",M.value)}switch(ae=U?Ii(U):window,e){case"focusin":(Nd(ae)||ae.contentEditable==="true")&&(Ya=ae,yo=U,Qi=null);break;case"focusout":Qi=yo=Ya=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Vd(Y,n,V);break;case"selectionchange":if(Bm)break;case"keydown":case"keyup":Vd(Y,n,V)}var pe;if(fo)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Wa?zd(e,n)&&(xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xe="onCompositionStart");xe&&(kd&&n.locale!=="ko"&&(Wa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Wa&&(pe=wd()):(Nn=V,lo="value"in Nn?Nn.value:Nn.textContent,Wa=!0)),ae=nl(U,xe),0<ae.length&&(xe=new Td(xe,e,null,n,V),Y.push({event:xe,listeners:ae}),pe?xe.data=pe:(pe=Od(n),pe!==null&&(xe.data=pe)))),(pe=Am?km(e,n):Rm(e,n))&&(xe=nl(U,"onBeforeInput"),0<xe.length&&(ae=new Td("onBeforeInput","beforeinput",null,n,V),Y.push({event:ae,listeners:xe}),ae.data=pe)),by(Y,e,U,n,V)}yp(Y,t)})}function Ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nl(e,t){for(var n=t+"Capture",s=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Gi(e,n),c!=null&&s.unshift(Ss(e,c,d)),c=Gi(e,t),c!=null&&s.push(Ss(e,c,d))),e.tag===3)return s;e=e.return}return[]}function jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vp(e,t,n,s,c){for(var d=t._reactName,g=[];n!==null&&n!==s;){var x=n,w=x.alternate,U=x.stateNode;if(x=x.tag,w!==null&&w===s)break;x!==5&&x!==26&&x!==27||U===null||(w=U,c?(U=Gi(n,d),U!=null&&g.unshift(Ss(n,U,w))):c||(U=Gi(n,d),U!=null&&g.push(Ss(n,U,w)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Ey=/\r\n?/g,Ty=/\u0000|\uFFFD/g;function bp(e){return(typeof e=="string"?e:""+e).replace(Ey,`
`).replace(Ty,"")}function _p(e,t){return t=bp(t),bp(e)===t}function Re(e,t,n,s,c,d){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ia(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ia(e,""+s);break;case"className":rr(e,"class",s);break;case"tabIndex":rr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(e,n,s);break;case"style":bd(e,s,d);break;case"data":if(t!=="object"){rr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=or(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Re(e,t,"name",c.name,c,null),Re(e,t,"formEncType",c.formEncType,c,null),Re(e,t,"formMethod",c.formMethod,c,null),Re(e,t,"formTarget",c.formTarget,c,null)):(Re(e,t,"encType",c.encType,c,null),Re(e,t,"method",c.method,c,null),Re(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=or(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=un);break;case"onScroll":s!=null&&me("scroll",e);break;case"onScrollEnd":s!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=or(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":me("beforetoggle",e),me("toggle",e),sr(e,"popover",s);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":sr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=em.get(n)||n,sr(e,n,s))}}function Gc(e,t,n,s,c,d){switch(n){case"style":bd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Ia(e,s):(typeof s=="number"||typeof s=="bigint")&&Ia(e,""+s);break;case"onScroll":s!=null&&me("scroll",e);break;case"onScrollEnd":s!=null&&me("scrollend",e);break;case"onClick":s!=null&&(e.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),d=e[pt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof s=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,c);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):sr(e,n,s)}}}function ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var s=!1,c=!1,d;for(d in n)if(n.hasOwnProperty(d)){var g=n[d];if(g!=null)switch(d){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,d,g,n,null)}}c&&Re(e,t,"srcSet",n.srcSet,n,null),s&&Re(e,t,"src",n.src,n,null);return;case"input":me("invalid",e);var x=d=g=c=null,w=null,U=null;for(s in n)if(n.hasOwnProperty(s)){var V=n[s];if(V!=null)switch(s){case"name":c=V;break;case"type":g=V;break;case"checked":w=V;break;case"defaultChecked":U=V;break;case"value":d=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,t));break;default:Re(e,t,s,V,n,null)}}md(e,d,x,w,U,g,c,!1);return;case"select":me("invalid",e),s=g=d=null;for(c in n)if(n.hasOwnProperty(c)&&(x=n[c],x!=null))switch(c){case"value":d=x;break;case"defaultValue":g=x;break;case"multiple":s=x;default:Re(e,t,c,x,n,null)}t=d,n=g,e.multiple=!!s,t!=null?$a(e,!!s,t,!1):n!=null&&$a(e,!!s,n,!0);return;case"textarea":me("invalid",e),d=c=s=null;for(g in n)if(n.hasOwnProperty(g)&&(x=n[g],x!=null))switch(g){case"value":s=x;break;case"defaultValue":c=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:Re(e,t,g,x,n,null)}xd(e,s,c,d);return;case"option":for(w in n)n.hasOwnProperty(w)&&(s=n[w],s!=null)&&(w==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Re(e,t,w,s,n,null));return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(s=0;s<_s.length;s++)me(_s[s],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in n)if(n.hasOwnProperty(U)&&(s=n[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,U,s,n,null)}return;default:if(no(t)){for(V in n)n.hasOwnProperty(V)&&(s=n[V],s!==void 0&&Gc(e,t,V,s,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(s=n[x],s!=null&&Re(e,t,x,s,n,null))}function Ay(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,x=null,w=null,U=null,V=null;for(H in n){var Y=n[H];if(n.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=Y;default:s.hasOwnProperty(H)||Re(e,t,H,null,s,Y)}}for(var M in s){var H=s[M];if(Y=n[M],s.hasOwnProperty(M)&&(H!=null||Y!=null))switch(M){case"type":d=H;break;case"name":c=H;break;case"checked":U=H;break;case"defaultChecked":V=H;break;case"value":g=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:H!==Y&&Re(e,t,M,H,s,Y)}}eo(e,g,x,w,U,V,d,c);return;case"select":H=g=x=M=null;for(d in n)if(w=n[d],n.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":H=w;default:s.hasOwnProperty(d)||Re(e,t,d,null,s,w)}for(c in s)if(d=s[c],w=n[c],s.hasOwnProperty(c)&&(d!=null||w!=null))switch(c){case"value":M=d;break;case"defaultValue":x=d;break;case"multiple":g=d;default:d!==w&&Re(e,t,c,d,s,w)}t=x,n=g,s=H,M!=null?$a(e,!!n,M,!1):!!s!=!!n&&(t!=null?$a(e,!!n,t,!0):$a(e,!!n,n?[]:"",!1));return;case"textarea":H=M=null;for(x in n)if(c=n[x],n.hasOwnProperty(x)&&c!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Re(e,t,x,null,s,c)}for(g in s)if(c=s[g],d=n[g],s.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":M=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&Re(e,t,g,c,s,d)}yd(e,M,H);return;case"option":for(var ee in n)M=n[ee],n.hasOwnProperty(ee)&&M!=null&&!s.hasOwnProperty(ee)&&(ee==="selected"?e.selected=!1:Re(e,t,ee,null,s,M));for(w in s)M=s[w],H=n[w],s.hasOwnProperty(w)&&M!==H&&(M!=null||H!=null)&&(w==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":Re(e,t,w,M,s,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in n)M=n[re],n.hasOwnProperty(re)&&M!=null&&!s.hasOwnProperty(re)&&Re(e,t,re,null,s,M);for(U in s)if(M=s[U],H=n[U],s.hasOwnProperty(U)&&M!==H&&(M!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:Re(e,t,U,M,s,H)}return;default:if(no(t)){for(var Ce in n)M=n[Ce],n.hasOwnProperty(Ce)&&M!==void 0&&!s.hasOwnProperty(Ce)&&Gc(e,t,Ce,void 0,s,M);for(V in s)M=s[V],H=n[V],!s.hasOwnProperty(V)||M===H||M===void 0&&H===void 0||Gc(e,t,V,M,s,H);return}}for(var O in n)M=n[O],n.hasOwnProperty(O)&&M!=null&&!s.hasOwnProperty(O)&&Re(e,t,O,null,s,M);for(Y in s)M=s[Y],H=n[Y],!s.hasOwnProperty(Y)||M===H||M==null&&H==null||Re(e,t,Y,M,s,H)}function Sp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ky(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var c=n[s],d=c.transferSize,g=c.initiatorType,x=c.duration;if(d&&x&&Sp(g)){for(g=0,x=c.responseEnd,s+=1;s<n.length;s++){var w=n[s],U=w.startTime;if(U>x)break;var V=w.transferSize,Y=w.initiatorType;V&&Sp(Y)&&(w=w.responseEnd,g+=V*(w<x?1:(x-U)/(w-U)))}if(--s,t+=8*(d+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vc=null,Wc=null;function al(e){return e.nodeType===9?e:e.ownerDocument}function wp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=null;function Ry(){var e=window.event;return e&&e.type==="popstate"?e===Pc?!1:(Pc=e,!0):(Pc=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,Cy=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,zy=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(e){return Tp.resolve(null).then(e).catch(Oy)}:Ep;function Oy(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function Ap(e,t){var n=t,s=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(c),vi(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")ws(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ws(n);for(var d=n.firstChild;d;){var g=d.nextSibling,x=d.nodeName;d[$i]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=g}}else n==="body"&&ws(e.ownerDocument.body);n=c}while(n);vi(t)}function kp(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Kc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Kc(n),Zl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ny(e,t,n,s){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[$i])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Dy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function Rp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function Xc(e){return e.data==="$?"||e.data==="$~"}function Jc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Uy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qc=null;function Cp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Gt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Op(e,t,n){switch(t=al(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ws(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zl(e)}var Vt=new Map,Np=new Set;function il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=q.d;q.d={f:My,r:By,D:Ly,C:qy,L:Hy,m:$y,X:Gy,S:Iy,M:Vy};function My(){var e=Tn.f(),t=Xr();return e||t}function By(e){var t=La(e);t!==null&&t.tag===5&&t.type==="form"?Xh(t):Tn.r(e)}var mi=typeof document>"u"?null:document;function Dp(e,t,n){var s=mi;if(s&&typeof t=="string"&&t){var c=Mt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Np.has(c)||(Np.add(c),e={rel:e,crossOrigin:n,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),ot(t,"link",e),tt(t),s.head.appendChild(t)))}}function Ly(e){Tn.D(e),Dp("dns-prefetch",e,null)}function qy(e,t){Tn.C(e,t),Dp("preconnect",e,t)}function Hy(e,t,n){Tn.L(e,t,n);var s=mi;if(s&&e&&t){var c='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Mt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Mt(n.imageSizes)+'"]')):c+='[href="'+Mt(e)+'"]';var d=c;switch(t){case"style":d=yi(e);break;case"script":d=xi(e)}Vt.has(d)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Vt.set(d,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(js(d))||t==="script"&&s.querySelector(Es(d))||(t=s.createElement("link"),ot(t,"link",e),tt(t),s.head.appendChild(t)))}}function $y(e,t){Tn.m(e,t);var n=mi;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',d=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=xi(e)}if(!Vt.has(d)&&(e=b({rel:"modulepreload",href:e},t),Vt.set(d,e),n.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Es(d)))return}s=n.createElement("link"),ot(s,"link",e),tt(s),n.head.appendChild(s)}}}function Iy(e,t,n){Tn.S(e,t,n);var s=mi;if(s&&e){var c=qa(s).hoistableStyles,d=yi(e);t=t||"default";var g=c.get(d);if(!g){var x={loading:0,preload:null};if(g=s.querySelector(js(d)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vt.get(d))&&Zc(e,n);var w=g=s.createElement("link");tt(w),ot(w,"link",e),w._p=new Promise(function(U,V){w.onload=U,w.onerror=V}),w.addEventListener("load",function(){x.loading|=1}),w.addEventListener("error",function(){x.loading|=2}),x.loading|=4,sl(g,t,s)}g={type:"stylesheet",instance:g,count:1,state:x},c.set(d,g)}}}function Gy(e,t){Tn.X(e,t);var n=mi;if(n&&e){var s=qa(n).hoistableScripts,c=xi(e),d=s.get(c);d||(d=n.querySelector(Es(c)),d||(e=b({src:e,async:!0},t),(t=Vt.get(c))&&Fc(e,t),d=n.createElement("script"),tt(d),ot(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(c,d))}}function Vy(e,t){Tn.M(e,t);var n=mi;if(n&&e){var s=qa(n).hoistableScripts,c=xi(e),d=s.get(c);d||(d=n.querySelector(Es(c)),d||(e=b({src:e,async:!0,type:"module"},t),(t=Vt.get(c))&&Fc(e,t),d=n.createElement("script"),tt(d),ot(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(c,d))}}function Up(e,t,n,s){var c=(c=F.current)?il(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=yi(n.href),n=qa(c).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=yi(n.href);var d=qa(c).hoistableStyles,g=d.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=c.querySelector(js(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Vt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vt.set(e,n),d||Wy(c,e,n,g.state))),t&&s===null)throw Error(l(528,""));return g}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xi(n),n=qa(c).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function yi(e){return'href="'+Mt(e)+'"'}function js(e){return'link[rel="stylesheet"]['+e+"]"}function Mp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Wy(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ot(t,"link",n),tt(t),e.head.appendChild(t))}function xi(e){return'[src="'+Mt(e)+'"]'}function Es(e){return"script[async]"+e}function Bp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(n.href)+'"]');if(s)return t.instance=s,tt(s),s;var c=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),ot(s,"style",c),sl(s,n.precedence,e),t.instance=s;case"stylesheet":c=yi(n.href);var d=e.querySelector(js(c));if(d)return t.state.loading|=4,t.instance=d,tt(d),d;s=Mp(n),(c=Vt.get(c))&&Zc(s,c),d=(e.ownerDocument||e).createElement("link"),tt(d);var g=d;return g._p=new Promise(function(x,w){g.onload=x,g.onerror=w}),ot(d,"link",s),t.state.loading|=4,sl(d,n.precedence,e),t.instance=d;case"script":return d=xi(n.src),(c=e.querySelector(Es(d)))?(t.instance=c,tt(c),c):(s=n,(c=Vt.get(d))&&(s=b({},n),Fc(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),tt(c),ot(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,sl(s,n.precedence,e));return t.instance}function sl(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,d=c,g=0;g<s.length;g++){var x=s[g];if(x.dataset.precedence===t)d=x;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var rl=null;function Lp(e,t,n){if(rl===null){var s=new Map,c=rl=new Map;c.set(n,s)}else c=rl,s=c.get(n),s||(s=new Map,c.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var d=n[c];if(!(d[$i]||d[it]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var x=s.get(g);x?x.push(d):s.set(g,[d])}}return s}function qp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Yy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Hp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Py(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=yi(s.href),d=t.querySelector(js(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ll.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,tt(d);return}d=t.ownerDocument||t,s=Mp(s),(c=Vt.get(c))&&Zc(s,c),d=d.createElement("link"),tt(d);var g=d;g._p=new Promise(function(x,w){g.onload=x,g.onerror=w}),ot(d,"link",s),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ll.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var eu=0;function Ky(e,t){return e.stylesheets&&e.count===0&&cl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&cl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&eu===0&&(eu=62500*ky());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>eu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function ll(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ol=null;function cl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ol=new Map,t.forEach(Xy,e),ol=null,ll.call(e))}function Xy(e,t){if(!(t.state.loading&4)){var n=ol.get(e);if(n)var s=n.get(null);else{n=new Map,ol.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),s=g)}s&&n.set(null,s)}c=t.instance,g=c.getAttribute("data-precedence"),d=n.get(g)||s,d===s&&n.set(null,c),n.set(g,c),this.count++,s=ll.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ts={$$typeof:T,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Jy(e,t,n,s,c,d,g,x,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.hiddenUpdates=Kl(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function $p(e,t,n,s,c,d,g,x,w,U,V,Y){return e=new Jy(e,t,n,g,w,U,V,Y,x),t=1,d===!0&&(t|=24),d=Tt(3,null,null,t),e.current=d,d.stateNode=e,t=No(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:n,cache:t},Bo(d),e}function Ip(e){return e?(e=Xa,e):Xa}function Gp(e,t,n,s,c,d){c=Ip(c),s.context===null?s.context=c:s.pendingContext=c,s=qn(t),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=Hn(e,s,t),n!==null&&(bt(n,e,t),is(n,e,t))}function Vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tu(e,t){Vp(e,t),(e=e.alternate)&&Vp(e,t)}function Wp(e){if(e.tag===13||e.tag===31){var t=ha(e,67108864);t!==null&&bt(t,e,67108864),tu(e,67108864)}}function Yp(e){if(e.tag===13||e.tag===31){var t=zt();t=Xl(t);var n=ha(e,t);n!==null&&bt(n,e,t),tu(e,t)}}var ul=!0;function Qy(e,t,n,s){var c=$.T;$.T=null;var d=q.p;try{q.p=2,nu(e,t,n,s)}finally{q.p=d,$.T=c}}function Zy(e,t,n,s){var c=$.T;$.T=null;var d=q.p;try{q.p=8,nu(e,t,n,s)}finally{q.p=d,$.T=c}}function nu(e,t,n,s){if(ul){var c=au(s);if(c===null)Ic(e,t,s,dl,n),Kp(e,s);else if(ex(c,e,t,n,s))s.stopPropagation();else if(Kp(e,s),t&4&&-1<Fy.indexOf(e)){for(;c!==null;){var d=La(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=la(d.pendingLanes);if(g!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;g;){var w=1<<31-jt(g);x.entanglements[1]|=w,g&=~w}ln(d),(je&6)===0&&(Pr=St()+500,bs(0))}}break;case 31:case 13:x=ha(d,2),x!==null&&bt(x,d,2),Xr(),tu(d,2)}if(d=au(s),d===null&&Ic(e,t,s,dl,n),d===c)break;c=d}c!==null&&s.stopPropagation()}else Ic(e,t,s,null,n)}}function au(e){return e=io(e),iu(e)}var dl=null;function iu(e){if(dl=null,e=Ba(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dl=e,null}function Pp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(L0()){case ed:return 2;case td:return 8;case er:case q0:return 32;case nd:return 268435456;default:return 32}default:return 32}}var su=!1,Qn=null,Zn=null,Fn=null,As=new Map,ks=new Map,ea=[],Fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Rs(e,t,n,s,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:d,targetContainers:[c]},t!==null&&(t=La(t),t!==null&&Wp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function ex(e,t,n,s,c){switch(t){case"focusin":return Qn=Rs(Qn,e,t,n,s,c),!0;case"dragenter":return Zn=Rs(Zn,e,t,n,s,c),!0;case"mouseover":return Fn=Rs(Fn,e,t,n,s,c),!0;case"pointerover":var d=c.pointerId;return As.set(d,Rs(As.get(d)||null,e,t,n,s,c)),!0;case"gotpointercapture":return d=c.pointerId,ks.set(d,Rs(ks.get(d)||null,e,t,n,s,c)),!0}return!1}function Xp(e){var t=Ba(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,od(e.priority,function(){Yp(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,od(e.priority,function(){Yp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=au(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ao=s,n.target.dispatchEvent(s),ao=null}else return t=La(n),t!==null&&Wp(t),e.blockedOn=n,!1;t.shift()}return!0}function Jp(e,t,n){hl(e)&&n.delete(t)}function tx(){su=!1,Qn!==null&&hl(Qn)&&(Qn=null),Zn!==null&&hl(Zn)&&(Zn=null),Fn!==null&&hl(Fn)&&(Fn=null),As.forEach(Jp),ks.forEach(Jp)}function fl(e,t){e.blockedOn===t&&(e.blockedOn=null,su||(su=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tx)))}var pl=null;function Qp(e){pl!==e&&(pl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){pl===e&&(pl=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(iu(s||n)===null)continue;break}var d=La(n);d!==null&&(e.splice(t,3),t-=3,ac(d,{pending:!0,data:c,method:n.method,action:s},s,c))}}))}function vi(e){function t(w){return fl(w,e)}Qn!==null&&fl(Qn,e),Zn!==null&&fl(Zn,e),Fn!==null&&fl(Fn,e),As.forEach(t),ks.forEach(t);for(var n=0;n<ea.length;n++){var s=ea[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)Xp(n),n.blockedOn===null&&ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var c=n[s],d=n[s+1],g=c[pt]||null;if(typeof d=="function")g||Qp(n);else if(g){var x=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[pt]||null)x=g.formAction;else if(iu(c)!==null)continue}else x=g.action;typeof x=="function"?n[s+1]=x:(n.splice(s,3),s-=3),Qp(n)}}}function Zp(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function ru(e){this._internalRoot=e}gl.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=zt();Gp(n,s,e,t,null,null)},gl.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gp(e.current,2,null,e,null,null),Xr(),t[Ma]=null}};function gl(e){this._internalRoot=e}gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ld();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&Xp(e)}};var Fp=a.version;if(Fp!=="19.2.4")throw Error(l(527,Fp,"19.2.4"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var nx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Li=ml.inject(nx),wt=ml}catch{}}return zs.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,s="",c=rf,d=lf,g=of;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=$p(e,1,!1,null,null,n,s,null,c,d,g,Zp),e[Ma]=t.current,$c(e),new ru(t)},zs.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var s=!1,c="",d=rf,g=lf,x=of,w=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=$p(e,1,!0,t,n??null,s,c,w,d,g,x,Zp),t.context=Ip(null),n=t.current,s=zt(),s=Xl(s),c=qn(s),c.callback=null,Hn(n,c,s),n=s,t.current.lanes=n,Hi(t,n),ln(t),e[Ma]=t.current,$c(e),new gl(t)},zs.version="19.2.4",zs}var cg;function hx(){if(cg)return cu.exports;cg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),cu.exports=dx(),cu.exports}var fx=hx();var ug="popstate";function px(i={}){function a(l,u){let{pathname:h,search:f,hash:p}=l.location;return wu("",{pathname:h,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){return typeof u=="string"?u:qs(u)}return mx(a,r,null,i)}function Le(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function Zt(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function gx(){return Math.random().toString(36).substring(2,10)}function dg(i,a){return{usr:i.state,key:i.key,idx:a}}function wu(i,a,r=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?Ni(a):a,state:r,key:a&&a.key||l||gx()}}function qs({pathname:i="/",search:a="",hash:r=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Ni(i){let a={};if(i){let r=i.indexOf("#");r>=0&&(a.hash=i.substring(r),i=i.substring(0,r));let l=i.indexOf("?");l>=0&&(a.search=i.substring(l),i=i.substring(0,l)),i&&(a.pathname=i)}return a}function mx(i,a,r,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,f=u.history,p="POP",y=null,m=v();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function v(){return(f.state||{idx:null}).idx}function b(){p="POP";let N=v(),C=N==null?null:N-m;m=N,y&&y({action:p,location:A.location,delta:C})}function _(N,C){p="PUSH";let R=wu(A.location,N,C);m=v()+1;let T=dg(R,m),J=A.createHref(R);try{f.pushState(T,"",J)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;u.location.assign(J)}h&&y&&y({action:p,location:A.location,delta:1})}function S(N,C){p="REPLACE";let R=wu(A.location,N,C);m=v();let T=dg(R,m),J=A.createHref(R);f.replaceState(T,"",J),h&&y&&y({action:p,location:A.location,delta:0})}function z(N){return yx(N)}let A={get action(){return p},get location(){return i(u,f)},listen(N){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(ug,b),y=N,()=>{u.removeEventListener(ug,b),y=null}},createHref(N){return a(u,N)},createURL:z,encodeLocation(N){let C=z(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:S,go(N){return f.go(N)}};return A}function yx(i,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Le(r,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:qs(i);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Yg(i,a,r="/"){return xx(i,a,r,!1)}function xx(i,a,r,l){let u=typeof a=="string"?Ni(a):a,h=Rn(u.pathname||"/",r);if(h==null)return null;let f=Pg(i);vx(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let m=Cx(h);p=kx(f[y],m,l)}return p}function Pg(i,a=[],r=[],l="",u=!1){let h=(f,p,y=u,m)=>{let v={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&y)return;Le(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let b=kn([l,v.relativePath]),_=r.concat(v);f.children&&f.children.length>0&&(Le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Pg(f.children,a,_,b,y)),!(f.path==null&&!f.index)&&a.push({path:b,score:Tx(b,f.index),routesMeta:_})};return i.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))h(f,p);else for(let y of Kg(f.path))h(f,p,!0,y)}),a}function Kg(i){let a=i.split("/");if(a.length===0)return[];let[r,...l]=a,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let f=Kg(l.join("/")),p=[];return p.push(...f.map(y=>y===""?h:[h,y].join("/"))),u&&p.push(...f),p.map(y=>i.startsWith("/")&&y===""?"/":y)}function vx(i){i.sort((a,r)=>a.score!==r.score?r.score-a.score:Ax(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var bx=/^:[\w-]+$/,_x=3,Sx=2,wx=1,jx=10,Ex=-2,hg=i=>i==="*";function Tx(i,a){let r=i.split("/"),l=r.length;return r.some(hg)&&(l+=Ex),a&&(l+=Sx),r.filter(u=>!hg(u)).reduce((u,h)=>u+(bx.test(h)?_x:h===""?wx:jx),l)}function Ax(i,a){return i.length===a.length&&i.slice(0,-1).every((l,u)=>l===a[u])?i[i.length-1]-a[a.length-1]:0}function kx(i,a,r=!1){let{routesMeta:l}=i,u={},h="/",f=[];for(let p=0;p<l.length;++p){let y=l[p],m=p===l.length-1,v=h==="/"?a:a.slice(h.length)||"/",b=Al({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),_=y.route;if(!b&&m&&r&&!l[l.length-1].route.index&&(b=Al({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!b)return null;Object.assign(u,b.params),f.push({params:u,pathname:kn([h,b.pathname]),pathnameBase:Dx(kn([h,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(h=kn([h,b.pathnameBase]))}return f}function Al(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,l]=Rx(i.path,i.caseSensitive,i.end),u=a.match(r);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:l.reduce((m,{paramName:v,isOptional:b},_)=>{if(v==="*"){let z=p[_]||"";f=h.slice(0,h.length-z.length).replace(/(.)\/+$/,"$1")}const S=p[_];return b&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:h,pathnameBase:f,pattern:i}}function Rx(i,a=!1,r=!0){Zt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(l.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function Cx(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Zt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function Rn(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=i.charAt(r);return l&&l!=="/"?null:i.slice(r)||"/"}var zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Ox(i,a="/"){let{pathname:r,search:l="",hash:u=""}=typeof i=="string"?Ni(i):i,h;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?h=fg(r.substring(1),"/"):h=fg(r,a)):h=a,{pathname:h,search:Ux(l),hash:Mx(u)}}function fg(i,a){let r=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function fu(i,a,r,l){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nx(i){return i.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function $u(i){let a=Nx(i);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function Iu(i,a,r,l=!1){let u;typeof i=="string"?u=Ni(i):(u={...i},Le(!u.pathname||!u.pathname.includes("?"),fu("?","pathname","search",u)),Le(!u.pathname||!u.pathname.includes("#"),fu("#","pathname","hash",u)),Le(!u.search||!u.search.includes("#"),fu("#","search","hash",u)));let h=i===""||u.pathname==="",f=h?"/":u.pathname,p;if(f==null)p=r;else{let b=a.length-1;if(!l&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),b-=1;u.pathname=_.join("/")}p=b>=0?a[b]:"/"}let y=Ox(u,p),m=f&&f!=="/"&&f.endsWith("/"),v=(h||f===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var kn=i=>i.join("/").replace(/\/\/+/g,"/"),Dx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Mx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Bx=class{constructor(i,a,r,l=!1){this.status=i,this.statusText=a||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Lx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function qx(i){return i.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jg(i,a){let r=i;if(typeof r!="string"||!zx.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,u=!1;if(Xg)try{let h=new URL(window.location.href),f=r.startsWith("//")?new URL(h.protocol+r):new URL(r),p=Rn(f.pathname,a);f.origin===h.origin&&p!=null?r=p+f.search+f.hash:u=!0}catch{Zt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:u,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qg=["POST","PUT","PATCH","DELETE"];new Set(Qg);var Hx=["GET",...Qg];new Set(Hx);var Di=j.createContext(null);Di.displayName="DataRouter";var Ol=j.createContext(null);Ol.displayName="DataRouterState";var $x=j.createContext(!1),Zg=j.createContext({isTransitioning:!1});Zg.displayName="ViewTransition";var Ix=j.createContext(new Map);Ix.displayName="Fetchers";var Gx=j.createContext(null);Gx.displayName="Await";var Dt=j.createContext(null);Dt.displayName="Navigation";var Qs=j.createContext(null);Qs.displayName="Location";var Ft=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var Gu=j.createContext(null);Gu.displayName="RouteError";var Fg="REACT_ROUTER_ERROR",Vx="REDIRECT",Wx="ROUTE_ERROR_RESPONSE";function Yx(i){if(i.startsWith(`${Fg}:${Vx}:{`))try{let a=JSON.parse(i.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Px(i){if(i.startsWith(`${Fg}:${Wx}:{`))try{let a=JSON.parse(i.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Bx(a.status,a.statusText,a.data)}catch{}}function Kx(i,{relative:a}={}){Le(Ui(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=j.useContext(Dt),{hash:u,pathname:h,search:f}=Zs(i,{relative:a}),p=h;return r!=="/"&&(p=h==="/"?r:kn([r,h])),l.createHref({pathname:p,search:f,hash:u})}function Ui(){return j.useContext(Qs)!=null}function en(){return Le(Ui(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Qs).location}var e0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t0(i){j.useContext(Dt).static||j.useLayoutEffect(i)}function Wt(){let{isDataRoute:i}=j.useContext(Ft);return i?lv():Xx()}function Xx(){Le(Ui(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(Di),{basename:a,navigator:r}=j.useContext(Dt),{matches:l}=j.useContext(Ft),{pathname:u}=en(),h=JSON.stringify($u(l)),f=j.useRef(!1);return t0(()=>{f.current=!0}),j.useCallback((y,m={})=>{if(Zt(f.current,e0),!f.current)return;if(typeof y=="number"){r.go(y);return}let v=Iu(y,JSON.parse(h),u,m.relative==="path");i==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:kn([a,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[a,r,h,u,i])}j.createContext(null);function Nl(){let{matches:i}=j.useContext(Ft),a=i[i.length-1];return a?a.params:{}}function Zs(i,{relative:a}={}){let{matches:r}=j.useContext(Ft),{pathname:l}=en(),u=JSON.stringify($u(r));return j.useMemo(()=>Iu(i,JSON.parse(u),l,a==="path"),[i,u,l,a])}function Jx(i,a){return n0(i,a)}function n0(i,a,r,l,u){Le(Ui(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(Dt),{matches:f}=j.useContext(Ft),p=f[f.length-1],y=p?p.params:{},m=p?p.pathname:"/",v=p?p.pathnameBase:"/",b=p&&p.route;{let R=b&&b.path||"";i0(m,!b||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=en(),S;if(a){let R=typeof a=="string"?Ni(a):a;Le(v==="/"||R.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${R.pathname}" was given in the \`location\` prop.`),S=R}else S=_;let z=S.pathname||"/",A=z;if(v!=="/"){let R=v.replace(/^\//,"").split("/");A="/"+z.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=Yg(i,{pathname:A});Zt(b||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Zt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=tv(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},y,R.params),pathname:kn([v,h.encodeLocation?h.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:kn([v,h.encodeLocation?h.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),f,r,l,u);return a&&C?j.createElement(Qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},C):C}function Qx(){let i=rv(),a=Lx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},a),r?j.createElement("pre",{style:u},r):null,f)}var Zx=j.createElement(Qx,null),a0=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){this.props.onError?this.props.onError(i,a):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const r=Px(i.digest);r&&(i=r)}let a=i!==void 0?j.createElement(Ft.Provider,{value:this.props.routeContext},j.createElement(Gu.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?j.createElement(Fx,{error:i},a):a}};a0.contextType=$x;var pu=new WeakMap;function Fx({children:i,error:a}){let{basename:r}=j.useContext(Dt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let l=Yx(a.digest);if(l){let u=pu.get(a);if(u)throw u;let h=Jg(l.location,r);if(Xg&&!pu.get(a))if(h.isExternal||l.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:l.replace}));throw pu.set(a,f),f}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return i}function ev({routeContext:i,match:a,children:r}){let l=j.useContext(Di);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),j.createElement(Ft.Provider,{value:i},r)}function tv(i,a=[],r=null,l=null,u=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let h=i,f=r?.errors;if(f!=null){let v=h.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Le(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let p=!1,y=-1;if(r)for(let v=0;v<h.length;v++){let b=h[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=v),b.route.id){let{loaderData:_,errors:S}=r,z=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||z){p=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let m=r&&l?(v,b)=>{l(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:qx(r.matches),errorInfo:b})}:void 0;return h.reduceRight((v,b,_)=>{let S,z=!1,A=null,N=null;r&&(S=f&&b.route.id?f[b.route.id]:void 0,A=b.route.errorElement||Zx,p&&(y<0&&_===0?(i0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,N=null):y===_&&(z=!0,N=b.route.hydrateFallbackElement||null)));let C=a.concat(h.slice(0,_+1)),R=()=>{let T;return S?T=A:z?T=N:b.route.Component?T=j.createElement(b.route.Component,null):b.route.element?T=b.route.element:T=v,j.createElement(ev,{match:b,routeContext:{outlet:v,matches:C,isDataRoute:r!=null},children:T})};return r&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?j.createElement(a0,{location:r.location,revalidation:r.revalidation,component:A,error:S,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):R()},null)}function Vu(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nv(i){let a=j.useContext(Di);return Le(a,Vu(i)),a}function av(i){let a=j.useContext(Ol);return Le(a,Vu(i)),a}function iv(i){let a=j.useContext(Ft);return Le(a,Vu(i)),a}function Wu(i){let a=iv(i),r=a.matches[a.matches.length-1];return Le(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function sv(){return Wu("useRouteId")}function rv(){let i=j.useContext(Gu),a=av("useRouteError"),r=Wu("useRouteError");return i!==void 0?i:a.errors?.[r]}function lv(){let{router:i}=nv("useNavigate"),a=Wu("useNavigate"),r=j.useRef(!1);return t0(()=>{r.current=!0}),j.useCallback(async(u,h={})=>{Zt(r.current,e0),r.current&&(typeof u=="number"?await i.navigate(u):await i.navigate(u,{fromRouteId:a,...h}))},[i,a])}var pg={};function i0(i,a,r){!a&&!pg[i]&&(pg[i]=!0,Zt(!1,r))}j.memo(ov);function ov({routes:i,future:a,state:r,onError:l}){return n0(i,void 0,r,l,a)}function s0({to:i,replace:a,state:r,relative:l}){Le(Ui(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=j.useContext(Dt);Zt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=j.useContext(Ft),{pathname:f}=en(),p=Wt(),y=Iu(i,$u(h),f,l==="path"),m=JSON.stringify(y);return j.useEffect(()=>{p(JSON.parse(m),{replace:a,state:r,relative:l})},[p,m,l,a,r]),null}function _t(i){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cv({basename:i="/",children:a=null,location:r,navigationType:l="POP",navigator:u,static:h=!1,unstable_useTransitions:f}){Le(!Ui(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),y=j.useMemo(()=>({basename:p,navigator:u,static:h,unstable_useTransitions:f,future:{}}),[p,u,h,f]);typeof r=="string"&&(r=Ni(r));let{pathname:m="/",search:v="",hash:b="",state:_=null,key:S="default"}=r,z=j.useMemo(()=>{let A=Rn(m,p);return A==null?null:{location:{pathname:A,search:v,hash:b,state:_,key:S},navigationType:l}},[p,m,v,b,_,S,l]);return Zt(z!=null,`<Router basename="${p}"> is not able to match the URL "${m}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:j.createElement(Dt.Provider,{value:y},j.createElement(Qs.Provider,{children:a,value:z}))}function gg({children:i,location:a}){return Jx(ju(i),a)}function ju(i,a=[]){let r=[];return j.Children.forEach(i,(l,u)=>{if(!j.isValidElement(l))return;let h=[...a,u];if(l.type===j.Fragment){r.push.apply(r,ju(l.props.children,h));return}Le(l.type===_t,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=ju(l.props.children,h)),r.push(f)}),r}var El="get",Tl="application/x-www-form-urlencoded";function Dl(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function uv(i){return Dl(i)&&i.tagName.toLowerCase()==="button"}function dv(i){return Dl(i)&&i.tagName.toLowerCase()==="form"}function hv(i){return Dl(i)&&i.tagName.toLowerCase()==="input"}function fv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function pv(i,a){return i.button===0&&(!a||a==="_self")&&!fv(i)}var yl=null;function gv(){if(yl===null)try{new FormData(document.createElement("form"),0),yl=!1}catch{yl=!0}return yl}var mv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gu(i){return i!=null&&!mv.has(i)?(Zt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tl}"`),null):i}function yv(i,a){let r,l,u,h,f;if(dv(i)){let p=i.getAttribute("action");l=p?Rn(p,a):null,r=i.getAttribute("method")||El,u=gu(i.getAttribute("enctype"))||Tl,h=new FormData(i)}else if(uv(i)||hv(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||p.getAttribute("action");if(l=y?Rn(y,a):null,r=i.getAttribute("formmethod")||p.getAttribute("method")||El,u=gu(i.getAttribute("formenctype"))||gu(p.getAttribute("enctype"))||Tl,h=new FormData(p,i),!gv()){let{name:m,type:v,value:b}=i;if(v==="image"){let _=m?`${m}.`:"";h.append(`${_}x`,"0"),h.append(`${_}y`,"0")}else m&&h.append(m,b)}}else{if(Dl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=El,l=null,u=Tl,f=i}return h&&u==="text/plain"&&(f=h,h=void 0),{action:l,method:r.toLowerCase(),encType:u,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yu(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function xv(i,a,r,l){let u=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${l}`:u.pathname=`${u.pathname}.${l}`:u.pathname==="/"?u.pathname=`_root.${l}`:a&&Rn(u.pathname,a)==="/"?u.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${l}`,u}async function vv(i,a){if(i.id in a)return a[i.id];try{let r=await import(i.module);return a[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _v(i,a,r){let l=await Promise.all(i.map(async u=>{let h=a.routes[u.route.id];if(h){let f=await vv(h,r);return f.links?f.links():[]}return[]}));return Ev(l.flat(1).filter(bv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function mg(i,a,r,l,u,h){let f=(y,m)=>r[m]?y.route.id!==r[m].route.id:!0,p=(y,m)=>r[m].pathname!==y.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==y.params["*"];return h==="assets"?a.filter((y,m)=>f(y,m)||p(y,m)):h==="data"?a.filter((y,m)=>{let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(f(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Sv(i,a,{includeHydrateFallback:r}={}){return wv(i.map(l=>{let u=a.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function wv(i){return[...new Set(i)]}function jv(i){let a={},r=Object.keys(i).sort();for(let l of r)a[l]=i[l];return a}function Ev(i,a){let r=new Set;return new Set(a),i.reduce((l,u)=>{let h=JSON.stringify(jv(u));return r.has(h)||(r.add(h),l.push({key:h,link:u})),l},[])}function r0(){let i=j.useContext(Di);return Yu(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Tv(){let i=j.useContext(Ol);return Yu(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Pu=j.createContext(void 0);Pu.displayName="FrameworkContext";function l0(){let i=j.useContext(Pu);return Yu(i,"You must render this element inside a <HydratedRouter> element"),i}function Av(i,a){let r=j.useContext(Pu),[l,u]=j.useState(!1),[h,f]=j.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=a,_=j.useRef(null);j.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let A=C=>{C.forEach(R=>{f(R.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[i]),j.useEffect(()=>{if(l){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[l]);let S=()=>{u(!0)},z=()=>{u(!1),f(!1)};return r?i!=="intent"?[h,_,{}]:[h,_,{onFocus:Os(p,S),onBlur:Os(y,z),onMouseEnter:Os(m,S),onMouseLeave:Os(v,z),onTouchStart:Os(b,S)}]:[!1,_,{}]}function Os(i,a){return r=>{i&&i(r),r.defaultPrevented||a(r)}}function kv({page:i,...a}){let{router:r}=r0(),l=j.useMemo(()=>Yg(r.routes,i,r.basename),[r.routes,i,r.basename]);return l?j.createElement(Cv,{page:i,matches:l,...a}):null}function Rv(i){let{manifest:a,routeModules:r}=l0(),[l,u]=j.useState([]);return j.useEffect(()=>{let h=!1;return _v(i,a,r).then(f=>{h||u(f)}),()=>{h=!0}},[i,a,r]),l}function Cv({page:i,matches:a,...r}){let l=en(),{future:u,manifest:h,routeModules:f}=l0(),{basename:p}=r0(),{loaderData:y,matches:m}=Tv(),v=j.useMemo(()=>mg(i,a,m,h,l,"data"),[i,a,m,h,l]),b=j.useMemo(()=>mg(i,a,m,h,l,"assets"),[i,a,m,h,l]),_=j.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let A=new Set,N=!1;if(a.forEach(R=>{let T=h.routes[R.route.id];!T||!T.hasLoader||(!v.some(J=>J.route.id===R.route.id)&&R.route.id in y&&f[R.route.id]?.shouldRevalidate||T.hasClientLoader?N=!0:A.add(R.route.id))}),A.size===0)return[];let C=xv(i,p,u.unstable_trailingSlashAwareDataRequests,"data");return N&&A.size>0&&C.searchParams.set("_routes",a.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[p,u.unstable_trailingSlashAwareDataRequests,y,l,h,v,a,i,f]),S=j.useMemo(()=>Sv(b,h),[b,h]),z=Rv(b);return j.createElement(j.Fragment,null,_.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...r})),S.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...r})),z.map(({key:A,link:N})=>j.createElement("link",{key:A,nonce:r.nonce,...N,crossOrigin:N.crossOrigin??r.crossOrigin})))}function zv(...i){return a=>{i.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ov&&(window.__reactRouterVersion="7.13.0")}catch{}function Nv({basename:i,children:a,unstable_useTransitions:r,window:l}){let u=j.useRef();u.current==null&&(u.current=px({window:l,v5Compat:!0}));let h=u.current,[f,p]=j.useState({action:h.action,location:h.location}),y=j.useCallback(m=>{r===!1?p(m):j.startTransition(()=>p(m))},[r]);return j.useLayoutEffect(()=>h.listen(y),[h,y]),j.createElement(cv,{basename:i,children:a,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:r})}var o0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ul=j.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:u,reloadDocument:h,replace:f,state:p,target:y,to:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},z){let{basename:A,unstable_useTransitions:N}=j.useContext(Dt),C=typeof m=="string"&&o0.test(m),R=Jg(m,A);m=R.to;let T=Kx(m,{relative:u}),[J,X,I]=Av(l,S),K=Bv(m,{replace:f,state:p,target:y,preventScrollReset:v,relative:u,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:N});function de(qe){a&&a(qe),qe.defaultPrevented||K(qe)}let ue=j.createElement("a",{...S,...I,href:R.absoluteURL||T,onClick:R.isExternal||h?a:de,ref:zv(z,X),target:y,"data-discover":!C&&r==="render"?"true":void 0});return J&&!C?j.createElement(j.Fragment,null,ue,j.createElement(kv,{page:T})):ue});Ul.displayName="Link";var Dv=j.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:u=!1,style:h,to:f,viewTransition:p,children:y,...m},v){let b=Zs(f,{relative:m.relative}),_=en(),S=j.useContext(Ol),{navigator:z,basename:A}=j.useContext(Dt),N=S!=null&&Iv(b)&&p===!0,C=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,R=_.pathname,T=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(R=R.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&A&&(T=Rn(T,A)||T);const J=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let X=R===C||!u&&R.startsWith(C)&&R.charAt(J)==="/",I=T!=null&&(T===C||!u&&T.startsWith(C)&&T.charAt(C.length)==="/"),K={isActive:X,isPending:I,isTransitioning:N},de=X?a:void 0,ue;typeof l=="function"?ue=l(K):ue=[l,X?"active":null,I?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let qe=typeof h=="function"?h(K):h;return j.createElement(Ul,{...m,"aria-current":de,className:ue,ref:v,style:qe,to:f,viewTransition:p},typeof y=="function"?y(K):y)});Dv.displayName="NavLink";var Uv=j.forwardRef(({discover:i="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:u,state:h,method:f=El,action:p,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},z)=>{let{unstable_useTransitions:A}=j.useContext(Dt),N=Hv(),C=$v(p,{relative:m}),R=f.toLowerCase()==="get"?"get":"post",T=typeof p=="string"&&o0.test(p),J=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let I=X.nativeEvent.submitter,K=I?.getAttribute("formmethod")||f,de=()=>N(I||X.currentTarget,{fetcherKey:a,method:K,navigate:r,replace:u,state:h,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});A&&r!==!1?j.startTransition(()=>de()):de()};return j.createElement("form",{ref:z,method:R,action:C,onSubmit:l?y:J,...S,"data-discover":!T&&i==="render"?"true":void 0})});Uv.displayName="Form";function Mv(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c0(i){let a=j.useContext(Di);return Le(a,Mv(i)),a}function Bv(i,{target:a,replace:r,state:l,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:y}={}){let m=Wt(),v=en(),b=Zs(i,{relative:h});return j.useCallback(_=>{if(pv(_,a)){_.preventDefault();let S=r!==void 0?r:qs(v)===qs(b),z=()=>m(i,{replace:S,state:l,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:p});y?j.startTransition(()=>z()):z()}},[v,m,b,r,l,a,i,u,h,f,p,y])}var Lv=0,qv=()=>`__${String(++Lv)}__`;function Hv(){let{router:i}=c0("useSubmit"),{basename:a}=j.useContext(Dt),r=sv(),l=i.fetch,u=i.navigate;return j.useCallback(async(h,f={})=>{let{action:p,method:y,encType:m,formData:v,body:b}=yv(h,a);if(f.navigate===!1){let _=f.fetcherKey||qv();await l(_,r,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||y,formEncType:f.encType||m,flushSync:f.flushSync})}else await u(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||y,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,u,a,r])}function $v(i,{relative:a}={}){let{basename:r}=j.useContext(Dt),l=j.useContext(Ft);Le(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...Zs(i||".",{relative:a})},f=en();if(i==null){h.search=f.search;let p=new URLSearchParams(h.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(b=>b).forEach(b=>p.append("index",b));let v=p.toString();h.search=v?`?${v}`:""}}return(!i||i===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:kn([r,h.pathname])),qs(h)}function Iv(i,{relative:a}={}){let r=j.useContext(Zg);Le(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=c0("useViewTransitionState"),u=Zs(i,{relative:a});if(!r.isTransitioning)return!1;let h=Rn(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=Rn(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Al(u.pathname,f)!=null||Al(u.pathname,h)!=null}const u0=(...i)=>i.filter((a,r,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===r).join(" ").trim();const Gv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Vv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,l)=>l?l.toUpperCase():r.toLowerCase());const yg=i=>{const a=Vv(i);return a.charAt(0).toUpperCase()+a.slice(1)};var Wv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Yv=i=>{for(const a in i)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const Pv=j.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:f,...p},y)=>j.createElement("svg",{ref:y,...Wv,width:a,height:a,stroke:i,strokeWidth:l?Number(r)*24/Number(a):r,className:u0("lucide",u),...!h&&!Yv(p)&&{"aria-hidden":"true"},...p},[...f.map(([m,v])=>j.createElement(m,v)),...Array.isArray(h)?h:[h]]));const te=(i,a)=>{const r=j.forwardRef(({className:l,...u},h)=>j.createElement(Pv,{ref:h,iconNode:a,className:u0(`lucide-${Gv(yg(i))}`,`lucide-${i}`,l),...u}));return r.displayName=yg(i),r};const Kv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Eu=te("activity",Kv);const Xv=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Jv=te("arrow-down-right",Xv);const Qv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Mi=te("arrow-left",Qv);const Zv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Us=te("arrow-right",Zv);const Fv=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],e1=te("arrow-up-right",Fv);const t1=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],n1=te("brain-circuit",t1);const a1=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ml=te("brain",a1);const i1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],on=te("calendar",i1);const s1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],r1=te("chevron-down",s1);const l1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],o1=te("chevron-left",l1);const c1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kl=te("chevron-right",c1);const u1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],d1=te("chevron-up",u1);const h1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d0=te("circle-alert",h1);const f1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ia=te("circle-check-big",f1);const p1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],g1=te("circle-check",p1);const m1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],y1=te("circle-plus",m1);const x1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Tu=te("clock",x1);const v1=[["path",{d:"M13.744 17.736a6 6 0 1 1-7.48-7.48",key:"bq4yh3"}],["path",{d:"M15 6h1v4",key:"11y1tn"}],["path",{d:"m6.134 14.768.866-.5 2 3.464",key:"17snzx"}],["circle",{cx:"16",cy:"8",r:"6",key:"14bfc9"}]],xg=te("coins",v1);const b1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_1=te("copy",b1);const S1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zi=te("dollar-sign",S1);const w1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],j1=te("download",w1);const E1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],T1=te("eye-off",E1);const A1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],k1=te("eye",A1);const R1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Na=te("file-text",R1);const C1=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],z1=te("flame",C1);const O1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],N1=te("frown",O1);const D1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],h0=te("funnel",D1);const U1=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Oi=te("gamepad-2",U1);const M1=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],sa=te("heart",M1);const B1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],L1=te("history",B1);const q1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],f0=te("house",q1);const H1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$1=te("info",H1);const I1=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Hs=te("key-round",I1);const G1=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],V1=te("laptop",G1);const W1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],p0=te("layout-dashboard",W1);const Y1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],P1=te("lock-open",Y1);const K1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ku=te("lock",K1);const X1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],J1=te("log-in",X1);const Q1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Z1=te("log-out",Q1);const F1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eb=te("mail",F1);const tb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],g0=te("map-pin",tb);const nb=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],ab=te("medal",nb);const ib=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],sb=te("meh",ib);const rb=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],m0=te("message-square",rb);const lb=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ob=te("pen-line",lb);const cb=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ub=te("phone",cb);const db=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Oa=te("plus",db);const hb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fb=te("save",hb);const pb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gb=te("search",pb);const mb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yb=te("send",mb);const xb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$s=te("shield",xb);const vb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],bb=te("smile",vb);const _b=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Da=te("sparkles",_b);const Sb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Is=te("target",Sb);const wb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],y0=te("trash-2",wb);const jb=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Eb=te("trending-down",jb);const Tb=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ms=te("trending-up",Tb);const Ab=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vg=te("trophy",Ab);const kb=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rb=te("user-check",kb);const Cb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Au=te("user-plus",Cb);const zb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bl=te("user",zb);const Ob=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xu=te("users",Ob);const Nb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gs=te("x",Nb);const Db=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ub=te("zap",Db);function Ll(i,a){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(r[l[u]]=i[l[u]]);return r}function Mb(i,a,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function p(v){try{m(l.next(v))}catch(b){f(b)}}function y(v){try{m(l.throw(v))}catch(b){f(b)}}function m(v){v.done?h(v.value):u(v.value).then(p,y)}m((l=l.apply(i,a||[])).next())})}const Bb=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);class Ju extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class Lb extends Ju{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class bg extends Ju{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class _g extends Ju{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var ku;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(ku||(ku={}));class qb{constructor(a,{headers:r={},customFetch:l,region:u=ku.Any}={}){this.url=a,this.headers=r,this.region=u,this.fetch=Bb(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Mb(this,arguments,void 0,function*(r,l={}){var u;let h,f;try{const{headers:p,method:y,body:m,signal:v,timeout:b}=l;let _={},{region:S}=l;S||(S=this.region);const z=new URL(`${this.url}/${r}`);S&&S!=="any"&&(_["x-region"]=S,z.searchParams.set("forceFunctionRegion",S));let A;m&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",A=m):typeof m=="string"?(_["Content-Type"]="text/plain",A=m):typeof FormData<"u"&&m instanceof FormData?A=m:(_["Content-Type"]="application/json",A=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?A=JSON.stringify(m):A=m;let N=v;b&&(f=new AbortController,h=setTimeout(()=>f.abort(),b),v?(N=f.signal,v.addEventListener("abort",()=>f.abort())):N=f.signal);const C=yield this.fetch(z.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:A,signal:N}).catch(X=>{throw new Lb(X)}),R=C.headers.get("x-relay-error");if(R&&R==="true")throw new bg(C);if(!C.ok)throw new _g(C);let T=((u=C.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),J;return T==="application/json"?J=yield C.json():T==="application/octet-stream"||T==="application/pdf"?J=yield C.blob():T==="text/event-stream"?J=C:T==="multipart/form-data"?J=yield C.formData():J=yield C.text(),{data:J,error:null,response:C}}catch(p){return{data:null,error:p,response:p instanceof _g||p instanceof bg?p.context:void 0}}finally{h&&clearTimeout(h)}})}}var Hb=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},$b=class{constructor(i){var a,r,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(l=i.urlLengthLimit)!==null&&l!==void 0?l:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,p=null,y=null,m=h.status,v=h.statusText;if(h.ok){var b,_;if(r.method!=="HEAD"){var S;const C=await h.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((S=r.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?p=C:p=JSON.parse(C))}const A=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),N=(_=h.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");A&&N&&N.length>1&&(y=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,m=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var z;const A=await h.text();try{f=JSON.parse(A),Array.isArray(f)&&h.status===404&&(p=[],f=null,m=200,v="OK")}catch{h.status===404&&A===""?(m=204,v="No Content"):f={message:A}}if(f&&r.isMaybeSingle&&(!(f==null||(z=f.details)===null||z===void 0)&&z.includes("0 rows"))&&(f=null,m=200,v="OK"),f&&r.shouldThrowOnError)throw new Hb(f)}return{error:f,data:p,count:y,status:m,statusText:v}});return this.shouldThrowOnError||(u=u.catch(h=>{var f;let p="",y="",m="";const v=h?.cause;if(v){var b,_,S,z;const C=(b=v?.message)!==null&&b!==void 0?b:"",R=(_=v?.code)!==null&&_!==void 0?_:"";p=`${(S=h?.name)!==null&&S!==void 0?S:"FetchError"}: ${h?.message}`,p+=`

Caused by: ${(z=v?.name)!==null&&z!==void 0?z:"Error"}: ${C}`,R&&(p+=` (${R})`),v?.stack&&(p+=`
${v.stack}`)}else{var A;p=(A=h?.stack)!==null&&A!==void 0?A:""}const N=this.url.toString().length;return h?.name==="AbortError"||h?.code==="ABORT_ERR"?(m="",y="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",y="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(y+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:p,hint:y,code:m},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}returns(){return this}overrideTypes(){return this}},Ib=class extends $b{select(i){let a=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:r,foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:r=a}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:r,referencedTable:l=r}={}){const u=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:r=!1,buffers:l=!1,wal:u=!1,format:h="text"}={}){var f;const p=[i?"analyze":null,a?"verbose":null,r?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const Sg=new RegExp("[,()]");var Ti=class extends Ib{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&Sg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&Sg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:r,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${u}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(i,a,r){return this.url.searchParams.append(i,`not.${a}.${r}`),this}or(i,{foreignTable:a,referencedTable:r=a}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,r){return this.url.searchParams.append(i,`${a}.${r}`),this}},Gb=class{constructor(i,{headers:a={},schema:r,fetch:l,urlLengthLimit:u=8e3}){this.url=i,this.headers=new Headers(a),this.schema=r,this.fetch=l,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,a){const{head:r=!1,count:l}=a??{},u=r?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join(""),{url:p,headers:y}=this.cloneRequestState();return p.searchParams.set("select",f),l&&y.append("Prefer",`count=${l}`),new Ti({method:u,url:p,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:a,defaultToNull:r=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),r||f.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,m)=>y.concat(Object.keys(m)),[]);if(p.length>0){const y=[...new Set(p)].map(m=>`"${m}"`);h.searchParams.set("columns",y.join(","))}}return new Ti({method:u,url:h,headers:f,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:a,ignoreDuplicates:r=!1,count:l,defaultToNull:u=!0}={}){var h;const f="POST",{url:p,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&p.searchParams.set("on_conflict",a),l&&y.append("Prefer",`count=${l}`),u||y.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(m.length>0){const v=[...new Set(m)].map(b=>`"${b}"`);p.searchParams.set("columns",v.join(","))}}return new Ti({method:f,url:p,headers:y,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:a}={}){var r;const l="PATCH",{url:u,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new Ti({method:l,url:u,headers:h,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var a;const r="DELETE",{url:l,headers:u}=this.cloneRequestState();return i&&u.append("Prefer",`count=${i}`),new Ti({method:r,url:l,headers:u,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function Vs(i){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Vs(i)}function Vb(i,a){if(Vs(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,a);if(Vs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function Wb(i){var a=Vb(i,"string");return Vs(a)=="symbol"?a:a+""}function Yb(i,a,r){return(a=Wb(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function wg(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function xl(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?wg(Object(r),!0).forEach(function(l){Yb(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}var Pb=class x0{constructor(a,{headers:r={},schema:l,fetch:u,timeout:h,urlLengthLimit:f=8e3}={}){this.url=a,this.headers=new Headers(r),this.schemaName=l,this.urlLengthLimit=f;const p=u??globalThis.fetch;h!==void 0&&h>0?this.fetch=(y,m)=>{const v=new AbortController,b=setTimeout(()=>v.abort(),h),_=m?.signal;if(_){if(_.aborted)return clearTimeout(b),p(y,m);const S=()=>{clearTimeout(b),v.abort()};return _.addEventListener("abort",S,{once:!0}),p(y,xl(xl({},m),{},{signal:v.signal})).finally(()=>{clearTimeout(b),_.removeEventListener("abort",S)})}return p(y,xl(xl({},m),{},{signal:v.signal})).finally(()=>clearTimeout(b))}:this.fetch=p}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Gb(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new x0(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,r={},{head:l=!1,get:u=!1,count:h}={}){var f;let p;const y=new URL(`${this.url}/rpc/${a}`);let m;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),b=l&&Object.values(r).some(v);b?(p="POST",m=r):l||u?(p=l?"HEAD":"GET",Object.entries(r).filter(([S,z])=>z!==void 0).map(([S,z])=>[S,Array.isArray(z)?`{${z.join(",")}}`:`${z}`]).forEach(([S,z])=>{y.searchParams.append(S,z)})):(p="POST",m=r);const _=new Headers(this.headers);return b?_.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&_.set("Prefer",`count=${h}`),new Ti({method:p,url:y,headers:_,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class Kb{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const u=l.node,h=parseInt(u.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Xb="2.97.0",Jb=`realtime-js/${Xb}`,Qb="1.0.0",v0="2.0.0",jg=v0,Ru=1e4,Zb=1e3,Fb=100;var na;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(na||(na={}));var et;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(et||(et={}));var Qt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Qt||(Qt={}));var Cu;(function(i){i.websocket="websocket"})(Cu||(Cu={}));var Ra;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ra||(Ra={}));class e2{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,r,l){var u,h;const f=a.topic,p=(u=a.ref)!==null&&u!==void 0?u:"",y=(h=a.join_ref)!==null&&h!==void 0?h:"",m=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+p.length+f.length+m.length+b.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let z=new DataView(S),A=0;z.setUint8(A++,this.KINDS.userBroadcastPush),z.setUint8(A++,y.length),z.setUint8(A++,p.length),z.setUint8(A++,f.length),z.setUint8(A++,m.length),z.setUint8(A++,b.length),z.setUint8(A++,r),Array.from(y,C=>z.setUint8(A++,C.charCodeAt(0))),Array.from(p,C=>z.setUint8(A++,C.charCodeAt(0))),Array.from(f,C=>z.setUint8(A++,C.charCodeAt(0))),Array.from(m,C=>z.setUint8(A++,C.charCodeAt(0))),Array.from(b,C=>z.setUint8(A++,C.charCodeAt(0)));var N=new Uint8Array(S.byteLength+l.byteLength);return N.set(new Uint8Array(S),0),N.set(new Uint8Array(l),S.byteLength),N.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,h,f,p,y]=l;return r({join_ref:u,ref:h,topic:f,event:p,payload:y})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,r,u)}_decodeUserBroadcast(a,r,l){const u=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),p=r.getUint8(4);let y=this.HEADER_LENGTH+4;const m=l.decode(a.slice(y,y+u));y=y+u;const v=l.decode(a.slice(y,y+h));y=y+h;const b=l.decode(a.slice(y,y+f));y=y+f;const _=a.slice(y,a.byteLength),S=p===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,z={type:this.BROADCAST_EVENT,event:v,payload:S};return f>0&&(z.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:z}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>r.includes(l)))}}class b0{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(De||(De={}));const Eg=(i,a,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((h,f)=>(h[f]=t2(f,i,a,u),h),{}):{}},t2=(i,a,r,l)=>{const u=a.find(p=>p.name===i),h=u?.type,f=r[i];return h&&!l.includes(h)?_0(h,f):zu(f)},_0=(i,a)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return s2(a,r)}switch(i){case De.bool:return n2(a);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return a2(a);case De.json:case De.jsonb:return i2(a);case De.timestamp:return r2(a);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return zu(a);default:return zu(a)}},zu=i=>i,n2=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},a2=i=>{if(typeof i=="string"){const a=parseFloat(i);if(!Number.isNaN(a))return a}return i},i2=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},s2=(i,a)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let h;const f=i.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>_0(a,p))}return i},r2=i=>typeof i=="string"?i.replace(" ","T"):i,S0=i=>{const a=new URL(i);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class mu{constructor(a,r,l={},u=Ru){this.channel=a,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Tg;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Tg||(Tg={}));class Bs{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,u,h,f),this.pendingDiffs.forEach(y=>{this.state=Bs.syncDiff(this.state,y,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Bs.syncDiff(this.state,u,h,f),p())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,u){const h=this.cloneDeep(a),f=this.transformState(r),p={},y={};return this.map(h,(m,v)=>{f[m]||(y[m]=v)}),this.map(f,(m,v)=>{const b=h[m];if(b){const _=v.map(N=>N.presence_ref),S=b.map(N=>N.presence_ref),z=v.filter(N=>S.indexOf(N.presence_ref)<0),A=b.filter(N=>_.indexOf(N.presence_ref)<0);z.length>0&&(p[m]=z),A.length>0&&(y[m]=A)}else p[m]=v}),this.syncDiff(h,{joins:p,leaves:y},l,u)}static syncDiff(a,r,l,u){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(p,y)=>{var m;const v=(m=a[p])!==null&&m!==void 0?m:[];if(a[p]=this.cloneDeep(y),v.length>0){const b=a[p].map(S=>S.presence_ref),_=v.filter(S=>b.indexOf(S.presence_ref)<0);a[p].unshift(..._)}l(p,v,y)}),this.map(f,(p,y)=>{let m=a[p];if(!m)return;const v=y.map(b=>b.presence_ref);m=m.filter(b=>v.indexOf(b.presence_ref)<0),a[p]=m,u(p,m,y),m.length===0&&delete a[p]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const u=a[l];return"metas"in u?r[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=u,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ag;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ag||(Ag={}));var Ls;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ls||(Ls={}));var An;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class Ri{constructor(a,r={config:{}},l){var u,h;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mu(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new b0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new Bs(this),this.broadcastEndpointURL=S0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:f,presence:p,private:y}}=this.params,m=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[Ls.PRESENCE]&&this.bindings[Ls.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:m,private:y};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>a?.(An.CHANNEL_ERROR,S)),this._onClose(()=>a?.(An.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var z;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){a?.(An.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,N=(z=A?.length)!==null&&z!==void 0?z:0,C=[];for(let R=0;R<N;R++){const T=A[R],{filter:{event:J,schema:X,table:I,filter:K}}=T,de=S&&S[R];if(de&&de.event===J&&Ri.isFilterValueEqual(de.schema,X)&&Ri.isFilterValueEqual(de.table,I)&&Ri.isFilterValueEqual(de.filter,K))C.push(Object.assign(Object.assign({},T),{id:de.id}));else{this.unsubscribe(),this.state=et.errored,a?.(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,a&&a(An.SUBSCRIBED);return}}).receive("error",S=>{this.state=et.errored,a?.(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a?.(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===et.joined&&a===Ls.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var u;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let y=p.statusText;try{const m=await p.json();y=m.error||m.message||y}catch{}return Promise.reject(new Error(y))}async send(a,r={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=a,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,y;const m=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),m.receive("ok",()=>h("ok")),m.receive("error",()=>h("error")),m.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new mu(this,Qt.leave,{},a),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(h),f}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new mu(this,a,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Fb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var u,h;const f=a.toLocaleLowerCase(),{close:p,error:y,leave:m,join:v}=Qt;if(l&&[p,y,m,v].indexOf(f)>=0&&l!==this._joinRef())return;let _=this._onMessage(f,r,l);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var z,A,N;return((z=S.filter)===null||z===void 0?void 0:z.event)==="*"||((N=(A=S.filter)===null||A===void 0?void 0:A.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(S=>S.callback(_,l)):(h=this.bindings[f])===null||h===void 0||h.filter(S=>{var z,A,N,C,R,T;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const J=S.id,X=(z=S.filter)===null||z===void 0?void 0:z.event;return J&&((A=r.ids)===null||A===void 0?void 0:A.includes(J))&&(X==="*"||X?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const J=(R=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return J==="*"||J===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof _=="object"&&"ids"in _){const z=_.data,{schema:A,table:N,commit_timestamp:C,type:R,errors:T}=z;_=Object.assign(Object.assign({},{schema:A,table:N,commit_timestamp:C,eventType:R,new:{},old:{},errors:T}),this._getPayloadRecords(z))}S.callback(_,l)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const u=a.toLocaleLowerCase(),h={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Ri.isEqual(u.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Qt.close,{},a)}_onError(a){this._on(Qt.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=Eg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=Eg(a.columns,a.old_record)),r}}const yu=()=>{},vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l2=[1e3,2e3,5e3,1e4],o2=1e4,c2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u2{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ru,this.transport=null,this.heartbeatIntervalMs=vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yu,this.ref=0,this.reconnectTimer=null,this.vsn=jg,this.logger=yu,this.conn=null,this.sendBuffer=[],this.serializer=new e2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...h)=>u(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Cu.websocket}`,this.httpEndpoint=S0(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kb.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case na.connecting:return Ra.Connecting;case na.open:return Ra.Open;case na.closing:return Ra.Closing;default:return Ra.Closed}}isConnected(){return this.connectionState()===Ra.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new Ri(`realtime:${a}`,r,this);return this.channels.push(h),h}}push(a){const{topic:r,event:l,payload:u,ref:h}=a,f=()=>{this.encode(a,p=>{var y;(y=this.conn)===null||y===void 0||y.send(p)})};this.log("push",`${r} ${l} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Zb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:h,ref:f}=r,p=f?`(${f})`:"",y=h.status||"";this.log("receive",`${y} ${l} ${u} ${p}`.trim(),h),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(u,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===na.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===na.open||this.conn.readyState===na.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Qt.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${a}${l}${u}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([c2],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,l=!1;if(a)r=a,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(u=>{const h={access_token:r,version:Jb};r&&u.updateJoinPayload(h),u.joinedOnce&&u._isJoined()&&u._push(Qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new b0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,u,h,f,p,y,m,v,b,_,S;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Ru,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:vl.HEARTBEAT_INTERVAL,this.worker=(h=a?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=a?.heartbeatCallback)!==null&&p!==void 0?p:yu,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:jg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=a?.reconnectAfterMs)!==null&&m!==void 0?m:(z=>l2[z-1]||o2),this.vsn){case Qb:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((z,A)=>A(JSON.stringify(z))),this.decode=(b=a?.decode)!==null&&b!==void 0?b:((z,A)=>A(JSON.parse(z)));break;case v0:this.encode=(_=a?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=a?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Ws=class extends Error{constructor(i,a){super(i),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function d2(i,a,r){const l=new URL(a,i);if(r)for(const[u,h]of Object.entries(r))h!==void 0&&l.searchParams.set(u,h);return l.toString()}async function h2(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function f2(i){const a=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:u,body:h,headers:f}){const p=d2(i.baseUrl,l,u),y=await h2(i.auth),m=await a(p,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...y,...f},body:h?JSON.stringify(h):void 0}),v=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),_=b&&v?JSON.parse(v):v;if(!m.ok){const S=b?_:void 0,z=S?.error;throw new Ws(z?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:z?.type,icebergCode:z?.code,details:S})}return{status:m.status,headers:m.headers,data:_}}}}function bl(i){return i.join("")}var p2=class{constructor(i,a=""){this.client=i,this.prefix=a}async listNamespaces(i){const a=i?{parent:bl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,a){const r={namespace:i.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bl(i.namespace)}`}),!0}catch(a){if(a instanceof Ws&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(i,a){try{return await this.createNamespace(i,a)}catch(r){if(r instanceof Ws&&r.status===409)return;throw r}}};function bi(i){return i.join("")}var g2=class{constructor(i,a="",r){this.client=i,this.prefix=a,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables`})).data.identifiers}async createTable(i,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(i,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables/${i.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(i){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables/${i.name}`,headers:a})).data.metadata}async tableExists(i){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bi(i.namespace)}/tables/${i.name}`,headers:a}),!0}catch(r){if(r instanceof Ws&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,a){try{return await this.createTable(i,a)}catch(r){if(r instanceof Ws&&r.status===409)return await this.loadTable({namespace:i.namespace,name:a.name});throw r}}},m2=class{constructor(i){let a="v1";i.catalogName&&(a+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=f2({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new p2(this.client,a),this.tableOps=new g2(this.client,a,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,a){return this.namespaceOps.createNamespace(i,a)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,a){return this.tableOps.createTable(i,a)}async updateTable(i,a){return this.tableOps.updateTable(i,a)}async dropTable(i,a){await this.tableOps.dropTable(i,a)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,a){return this.namespaceOps.createNamespaceIfNotExists(i,a)}async createTableIfNotExists(i,a){return this.tableOps.createTableIfNotExists(i,a)}},ql=class extends Error{constructor(i,a="storage",r,l){super(i),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=l}};function Hl(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var _l=class extends ql{constructor(i,a,r,l="storage"){super(i,l,a,r),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},w0=class extends ql{constructor(i,a,r="storage"){super(i,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const y2=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),x2=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Ou=i=>{if(Array.isArray(i))return i.map(r=>Ou(r));if(typeof i=="function"||i!==Object(i))return i;const a={};return Object.entries(i).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[u]=Ou(l)}),a},v2=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Ys(i){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ys(i)}function b2(i,a){if(Ys(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,a);if(Ys(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function _2(i){var a=b2(i,"string");return Ys(a)=="symbol"?a:a+""}function S2(i,a,r){return(a=_2(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function kg(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function le(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?kg(Object(r),!0).forEach(function(l){S2(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const Rg=i=>{var a;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(a=i.error)===null||a===void 0?void 0:a.message)||JSON.stringify(i)},w2=async(i,a,r,l)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const u=i,h=u.status||500;if(typeof u.json=="function")u.json().then(f=>{const p=f?.statusCode||f?.code||h+"";a(new _l(Rg(f),h,p,l))}).catch(()=>{if(l==="vectors"){const f=h+"";a(new _l(u.statusText||`HTTP ${h} error`,h,f,l))}else{const f=h+"";a(new _l(u.statusText||`HTTP ${h} error`,h,f,l))}});else{const f=h+"";a(new _l(u.statusText||`HTTP ${h} error`,h,f,l))}}else a(new w0(Rg(i),i,l))},j2=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"||i==="HEAD"||!l?le(le({},u),r):(x2(l)?(u.headers=le({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),le(le({},u),r))};async function Ns(i,a,r,l,u,h,f){return new Promise((p,y)=>{i(r,j2(a,l,u,h)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;if(f==="vectors"){const v=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!v||!v.includes("application/json"))return{}}return m.json()}).then(m=>p(m)).catch(m=>w2(m,y,l,f))})}function j0(i="storage"){return{get:async(a,r,l,u)=>Ns(a,"GET",r,l,u,void 0,i),post:async(a,r,l,u,h)=>Ns(a,"POST",r,u,h,l,i),put:async(a,r,l,u,h)=>Ns(a,"PUT",r,u,h,l,i),head:async(a,r,l,u)=>Ns(a,"HEAD",r,le(le({},l),{},{noResolveJson:!0}),u,void 0,i),remove:async(a,r,l,u,h)=>Ns(a,"DELETE",r,u,h,l,i)}}const E2=j0("storage"),{get:Ps,post:Jt,put:Nu,head:T2,remove:Qu}=E2,Nt=j0("vectors");var Bi=class{constructor(i,a={},r,l="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=a,this.fetch=y2(r),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=le(le({},this.headers),{},{[i]:a}),this}async handleOperation(i){var a=this;try{return{data:await i(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Hl(r))return{data:null,error:r};throw r}}},A2=class{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a}then(i,a){return this.execute().then(i,a)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Hl(a))return{data:null,error:a};throw a}}};let E0;E0=Symbol.toStringTag;var k2=class{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a,this[E0]="BlobDownloadBuilder",this.promise=null}asStream(){return new A2(this.downloadFn,this.shouldThrowOnError)}then(i,a){return this.getPromise().then(i,a)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Hl(a))return{data:null,error:a};throw a}}};const R2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var C2=class extends Bi{constructor(i,a={},r,l){super(i,a,l,"storage"),this.bucketId=r}async uploadOrUpdate(i,a,r,l){var u=this;return u.handleOperation(async()=>{let h;const f=le(le({},Cg),l);let p=le(le({},u.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),y&&h.append("metadata",u.encodeMetadata(y)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),y&&!h.has("metadata")&&h.append("metadata",u.encodeMetadata(y))):(h=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,y&&(p["x-metadata"]=u.toBase64(u.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(p=le(le({},p),l.headers));const m=u._removeEmptyFolders(a),v=u._getFinalPath(m),b=await(i=="PUT"?Nu:Jt)(u.fetch,`${u.url}/object/${v}`,h,le({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{path:m,id:b.Id,fullPath:b.Key}})}async upload(i,a,r){return this.uploadOrUpdate("POST",i,a,r)}async uploadToSignedUrl(i,a,r,l){var u=this;const h=u._removeEmptyFolders(i),f=u._getFinalPath(h),p=new URL(u.url+`/object/upload/sign/${f}`);return p.searchParams.set("token",a),u.handleOperation(async()=>{let y;const m=le({upsert:Cg.upsert},l),v=le(le({},u.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",m.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",m.cacheControl)):(y=r,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{path:h,fullPath:(await Nu(u.fetch,p.toString(),y,{headers:v})).Key}})}async createSignedUploadUrl(i,a){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(i);const u=le({},r.headers);a?.upsert&&(u["x-upsert"]="true");const h=await Jt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(r.url+h.url),p=f.searchParams.get("token");if(!p)throw new ql("No token returned by API");return{signedUrl:f.toString(),path:i,token:p}})}async update(i,a,r){return this.uploadOrUpdate("PUT",i,a,r)}async move(i,a,r){var l=this;return l.handleOperation(async()=>await Jt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:l.headers}))}async copy(i,a,r){var l=this;return l.handleOperation(async()=>({path:(await Jt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(i,a,r){var l=this;return l.handleOperation(async()=>{let u=l._getFinalPath(i),h=await Jt(l.fetch,`${l.url}/object/sign/${u}`,le({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)}})}async createSignedUrls(i,a,r){var l=this;return l.handleOperation(async()=>{const u=await Jt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:i},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u.map(f=>le(le({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null}))})}download(i,a,r){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),h=u?`?${u}`:"",f=this._getFinalPath(i),p=()=>Ps(this.fetch,`${this.url}/${l}/${f}${h}`,{headers:this.headers,noResolveJson:!0},r);return new k2(p,this.shouldThrowOnError)}async info(i){var a=this;const r=a._getFinalPath(i);return a.handleOperation(async()=>Ou(await Ps(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})))}async exists(i){var a=this;const r=a._getFinalPath(i);try{return await T2(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Hl(l)&&l instanceof w0){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,a){const r=this._getFinalPath(i),l=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&l.push(u);const h=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&l.push(f);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}async remove(i){var a=this;return a.handleOperation(async()=>await Qu(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:i},{headers:a.headers}))}async list(i,a,r){var l=this;return l.handleOperation(async()=>{const u=le(le(le({},R2),a),{},{prefix:i||""});return await Jt(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},r)})}async listV2(i,a){var r=this;return r.handleOperation(async()=>{const l=le({},i);return await Jt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},a)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}};const z2="2.97.0",Fs={"X-Client-Info":`storage-js/${z2}`};var O2=class extends Bi{constructor(i,a={},r,l){const u=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const h=u.href.replace(/\/$/,""),f=le(le({},Fs),a);super(h,f,r,"storage")}async listBuckets(i){var a=this;return a.handleOperation(async()=>{const r=a.listBucketOptionsToQueryString(i);return await Ps(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers})})}async getBucket(i){var a=this;return a.handleOperation(async()=>await Ps(a.fetch,`${a.url}/bucket/${i}`,{headers:a.headers}))}async createBucket(i,a={public:!1}){var r=this;return r.handleOperation(async()=>await Jt(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async updateBucket(i,a){var r=this;return r.handleOperation(async()=>await Nu(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(i){var a=this;return a.handleOperation(async()=>await Jt(a.fetch,`${a.url}/bucket/${i}/empty`,{},{headers:a.headers}))}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await Qu(a.fetch,`${a.url}/bucket/${i}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(i){const a={};return i&&("limit"in i&&(a.limit=String(i.limit)),"offset"in i&&(a.offset=String(i.offset)),i.search&&(a.search=i.search),i.sortColumn&&(a.sortColumn=i.sortColumn),i.sortOrder&&(a.sortOrder=i.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},N2=class extends Bi{constructor(i,a={},r){const l=i.replace(/\/$/,""),u=le(le({},Fs),a);super(l,u,r,"storage")}async createBucket(i){var a=this;return a.handleOperation(async()=>await Jt(a.fetch,`${a.url}/bucket`,{name:i},{headers:a.headers}))}async listBuckets(i){var a=this;return a.handleOperation(async()=>{const r=new URLSearchParams;i?.limit!==void 0&&r.set("limit",i.limit.toString()),i?.offset!==void 0&&r.set("offset",i.offset.toString()),i?.sortColumn&&r.set("sortColumn",i.sortColumn),i?.sortOrder&&r.set("sortOrder",i.sortOrder),i?.search&&r.set("search",i.search);const l=r.toString(),u=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return await Ps(a.fetch,u,{headers:a.headers})})}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await Qu(a.fetch,`${a.url}/bucket/${i}`,{},{headers:a.headers}))}from(i){var a=this;if(!v2(i))throw new ql("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new m2({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(u,h){const f=u[h];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(u,p),error:null}}catch(y){if(l)throw y;return{data:null,error:y}}}}})}},D2=class extends Bi{constructor(i,a={},r){const l=i.replace(/\/$/,""),u=le(le({},Fs),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async createIndex(i){var a=this;return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/CreateIndex`,i,{headers:a.headers})||{})}async getIndex(i,a){var r=this;return r.handleOperation(async()=>await Nt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:a},{headers:r.headers}))}async listIndexes(i){var a=this;return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/ListIndexes`,i,{headers:a.headers}))}async deleteIndex(i,a){var r=this;return r.handleOperation(async()=>await Nt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:a},{headers:r.headers})||{})}},U2=class extends Bi{constructor(i,a={},r){const l=i.replace(/\/$/,""),u=le(le({},Fs),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async putVectors(i){var a=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/PutVectors`,i,{headers:a.headers})||{})}async getVectors(i){var a=this;return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/GetVectors`,i,{headers:a.headers}))}async listVectors(i){var a=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/ListVectors`,i,{headers:a.headers}))}async queryVectors(i){var a=this;return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/QueryVectors`,i,{headers:a.headers}))}async deleteVectors(i){var a=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/DeleteVectors`,i,{headers:a.headers})||{})}},M2=class extends Bi{constructor(i,a={},r){const l=i.replace(/\/$/,""),u=le(le({},Fs),{},{"Content-Type":"application/json"},a);super(l,u,r,"vectors")}async createBucket(i){var a=this;return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:a.headers})||{})}async getBucket(i){var a=this;return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:i},{headers:a.headers}))}async listBuckets(i={}){var a=this;return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/ListVectorBuckets`,i,{headers:a.headers}))}async deleteBucket(i){var a=this;return a.handleOperation(async()=>await Nt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:a.headers})||{})}},B2=class extends M2{constructor(i,a={}){super(i,a.headers||{},a.fetch)}from(i){return new L2(this.url,this.headers,i,this.fetch)}async createBucket(i){var a=()=>super.createBucket,r=this;return a().call(r,i)}async getBucket(i){var a=()=>super.getBucket,r=this;return a().call(r,i)}async listBuckets(i={}){var a=()=>super.listBuckets,r=this;return a().call(r,i)}async deleteBucket(i){var a=()=>super.deleteBucket,r=this;return a().call(r,i)}},L2=class extends D2{constructor(i,a,r,l){super(i,a,l),this.vectorBucketName=r}async createIndex(i){var a=()=>super.createIndex,r=this;return a().call(r,le(le({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var a=()=>super.listIndexes,r=this;return a().call(r,le(le({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,i)}async deleteIndex(i){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,i)}index(i){return new q2(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},q2=class extends U2{constructor(i,a,r,l,u){super(i,a,u),this.vectorBucketName=r,this.indexName=l}async putVectors(i){var a=()=>super.putVectors,r=this;return a().call(r,le(le({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var a=()=>super.getVectors,r=this;return a().call(r,le(le({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var a=()=>super.listVectors,r=this;return a().call(r,le(le({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var a=()=>super.queryVectors,r=this;return a().call(r,le(le({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var a=()=>super.deleteVectors,r=this;return a().call(r,le(le({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},H2=class extends O2{constructor(i,a={},r,l){super(i,a,r,l)}from(i){return new C2(this.url,this.headers,i,this.fetch)}get vectors(){return new B2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new N2(this.url+"/iceberg",this.headers,this.fetch)}};const T0="2.97.0",Ai=30*1e3,Du=3,xu=Du*Ai,$2="http://localhost:9999",I2="supabase.auth.token",G2={"X-Client-Info":`gotrue-js/${T0}`},Uu="X-Supabase-Api-Version",A0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W2=600*1e3;class Ks extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ie(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Y2 extends Ks{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function P2(i){return ie(i)&&i.name==="AuthApiError"}class Ca extends Ks{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class Cn extends Ks{constructor(a,r,l,u){super(a,l,u),this.name=r,this.status=l}}class Ot extends Cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vu(i){return ie(i)&&i.name==="AuthSessionMissingError"}class _i extends Cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sl extends Cn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class wl extends Cn{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K2(i){return ie(i)&&i.name==="AuthImplicitGrantRedirectError"}class zg extends Cn{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X2 extends Cn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Mu extends Cn{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function bu(i){return ie(i)&&i.name==="AuthRetryableFetchError"}class Og extends Cn{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Bu extends Cn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ng=` 	
\r=`.split(""),J2=(()=>{const i=new Array(128);for(let a=0;a<i.length;a+=1)i[a]=-1;for(let a=0;a<Ng.length;a+=1)i[Ng[a].charCodeAt(0)]=-2;for(let a=0;a<Rl.length;a+=1)i[Rl[a].charCodeAt(0)]=a;return i})();function Dg(i,a,r){if(i!==null)for(a.queue=a.queue<<8|i,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Rl[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Rl[l]),a.queuedBits-=6}}function k0(i,a,r){const l=J2[i];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Ug(i){const a=[],r=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{F2(f,l,r)};for(let f=0;f<i.length;f+=1)k0(i.charCodeAt(f),u,h);return a.join("")}function Q2(i,a){if(i<=127){a(i);return}else if(i<=2047){a(192|i>>6),a(128|i&63);return}else if(i<=65535){a(224|i>>12),a(128|i>>6&63),a(128|i&63);return}else if(i<=1114111){a(240|i>>18),a(128|i>>12&63),a(128|i>>6&63),a(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Z2(i,a){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}Q2(l,a)}}function F2(i,a,r){if(a.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=i&31;else if(a.utf8seq===3)a.codepoint=i&15;else if(a.utf8seq===4)a.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|i&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Ci(i){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<i.length;u+=1)k0(i.charCodeAt(u),r,l);return new Uint8Array(a)}function e_(i){const a=[];return Z2(i,r=>a.push(r)),new Uint8Array(a)}function za(i){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};return i.forEach(u=>Dg(u,r,l)),Dg(null,r,l),a.join("")}function t_(i){return Math.round(Date.now()/1e3)+i}function n_(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",Ea={tested:!1,writable:!1},R0=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ea.tested)return Ea.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ea.tested=!0,Ea.writable=!0}catch{Ea.tested=!0,Ea.writable=!1}return Ea.writable};function a_(i){const a={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,h)=>{a[h]=u})}catch{}return r.searchParams.forEach((l,u)=>{a[u]=l}),a}const C0=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),i_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",ki=async(i,a,r)=>{await i.setItem(a,JSON.stringify(r))},Ta=async(i,a)=>{const r=await i.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ct=async(i,a)=>{await i.removeItem(a)};class $l{constructor(){this.promise=new $l.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}$l.promiseConstructor=Promise;function jl(i){const a=i.split(".");if(a.length!==3)throw new Bu("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!V2.test(a[l]))throw new Bu("JWT not in base64url format");return{header:JSON.parse(Ug(a[0])),payload:JSON.parse(Ug(a[1])),signature:Ci(a[2]),raw:{header:a[0],payload:a[1]}}}async function s_(i){return await new Promise(a=>{setTimeout(()=>a(null),i)})}function r_(i,a){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!a(h,null,f)){l(f);return}}catch(f){if(!a(h,f)){u(f);return}}})()})}function l_(i){return("0"+i.toString(16)).substr(-2)}function o_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let h=0;h<56;h++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,l_).join("")}async function c_(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function u_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await c_(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Si(i,a,r=!1){const l=o_();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await ki(i,`${a}-code-verifier`,u);const h=await u_(l);return[h,l===h?"plain":"s256"]}const d_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h_(i){const a=i.headers.get(Uu);if(!a||!a.match(d_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function f_(i){if(!i)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(i<=a)throw new Error("JWT has expired")}function p_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wi(i){if(!g_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _u(){const i={};return new Proxy(i,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function m_(i,a){return new Proxy(i,{get:(r,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,u)}})}function Mg(i){return JSON.parse(JSON.stringify(i))}const ka=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),y_=[502,503,504];async function Bg(i){var a;if(!i_(i))throw new Mu(ka(i),0);if(y_.includes(i.status))throw new Mu(ka(i),i.status);let r;try{r=await i.json()}catch(h){throw new Ca(ka(h),h)}let l;const u=h_(i);if(u&&u.getTime()>=A0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Og(ka(r),i.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Og(ka(r),i.status,r.weak_password.reasons);throw new Y2(ka(r),i.status||500,l)}const x_=(i,a,r,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function oe(i,a,r,l){var u;const h=Object.assign({},l?.headers);h[Uu]||(h[Uu]=A0["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await v_(i,a,r+p,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(y):{data:Object.assign({},y),error:null}}async function v_(i,a,r,l,u,h){const f=x_(a,l,u,h);let p;try{p=await i(r,Object.assign({},f))}catch(y){throw console.error(y),new Mu(ka(y),0)}if(p.ok||await Bg(p),l?.noResolveJson)return p;try{return await p.json()}catch(y){await Bg(y)}}function Xt(i){var a;let r=null;S_(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=t_(i.expires_in)));const l=(a=i.user)!==null&&a!==void 0?a:i;return{data:{session:r,user:l},error:null}}function Lg(i){const a=Xt(i);return!a.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=i.weak_password),a}function aa(i){var a;return{data:{user:(a=i.user)!==null&&a!==void 0?a:i},error:null}}function b_(i){return{data:i,error:null}}function __(i){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h}=i,f=Ll(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h},y=Object.assign({},f);return{data:{properties:p,user:y},error:null}}function qg(i){return i}function S_(i){return i.access_token&&i.refresh_token&&i.expires_in}const Su=["global","local","others"];class w_{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=C0(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=Su[0]){if(Su.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Su.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:aa})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=Ll(a,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:__,redirectTo:r?.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:aa})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,u,h,f,p,y;try{const m={nextPage:null,lastPage:0,total:0},v=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:qg});if(v.error)throw v.error;const b=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(y=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return S.length>0&&(S.forEach(z=>{const A=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(z.split(";")[1].split("=")[1]);m[`${N}Page`]=A}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ie(m))return{data:{users:[]},error:m};throw m}}async getUserById(a){wi(a);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:aa})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){wi(a);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:aa})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){wi(a);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:aa})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){wi(a.userId);try{const{data:r,error:l}=await oe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(a){wi(a.userId),wi(a.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,u,h,f,p,y;try{const m={nextPage:null,lastPage:0,total:0},v=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:qg});if(v.error)throw v.error;const b=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(y=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return S.length>0&&(S.forEach(z=>{const A=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(z.split(";")[1].split("=")[1]);m[`${N}Page`]=A}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ie(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(a){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function Hg(i={}){return{getItem:a=>i[a]||null,setItem:(a,r)=>{i[a]=r},removeItem:a=>{delete i[a]}}}const ji={debug:!!(globalThis&&R0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z0 extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class $g extends z0{}async function j_(i,a,r){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,a);const l=new globalThis.AbortController;a>0&&setTimeout(()=>{l.abort(),ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},a),await Promise.resolve();try{return await globalThis.navigator.locks.request(i,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await r()}finally{ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(a===0)throw ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new $g(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(ji.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(u){throw u?.name==="AbortError"?new $g(`Acquiring an exclusive Navigator LockManager lock "${i}" timed out waiting ${a}ms`):u}}function E_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function O0(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function T_(i){return parseInt(i,16)}function A_(i){const a=new TextEncoder().encode(i);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function k_(i){var a;const{chainId:r,domain:l,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:p,requestId:y,resources:m,scheme:v,uri:b,version:_}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((a=i.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=O0(i.address),z=v?`${v}://${l}`:l,A=i.statement?`${i.statement}
`:"",N=`${z} wants you to sign in with your Ethereum account:
${S}

${A}`;let C=`URI: ${b}
Version: ${_}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(C+=`
Expiration Time: ${u.toISOString()}`),p&&(C+=`
Not Before: ${p.toISOString()}`),y&&(C+=`
Request ID: ${y}`),m){let R=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);R+=`
- ${T}`}C+=R}return`${N}
${C}`}class Je extends Error{constructor({message:a,code:r,cause:l,name:u}){var h;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=u??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class Cl extends Je{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function R_({error:i,options:a}){var r,l,u;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(a.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=h.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Je({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(N0(f)){if(h.rp.id!==f)return new Je({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function C_({error:i,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Je({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(N0(l)){if(r.rpId!==l)return new Je({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class z_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const O_=new z_;function N_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:a,user:r,excludeCredentials:l}=i,u=Ll(i,["challenge","user","excludeCredentials"]),h=Ci(a).buffer,f=Object.assign(Object.assign({},r),{id:Ci(r.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:h,user:f});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let y=0;y<l.length;y++){const m=l[y];p.excludeCredentials[y]=Object.assign(Object.assign({},m),{id:Ci(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function D_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:a,allowCredentials:r}=i,l=Ll(i,["challenge","allowCredentials"]),u=Ci(a).buffer,h=Object.assign(Object.assign({},l),{challenge:u});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const p=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Ci(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function U_(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:za(new Uint8Array(i.response.attestationObject)),clientDataJSON:za(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function M_(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:za(new Uint8Array(u.authenticatorData)),clientDataJSON:za(new Uint8Array(u.clientDataJSON)),signature:za(new Uint8Array(u.signature)),userHandle:u.userHandle?za(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function N0(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Ig(){var i,a;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function B_(i){try{const a=await navigator.credentials.create(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",a)}:{data:null,error:new Cl("Empty credential response",a)}}catch(a){return{data:null,error:R_({error:a,options:i})}}}async function L_(i){try{const a=await navigator.credentials.get(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",a)}:{data:null,error:new Cl("Empty credential response",a)}}catch(a){return{data:null,error:C_({error:a,options:i})}}}const q_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},H_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zl(...i){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of i)if(u)for(const h in u){const f=u[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(r(f))l[h]=f;else if(a(f)){const p=l[h];a(p)?l[h]=zl(p,f):l[h]=zl(f)}else l[h]=f}return l}function $_(i,a){return zl(q_,i,a||{})}function I_(i,a){return zl(H_,i,a||{})}class G_{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:u},h){var f;try{const{data:p,error:y}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!p)return{data:null,error:y};const m=u??O_.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:v}=p.webauthn.credential_options.publicKey;if(!v.name){const b=l;if(b)v.name=`${v.id}:${b}`;else{const S=(await this.client.getUser()).data.user,z=((f=S?.user_metadata)===null||f===void 0?void 0:f.name)||S?.email||S?.id||"User";v.name=`${v.id}:${z}`}}v.displayName||(v.displayName=v.name)}switch(p.webauthn.type){case"create":{const v=$_(p.webauthn.credential_options.publicKey,h?.create),{data:b,error:_}=await B_({publicKey:v,signal:m});return b?{data:{factorId:a,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const v=I_(p.webauthn.credential_options.publicKey,h?.request),{data:b,error:_}=await L_(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:v,signal:m}));return b?{data:{factorId:a,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(p){return ie(p)?{data:null,error:p}:{data:null,error:new Ca("Unexpected error in challenge",p)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!r)return{data:null,error:new Ks("rpId is required for WebAuthn authentication")};try{if(!Ig())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:u},{request:h});if(!f)return{data:null,error:p};const{webauthn:y}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:l,credential_response:y.credential_response}})}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new Ca("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!r)return{data:null,error:new Ks("rpId is required for WebAuthn registration")};try{if(!Ig())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===a&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:p};const{data:y,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:u},{create:h});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:l,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:m}}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new Ca("Unexpected error in register",f)}}}}E_();const V_={url:$2,storageKey:I2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function Gg(i,a,r){return await r()}const Ei={};class Xs{get jwks(){var a,r;return(r=(a=Ei[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=Ei[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},V_),a);if(this.storageKey=h.storageKey,this.instanceID=(r=Xs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Xs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ut()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new w_({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=C0(h.fetch),this.lock=h.lock||Gg,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&ut()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=j_:this.lock=Gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new G_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:R0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hg(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Hg(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}h.skipAutoInitialize||this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${T0}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(ut()&&(r=a_(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ut()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),K2(h)){const y=(a=h.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new Ca("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,u;try{const h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Xt}),{data:f,error:p}=h;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const y=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:m,session:y},error:null})}catch(h){if(ie(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var r,l,u;try{let h;if("email"in a){const{email:v,password:b,options:_}=a;let S=null,z=null;this.flowType==="pkce"&&([S,z]=await Si(this.storage,this.storageKey)),h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:b,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:z},xform:Xt})}else if("phone"in a){const{phone:v,password:b,options:_}=a;h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(u=_?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Xt})}else throw new Sl("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const y=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:m,session:y},error:null})}catch(h){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ie(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let r;if("email"in a){const{email:h,password:f,options:p}=a;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Lg})}else if("phone"in a){const{phone:h,password:f,options:p}=a;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Lg})}else throw new Sl("You must provide either an email or phone number and a password");const{data:l,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new _i;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,u,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,u,h,f,p,y,m,v,b,_;let S,z;if("message"in a)S=a.message,z=a.signature;else{const{chain:A,wallet:N,statement:C,options:R}=a;let T;if(ut())if(typeof N=="object")T=N;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")T=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=N}const J=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),X=await T.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=O0(X[0]);let K=(l=R?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const ue=await T.request({method:"eth_chainId"});K=T_(ue)}const de={domain:J.host,address:I,statement:C,uri:J.href,version:"1",chainId:K,nonce:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(y=R?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=R?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=k_(de),z=await T.request({method:"personal_sign",params:[A_(S),I]})}try{const{data:A,error:N}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:z},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=a.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Xt});if(N)throw N;if(!A||!A.session||!A.user){const C=new _i;return this._returnResult({data:{user:null,session:null},error:C})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:N})}catch(A){if(ie(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(a){var r,l,u,h,f,p,y,m,v,b,_,S;let z,A;if("message"in a)z=a.message,A=a.signature;else{const{chain:N,wallet:C,statement:R,options:T}=a;let J;if(ut())if(typeof C=="object")J=C;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))J=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=C}const X=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in J&&J.signIn){const I=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),R?{statement:R}:null));let K;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")K=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)K=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)z=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),A=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");z=[`${X.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(u=(l=T?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=T?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((y=T?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((b=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...T.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const I=await J.signMessage(new TextEncoder().encode(z),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=I}}try{const{data:N,error:C}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:z,signature:za(A)},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Xt});if(C)throw C;if(!N||!N.session||!N.user){const R=new _i;return this._returnResult({data:{user:null,session:null},error:R})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:C})}catch(N){if(ie(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const r=await Ta(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new X2;const{data:h,error:f}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Xt});if(await ct(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const p=new _i;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ie(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:r,provider:l,token:u,access_token:h,nonce:f}=a,p=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Xt}),{data:y,error:m}=p;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!y||!y.session||!y.user){const v=new _i;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:m})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,u,h,f;try{if("email"in a){const{email:p,options:y}=a;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Si(this.storage,this.storageKey));const{error:b}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=y?.data)!==null&&r!==void 0?r:{},create_user:(l=y?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in a){const{phone:p,options:y}=a,{data:m,error:v}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=y?.data)!==null&&u!==void 0?u:{},create_user:(h=y?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(f=y?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Sl("You must provide either an email or phone number.")}catch(p){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ie(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(a){var r,l;try{let u,h;"options"in a&&(u=(r=a.options)===null||r===void 0?void 0:r.redirectTo,h=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Xt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,m=f.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:m,session:y},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var r,l,u,h,f;try{let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Si(this.storage,this.storageKey));const m=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:y}),headers:this.headers,xform:b_});return!((h=m.data)===null||h===void 0)&&h.url&&ut()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(p){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ie(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new Ot;const{error:u}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:h}=a,{error:f}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:u,options:h}=a,{data:f,error:p}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Sl("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Ta(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<xu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await Ta(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=_u()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=m_(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:aa}):await this._useSession(async r=>{var l,u,h;const{data:f,error:p}=r;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:aa})})}catch(r){if(ie(r))return vu(r)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new Ot;const f=u.session;let p=null,y=null;this.flowType==="pkce"&&a.email!=null&&([p,y]=await Si(this.storage,this.storageKey));const{data:m,error:v}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:p,code_challenge_method:y}),jwt:f.access_token,xform:aa});if(v)throw v;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ot;const r=Date.now()/1e3;let l=r,u=!0,h=null;const{payload:f}=jl(a.access_token);if(f.exp&&(l=f.exp,u=l<=r),u){const{data:p,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:y}=await this._getUser(a.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});h={access_token:a.access_token,refresh_token:a.refresh_token,user:p.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:f,error:p}=r;if(p)throw p;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Ot;const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!ut())throw new wl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new wl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new zg("No code detected.");const{data:R,error:T}=await this._exchangeCodeForSession(a.code);if(T)throw T;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:p,expires_at:y,token_type:m}=a;if(!h||!p||!f||!m)throw new wl("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(p);let _=v+b;y&&(_=parseInt(y));const S=_-v;S*1e3<=Ai&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const z=_-b;v-z>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",z,_,v):v-z<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",z,_,v);const{data:A,error:N}=await this._getUser(h);if(N)throw N;const C={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:b,expires_at:_,refresh_token:f,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:a.type},error:null})}catch(l){if(ie(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Ta(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h&&!vu(h))return this._returnResult({error:h});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,a);if(p&&!(P2(p)&&(p.status===404||p.status===401||p.status===403)||vu(p)))return this._returnResult({error:p})}return a!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=n_(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,u;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Si(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ie(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:u}=await this._useSession(async h=>{var f,p,y,m,v;const{data:b,error:_}=h;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=a.options)===null||p===void 0?void 0:p.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return ut()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(ie(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:u,data:{session:h}}=r;if(u)throw u;const{options:f,provider:p,token:y,access_token:m,nonce:v}=a,b=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:y,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xt}),{data:_,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new _i}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(u){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)throw f;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await r_(async u=>(u>0&&await s_(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Xt})),(u,h)=>{const f=200*Math.pow(2,u);return h&&bu(h)&&Date.now()+f-l<Ai})}catch(l){if(this._debug(r,"error",l),ie(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),ut()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Ta(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Ta(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await ki(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f?.user)!==null&&a!==void 0?a:_u()}else if(u&&!u.user&&!u.user){const f=await Ta(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await ct(this.storage,this.storageKey+"-user"),await ki(this.storage,this.storageKey,u)):u.user=_u()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xu;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${xu}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),bu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new $l;const{data:h,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!h.session)throw new Ot;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={data:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(u,"error",h),ie(h)){const f={data:null,error:h};return bu(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,r,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(a,r)}catch(y){h.push(y)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await ki(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const h=Mg(u);await ki(this.storage,this.storageKey,h)}else{const u=Mg(r);await ki(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Ai);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/Ai);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ai}ms, refresh threshold is ${Du} ticks`),u<=Du&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof z0)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await Si(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;return h?this._returnResult({data:null,error:h}):await oe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:m}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(a.factorType==="totp"&&y.type==="totp"&&(!((u=y?.totp)===null||u===void 0)&&u.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?U_(a.webauthn.credential_response):M_(a.webauthn.credential_response)})}:{code:a.code}),{data:p,error:y}=await oe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:y}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await oe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:N_(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:D_(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=r?.factors)!==null&&a!==void 0?a:[])u.all.push(h),h.status==="verified"&&u[h.factor_type].push(h);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(a){var r,l,u,h;if(a)try{const{payload:S}=jl(a);let z=null;S.aal&&(z=S.aal);let A=z;const{data:{user:N},error:C}=await this.getUser(a);if(C)return this._returnResult({data:null,error:C});((l=(r=N?.factors)===null||r===void 0?void 0:r.filter(J=>J.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(A="aal2");const T=S.amr||[];return{data:{currentLevel:z,nextLevel:A,currentAuthenticationMethods:T},error:null}}catch(S){if(ie(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:f},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=jl(f.access_token);let m=null;y.aal&&(m=y.aal);let v=m;((h=(u=f.user.factors)===null||u===void 0?void 0:u.filter(S=>S.status==="verified"))!==null&&h!==void 0?h:[]).length>0&&(v="aal2");const _=y.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Ot});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&ut()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Ot});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&ut()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ot})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(p=>p.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(p=>p.kid===a),l&&this.jwks_cached_at+W2>u)return l;const{data:h,error:f}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(p=>p.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:S,error:z}=await this.getSession();if(z||!S.session)return this._returnResult({data:null,error:z});l=S.session.access_token}const{header:u,payload:h,signature:f,raw:{header:p,payload:y}}=jl(l);r?.allowExpired||f_(h.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:h,header:u,signature:f},error:null}}const v=p_(u.alg),b=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,f,e_(`${p}.${y}`)))throw new Bu("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}}Xs.nextInstanceID={};const W_=Xs,Y_="2.97.0";let Ds="";typeof Deno<"u"?Ds="deno":typeof document<"u"?Ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ds="react-native":Ds="node";const P_={"X-Client-Info":`supabase-js-${Ds}/${Y_}`},K_={headers:P_},X_={schema:"public"},J_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Q_={};function Js(i){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Js(i)}function Z_(i,a){if(Js(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,a);if(Js(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function F_(i){var a=Z_(i,"string");return Js(a)=="symbol"?a:a+""}function eS(i,a,r){return(a=F_(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function Vg(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),r.push.apply(r,l)}return r}function Ie(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Vg(Object(r),!0).forEach(function(l){eS(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const tS=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),nS=()=>Headers,aS=(i,a,r)=>{const l=tS(r),u=nS();return async(h,f)=>{var p;const y=(p=await a())!==null&&p!==void 0?p:i;let m=new u(f?.headers);return m.has("apikey")||m.set("apikey",i),m.has("Authorization")||m.set("Authorization",`Bearer ${y}`),l(h,Ie(Ie({},f),{},{headers:m}))}};function iS(i){return i.endsWith("/")?i:i+"/"}function sS(i,a){var r,l;const{db:u,auth:h,realtime:f,global:p}=i,{db:y,auth:m,realtime:v,global:b}=a,_={db:Ie(Ie({},y),u),auth:Ie(Ie({},m),h),realtime:Ie(Ie({},v),f),storage:{},global:Ie(Ie(Ie({},b),p),{},{headers:Ie(Ie({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?_.accessToken=i.accessToken:delete _.accessToken,_}function rS(i){const a=i?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iS(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var lS=class extends W_{constructor(i){super(i)}},oS=class{constructor(i,a,r){var l,u;this.supabaseUrl=i,this.supabaseKey=a;const h=rS(i);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:X_,realtime:Q_,auth:Ie(Ie({},J_),{},{storageKey:f}),global:K_},y=sS(r??{},p);if(this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=y.auth)!==null&&m!==void 0?m:{},this.headers,y.global.fetch)}this.fetch=aS(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Pb(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new H2(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new qb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,a,r)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,a,r;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:u,storageKey:h,flowType:f,lock:p,debug:y,throwOnError:m},v,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lS({url:this.authUrl.href,headers:Ie(Ie({},_),v),storageKey:h,autoRefreshToken:i,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:u,flowType:f,lock:p,debug:y,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new u2(this.realtimeUrl.href,Ie(Ie({},i),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a?.access_token)})}_handleTokenChanged(i,a,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const cS=(i,a,r)=>new oS(i,a,r);function uS(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const a=i.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}uS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lu="https://lfwvhfncegshxuljwppc.supabase.co".trim(),qu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxmd3ZoZm5jZWdzaHh1bGp3cHBjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NTE2NDUsImV4cCI6MjA3MTAyNzY0NX0.qU4x25I0ZlXD_Bk74vrrKJy063sfnKGevRc0xf9W2uA".trim(),dS=Lu&&qu&&Lu!=="undefined"&&qu!=="undefined";dS||console.error("ERRO DE CONFIGURAO: As chaves do Supabase no foram encontradas no arquivo .env ou esto vazias.");const we=cS(Lu||"https://placeholder.supabase.co",qu||"placeholder",{auth:{persistSession:!0,storageKey:"bloom-auth-token",storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0,lock:!1},global:{headers:{"x-application-name":"bloom-psicologia"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),hS=(i,a=45e3)=>{let r;const l=new Promise((u,h)=>{r=setTimeout(()=>{const f=new Error("O banco de dados est demorando muito para responder (Hibernao)");f.name="TimeoutError",h(f)},a)});return Promise.race([i,l]).finally(()=>clearTimeout(r))},at=async(i,a=3,r=2e3)=>{let l=0;const u=async()=>{l++;try{const h=l===1?45e3:3e4;return await hS(i(),h)}catch(h){const f=h.name==="TimeoutError"||h.message?.includes("timeout"),p=!h.status||h.message?.includes("Fetch")||h.message?.includes("network");if(a>0&&(f||p))return console.warn(`[Supabase] Tentativa ${l} falhou. Motivo: ${h.message}. Tentando novamente em ${r}ms...`),await new Promise(y=>setTimeout(y,r)),a--,r*=1.5,u();throw h}};return u()},be={async checkConnection(){return at(async()=>{const{error:i}=await we.from("profiles_psico").select("id").limit(1);if(i)throw i;return{ok:!0}})},async getPatients(i=null){return at(async()=>{let a=we.from("patients_psico").select("*").order("created_at",{ascending:!1});i&&(a=a.eq("psychologist_id",i));const{data:r,error:l}=await a;if(l)throw console.error("Erro ao buscar pacientes:",l),l;return r||[]})},async getPatientById(i){return at(async()=>{const{data:a,error:r}=await we.from("patients_psico").select("*").eq("id",i).single();if(r)throw r;return a})},async createPatient(i){const a={name:i.name,psychologist_id:i.psychologist_id,birth_date:i.birth_date||null,gender:i.gender||null,cpf:i.cpf||null,responsible_name:i.responsible_name||null,responsible_phone:i.responsible_phone||null,responsible_email:i.responsible_email||null,responsible_relationship:i.responsible_relationship||null,school_name:i.school_name||null,school_grade:i.school_grade||null,referral_source:i.referral_source||null,main_complaint:i.main_complaint||null,diagnosis:i.diagnosis||null,medications:i.medications||null,session_frequency:i.session_frequency||"semanal",session_day:i.session_day||null,session_time:i.session_time||null,health_insurance:i.health_insurance||null,session_value:i.session_value?Number(i.session_value):null,notes:i.notes||null,status:"ativo"},{data:r,error:l}=await we.from("patients_psico").insert([a]).select();if(l)throw console.error("Erro ao inserir paciente:",l),l;return r[0]},async updatePatientCoins(i,a,r){return at(async()=>{const l=await this.getPatientById(i),u=(l.coins||0)+a,h=(l.xp||0)+r,f=Math.floor(h/100)+1,{data:p,error:y}=await we.from("patients_psico").update({coins:u,xp:h,level:f}).eq("id",i).select();if(y)throw y;return p[0]})},async getEvolutions(i){return at(async()=>{const{data:a,error:r}=await we.from("evolutions_psico").select("*").eq("patient_id",i).order("session_date",{ascending:!1});if(r)throw r;return a})},async createEvolution(i){const{data:a,error:r}=await we.from("evolutions_psico").insert([i]).select();if(r)throw r;return a[0]},async getDiagnostics(i,a=!1){return at(async()=>{let r=we.from("diagnostics_psico").select("*").eq("patient_id",i).order("created_at",{ascending:!1});a&&(r=r.eq("share_with_parents",!0));const{data:l,error:u}=await r;if(u)throw u;return l||[]})},async createDiagnostic(i){const{data:a,error:r}=await we.from("diagnostics_psico").insert([i]).select();if(r)throw r;return a[0]},async getTasks(i){return at(async()=>{const{data:a,error:r}=await we.from("tasks_psico").select("*").eq("patient_id",i).order("created_at",{ascending:!1});if(r)throw r;return a||[]})},async createTask(i){const{data:a,error:r}=await we.from("tasks_psico").insert([i]).select();if(r)throw r;return a[0]},async completeTask(i,a){return at(async()=>{const{data:r,error:l}=await we.from("tasks_psico").update({status:"concluida",completed_at:new Date().toISOString()}).eq("id",i).select().single();if(l)throw l;const u=r.coins_reward||10,h=r.xp_reward||25;return await this.updatePatientCoins(a,u,h),r})},async getAchievements(){return at(async()=>{const{data:i,error:a}=await we.from("achievements_psico").select("*").order("requirement_value",{ascending:!0});if(a)throw a;return i||[]})},async getPatientAchievements(i){const{data:a,error:r}=await we.from("patient_achievements_psico").select("*, achievements_psico(*)").eq("patient_id",i).order("unlocked_at",{ascending:!1});if(r)throw r;return a||[]},async unlockAchievement(i,a){const{data:r,error:l}=await we.from("patient_achievements_psico").insert([{patient_id:i,achievement_id:a}]).select();if(l){if(l.code==="23505")return null;throw l}return r[0]},async generateAccessCode(i,a){return at(async()=>{const r=Math.random().toString(36).substring(2,8).toUpperCase(),{data:l,error:u}=await we.from("portal_access_psico").insert([{patient_id:i,portal_type:a,access_code:r}]).select();if(u)throw console.error("Erro ao gerar cdigo de acesso:",u),u;return l[0]})},async getAccessCodes(i){return at(async()=>{const{data:a,error:r}=await we.from("portal_access_psico").select("*").eq("patient_id",i).eq("is_active",!0);if(r)throw console.error("Erro ao buscar cdigos de acesso:",r),r;return a||[]})},async validateAccessCode(i){return at(async()=>{console.log("Validando cdigo:",i);const{data:a,error:r}=await we.from("portal_access_psico").select("*, patients_psico(*, profiles_psico(*))").eq("access_code",i.toUpperCase()).eq("is_active",!0).single();return r?(console.warn("Validao de cdigo falhou ou cdigo inexistente:",r.message),null):a})},async getAppointments(i,a,r=null){return at(async()=>{let l=we.from("appointments_psico").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});i&&(l=l.gte("date",i)),a&&(l=l.lte("date",a)),r&&(l=l.eq("psychologist_id",r));const{data:u,error:h}=await l;if(h)throw h;return u||[]})},async createAppointment(i){const{data:a,error:r}=await we.from("appointments_psico").insert([i]).select();if(r)throw r;return a[0]},async updateAppointment(i,a){const{data:r,error:l}=await we.from("appointments_psico").update(a).eq("id",i).select();if(l)throw l;return r[0]},async deleteAppointment(i){const{error:a}=await we.from("appointments_psico").delete().eq("id",i);if(a)throw a},async getTransactions(i=null){return at(async()=>{let a=we.from("transactions_psico").select("*").order("date",{ascending:!1});i&&(a=a.eq("psychologist_id",i));const{data:r,error:l}=await a;if(l)throw l;return r||[]})},async createTransaction(i){const{data:a,error:r}=await we.from("transactions_psico").insert([i]).select();if(r)throw r;return a[0]},async deleteTransaction(i){const{error:a}=await we.from("transactions_psico").delete().eq("id",i);if(a)throw a},async generateSmartEvolution(i,a){const r=`Tags: ${i.join(", ")}. Contexto: ${a}`;console.log("Processando IA Bloom...",r);const l=["O paciente demonstrou excelente engajamento nas atividades propostas. Atravs das tcnicas ldicas de mediao, observou-se evoluo na regulao emocional e maior tempo de foco atencional.","Durante a sesso, o paciente apresentou resistncia inicial, mas aps o estabelecimento do vnculo teraputico, engajou-se no jogo simblico, demonstrando melhora na comunicao verbal.","Observou-se um avano significativo na autonomia do paciente. As intervenes focadas em coordenao motora e interao social tm mostrado resultados consistentes no ambiente clnico."];return l[Math.floor(Math.random()*l.length)]}},D0=j.createContext({}),tn=()=>j.useContext(D0),fS=({children:i})=>{const[a,r]=j.useState(null),[l,u]=j.useState(null),[h,f]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const A=(await we.auth.getSession().catch(N=>(console.warn("Falha rpida ao buscar sesso:",N),{data:{session:null}}))).data?.session;A?.user&&(r(A.user),p(A.user.id))}catch(z){console.error("Erro crtico na inicializao do Auth:",z)}finally{f(!1)}})();const{data:{subscription:S}}=we.auth.onAuthStateChange(async(z,A)=>{console.log("Evento Auth:",z),r(A?.user??null),A?.user?p(A.user.id):u(null),z==="SIGNED_OUT"&&localStorage.removeItem("bloom-auth-token")});return()=>S.unsubscribe()},[]);const p=async _=>{if(_)try{const S=await at(async()=>{const{data:z,error:A}=await we.from("profiles_psico").select("*").eq("id",_).single();if(A){if(A.code==="PGRST116")return console.warn("Perfil ainda no criado para o usurio:",_),null;throw A}return z},3,2e3);S&&u(S)}catch(S){console.error("Falha definitiva ao buscar perfil aps retentativas:",S)}},b={user:a,profile:l,loading:h,signIn:async(_,S)=>await at(async()=>{const{data:A,error:N}=await we.auth.signInWithPassword({email:_,password:S});if(N)throw N;return A}),signUp:async(_,S,z)=>{const A=await at(async()=>{const{data:N,error:C}=await we.auth.signUp({email:_,password:S,options:{data:{full_name:z}}});if(C)throw C;return N});if(A?.user)try{await at(async()=>{const{error:N}=await we.from("profiles_psico").insert([{id:A.user.id,full_name:z}]);if(N)throw N})}catch(N){console.error("Erro ao criar registro de perfil:",N)}return A},signOut:async()=>{await we.auth.signOut(),r(null),u(null)},isAuthenticated:!!a};return o.jsx(D0.Provider,{value:b,children:i})},pS=({isOpen:i,onClose:a})=>{const r=en(),l=Wt(),{signOut:u}=tn(),h=async()=>{try{await u(),l("/")}catch(p){console.error("Erro ao sair:",p)}},f=[{icon:o.jsx(p0,{size:20}),label:"Dashboard",path:"/dashboard"},{icon:o.jsx(Xu,{size:20}),label:"Pacientes",path:"/pacientes"},{icon:o.jsx(on,{size:20}),label:"Agenda",path:"/agenda"},{icon:o.jsx(zi,{size:20}),label:"Financeiro",path:"/financeiro"},{icon:o.jsx(Na,{size:20}),label:"Relatrios",path:"/relatorios"}];return o.jsxs("aside",{className:`bloom-sidebar ${i?"mobile-open":""}`,children:[o.jsx("button",{className:"mobile-sidebar-close",onClick:a,"aria-label":"Fechar menu",style:{display:"none",position:"absolute",top:"16px",right:"16px",background:"none",border:"none",color:"var(--bloom-text-muted)",cursor:"pointer",padding:"8px",borderRadius:"8px",zIndex:101},children:o.jsx(Gs,{size:24})}),o.jsxs("div",{className:"logo-container",onClick:()=>l("/"),style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"60px",cursor:"pointer",padding:"0 4px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--bloom-lavender)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"900",fontSize:"20px",flexShrink:0},children:"B"}),o.jsx("span",{style:{fontSize:"22px",fontWeight:"800",fontFamily:"Outfit"},children:"Bloom"})]}),o.jsx("nav",{style:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},children:f.map(p=>o.jsxs(Ul,{to:p.path,onClick:a,className:`nav-item ${r.pathname===p.path?"active":""}`,style:{textDecoration:"none",display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"12px",transition:"0.2s",color:r.pathname===p.path?"white":"var(--bloom-text-muted)",backgroundColor:r.pathname===p.path?"rgba(139, 92, 246, 0.1)":"transparent",overflow:"hidden"},children:[o.jsx("span",{style:{color:r.pathname===p.path?"var(--bloom-lavender)":"inherit",display:"flex",flexShrink:0},children:p.icon}),o.jsx("span",{style:{fontWeight:r.pathname===p.path?"600":"500",fontSize:"15px"},children:p.label})]},p.path))}),o.jsxs("div",{style:{marginTop:"auto",display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("button",{className:"btn-primary",style:{width:"100%",justifyContent:"center",padding:"12px",borderRadius:"12px",overflow:"hidden"},children:[o.jsx(y1,{size:20,style:{flexShrink:0}}),o.jsx("span",{style:{marginLeft:"10px"},children:"Nova Sesso"})]}),o.jsxs("div",{className:"user-info-container",style:{padding:"12px 4px",borderTop:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",overflow:"hidden"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--bloom-surface-lighter)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",flexShrink:0},children:"MM"}),o.jsx("span",{className:"user-info",style:{fontSize:"13px",fontWeight:"600"},children:"Mayne"})]}),o.jsx(Z1,{size:18,color:"var(--bloom-text-muted)",style:{cursor:"pointer",flexShrink:0},onClick:h})]})]}),o.jsx("style",{children:`
                .nav-item:hover { color: white !important; background-color: rgba(255,255,255,0.03) !important; }
                .nav-item.active:hover { background-color: rgba(139, 92, 246, 0.15) !important; }
                @media (max-width: 768px) {
                    .mobile-sidebar-close { display: flex !important; }
                }
            `})]})},gS=()=>{const i=en(),a=[{icon:o.jsx(p0,{size:22}),label:"Incio",path:"/dashboard"},{icon:o.jsx(Xu,{size:22}),label:"Pacientes",path:"/pacientes"},{icon:o.jsx(on,{size:22}),label:"Agenda",path:"/agenda"},{icon:o.jsx(zi,{size:22}),label:"Finanas",path:"/financeiro"}];return o.jsx("nav",{className:"bottom-nav",children:o.jsx("div",{className:"bottom-nav-inner",children:a.map(r=>{const l=i.pathname===r.path||r.path!=="/"&&i.pathname.startsWith(r.path);return o.jsxs(Ul,{to:r.path,className:`bottom-nav-item ${l?"active":""}`,style:{position:"relative"},children:[o.jsx("span",{className:"nav-icon",style:{color:l?"var(--bloom-lavender)":"var(--bloom-text-muted)",transition:"color 0.2s ease, transform 0.2s ease",transform:l?"scale(1.1)":"scale(1)"},children:r.icon}),o.jsx("span",{style:{color:l?"var(--bloom-lavender)":"var(--bloom-text-muted)",fontWeight:l?"600":"400",transition:"color 0.2s ease"},children:r.label}),l&&o.jsx("span",{style:{position:"absolute",top:"-4px",left:"50%",transform:"translateX(-50%)",width:"24px",height:"3px",backgroundColor:"var(--bloom-lavender)",borderRadius:"0 0 4px 4px"}})]},r.path)})})})},mS=()=>{const i=Wt(),{profile:a,user:r}=tn(),[l,u]=j.useState({patients:0,revenue:0,weekSessions:0,retentionRate:94}),[h,f]=j.useState([]);j.useEffect(()=>{r?.id&&p()},[r]);async function p(){try{const m=r?.id,[v,b,_]=await Promise.all([be.getPatients(m),be.getTransactions(m),be.getAppointments(null,null,m)]),S=v?.length||0,z=b?.filter(C=>C.type==="receita")?.reduce((C,R)=>C+Number(R.amount),0)||0,A=new Date;A.setDate(A.getDate()-A.getDay());const N=_?.filter(C=>new Date(C.date)>=A)?.length||0;u({patients:S,revenue:z,weekSessions:N,retentionRate:94}),f(v?.slice(0,4)||[])}catch(m){console.error("Erro ao carregar dados do dashboard:",m)}}const y=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m);return o.jsxs("div",{className:"dashboard-content animate-fade",style:{padding:"24px 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"40px",flexWrap:"wrap",gap:"20px"},children:[o.jsxs("div",{style:{flex:"1 1 300px"},children:[o.jsxs("h1",{style:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:"800",marginBottom:"8px",color:"white"},children:["Ol, ",a?.full_name?.split(" ")[0]||"Dra. Mayne","! "]}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Aqui est o que est acontecendo no seu consultrio hoje."})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",background:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.06)"},children:[o.jsxs("div",{style:{padding:"8px 12px",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"9px",color:"#64748b",fontWeight:"700",textTransform:"uppercase"},children:"Status"}),o.jsxs("div",{style:{fontSize:"13px",fontWeight:"700",color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#10b981"}})," Online"]})]}),o.jsx("div",{style:{width:"1px",background:"rgba(255,255,255,0.06)",margin:"8px 0"}}),o.jsxs("div",{style:{padding:"8px 12px",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"9px",color:"#64748b",fontWeight:"700",textTransform:"uppercase"},children:"Data"}),o.jsx("div",{style:{fontSize:"13px",fontWeight:"700",color:"white"},children:new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})})]})]})]}),o.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"20px",marginBottom:"40px"},children:[o.jsxs("div",{className:"premium-card",style:{padding:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"rgba(139,92,246,0.1)",color:"#a78bfa",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Xu,{size:18})}),o.jsx("span",{style:{fontSize:"11px",color:"#10b981",fontWeight:"700"},children:"+12%"})]}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"800",fontFamily:"Outfit"},children:l.patients}),o.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",marginTop:"2px"},children:"Pacientes Ativos"})]}),o.jsxs("div",{className:"premium-card",style:{padding:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"rgba(16,185,129,0.1)",color:"#10b981",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(zi,{size:18})}),o.jsx(Ms,{size:20,color:"#10b981"})]}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"800",fontFamily:"Outfit",color:"#10b981"},children:y(l.revenue)}),o.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",marginTop:"2px"},children:"Receita Mensal"})]}),o.jsxs("div",{className:"premium-card",style:{padding:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"rgba(59,130,246,0.1)",color:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(on,{size:18})}),o.jsx("span",{style:{fontSize:"11px",color:"#64748b",fontWeight:"700"},children:"Meta: 25"})]}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"800",fontFamily:"Outfit"},children:l.weekSessions}),o.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",marginTop:"2px"},children:"Sesses na Semana"})]})]}),o.jsxs("div",{className:"db-main-grid",style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"24px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[o.jsxs("div",{className:"premium-card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",marginBottom:"2px"},children:"Viso Geral"}),o.jsx("p",{style:{fontSize:"12px",color:"#64748b"},children:"Evoluo clnica vs financeira"})]}),o.jsxs("select",{style:{background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"#94a3b8",padding:"6px 10px",borderRadius:"8px",fontSize:"11px"},children:[o.jsx("option",{children:"ltimos 30 dias"}),o.jsx("option",{children:"ltimos 90 dias"})]})]}),o.jsx("div",{style:{height:"180px",width:"100%",display:"flex",alignItems:"flex-end",gap:"12px",paddingBottom:"10px"},children:[{h:"40%",label:"S1",rev:1200},{h:"65%",label:"S2",rev:1800},{h:"55%",label:"S3",rev:1500},{h:"90%",label:"S4",rev:2500},{h:"75%",label:"S5",rev:2100}].map((m,v)=>o.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[o.jsx("div",{style:{width:"100%",height:m.h,background:"linear-gradient(to top, rgba(139,92,246,0.1), #8b5cf6)",borderRadius:"4px",position:"relative",transition:"height 0.3s ease"},children:o.jsx("div",{style:{position:"absolute",top:"-18px",left:"50%",transform:"translateX(-50%)",fontSize:"9px",color:"#94a3b8"},children:m.rev})}),o.jsx("span",{style:{fontSize:"10px",color:"#64748b"},children:m.label})]},v))})]}),o.jsxs("div",{className:"premium-card",style:{padding:"0",overflow:"hidden"},children:[o.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"700"},children:"ltimos Pacientes"}),o.jsx("button",{onClick:()=>i("/pacientes"),style:{fontSize:"12px",color:"#a78bfa",background:"none",border:"none",cursor:"pointer"},children:"Ver todos"})]}),o.jsx("div",{style:{padding:"8px"},children:h.map(m=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px",borderRadius:"10px",transition:"background 0.2s"},className:"row-hover",children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"#8b5cf6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px",flexShrink:0},children:m.name.charAt(0)}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontSize:"13px",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:m.name}),o.jsxs("div",{style:{fontSize:"10px",color:"#64748b"},children:["Responsvel: ",m.responsible_name]})]}),o.jsxs("div",{style:{textAlign:"right",flexShrink:0},children:[o.jsx("div",{style:{fontSize:"9px",color:"#10b981",fontWeight:"700"},children:"ATIVO"}),o.jsx("div",{style:{fontSize:"10px",color:"#475569"},children:new Date(m.created_at).toLocaleDateString("pt-BR")})]})]},m.id))})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[o.jsxs("div",{className:"premium-card",style:{padding:"20px"},children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"700",marginBottom:"16px"},children:"Aes Rpidas"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[o.jsxs("button",{onClick:()=>i("/pacientes"),style:{padding:"12px 8px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(139,92,246,0.08)",color:"#a78bfa",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",cursor:"pointer"},children:[o.jsx(Au,{size:18}),o.jsx("span",{style:{fontSize:"10px",fontWeight:"600"},children:"Novo Paciente"})]}),o.jsxs("button",{onClick:()=>i("/financeiro"),style:{padding:"12px 8px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(16,185,129,0.08)",color:"#10b981",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",cursor:"pointer"},children:[o.jsx(zi,{size:18}),o.jsx("span",{style:{fontSize:"10px",fontWeight:"600"},children:"Nova Receita"})]}),o.jsxs("button",{onClick:()=>i("/agenda"),style:{padding:"12px 8px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(59,130,246,0.08)",color:"#3b82f6",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",cursor:"pointer"},children:[o.jsx(on,{size:18}),o.jsx("span",{style:{fontSize:"10px",fontWeight:"600"},children:"Agendar"})]}),o.jsxs("button",{onClick:()=>i("/pacientes"),style:{padding:"12px 8px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(239,68,68,0.08)",color:"#ef4444",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",cursor:"pointer"},children:[o.jsx(Na,{size:18}),o.jsx("span",{style:{fontSize:"10px",fontWeight:"600"},children:"Relatrio"})]})]})]}),o.jsxs("div",{className:"premium-card",style:{padding:"20px",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:0,right:0,padding:"4px 10px",background:"#8b5cf6",fontSize:"9px",fontWeight:"900",color:"white",borderRadius:"0 0 0 12px"},children:"IA INSIGHT"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px",marginTop:"6px"},children:[o.jsx(Da,{size:18,color:"#a78bfa"}),o.jsx("h3",{style:{fontSize:"16px",fontWeight:"700"},children:"Agenda"})]}),o.jsxs("p",{style:{fontSize:"13px",color:"#94a3b8",lineHeight:"1.5",marginBottom:"16px"},children:['Voc tem horrios livres na Tera. Que tal abrir vagas para "Avaliao"? Aumente o faturamento em ',o.jsx("strong",{children:"15%"}),"."]}),o.jsxs("div",{style:{padding:"10px",background:"rgba(255,255,255,0.03)",borderRadius:"10px",borderLeft:"3px solid #10b981"},children:[o.jsx("div",{style:{fontSize:"11px",color:"#10b981",fontWeight:"700",marginBottom:"2px"},children:"Potencial"}),o.jsxs("div",{style:{fontSize:"14px",fontWeight:"800"},children:["+ ",y(850)," / sem"]})]})]})]})]}),o.jsx("style",{children:`
                .row-hover:hover { background: rgba(255,255,255,0.03); }
                @media (max-width: 1024px) {
                    .db-main-grid { grid-template-columns: 1fr !important; }
                }
            `})]})},yS=({isOpen:i,onClose:a,onSave:r})=>{const{user:l}=tn(),[u,h]=j.useState(1),[f,p]=j.useState({name:"",birth_date:"",gender:"",cpf:"",responsible_name:"",responsible_phone:"",responsible_email:"",responsible_relationship:"me",school_name:"",school_grade:"",referral_source:"",main_complaint:"",diagnosis:"",medications:"",session_frequency:"semanal",session_day:"",session_time:"",health_insurance:"",session_value:"",notes:""}),[y,m]=j.useState(!1),[v,b]=j.useState(!1),[_,S]=j.useState("");if(!i)return null;const z=async I=>{if(I.preventDefault(),u<3){h(u+1);return}m(!0),S("");try{await be.createPatient({...f,psychologist_id:l?.id}),b(!0),setTimeout(()=>{r(),a(),b(!1),h(1),p({name:"",birth_date:"",gender:"",cpf:"",responsible_name:"",responsible_phone:"",responsible_email:"",responsible_relationship:"me",school_name:"",school_grade:"",referral_source:"",main_complaint:"",diagnosis:"",medications:"",session_frequency:"semanal",session_day:"",session_time:"",health_insurance:"",session_value:"",notes:""})},1500)}catch(K){console.error(K),S(K.message||"Erro ao salvar. Verifique a conexo com o banco.")}finally{m(!1)}},A={width:"100%",padding:"13px 14px",borderRadius:"12px",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",color:"white",outline:"none",fontSize:"14px",transition:"border-color 0.2s"},N={...A,paddingLeft:"44px"},C={display:"block",fontSize:"11px",color:"#94a3b8",marginBottom:"6px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px"},R={position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"#a78bfa"},T={...A,cursor:"pointer",appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 14px center"},J=o.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"24px"},children:[1,2,3].map(I=>o.jsx("div",{style:{flex:1,height:"4px",borderRadius:"100px",background:I<=u?"linear-gradient(90deg, #8b5cf6, #a78bfa)":"rgba(255,255,255,0.06)",transition:"background 0.3s"}},I))}),X=["Dados Pessoais","Responsvel","Dados Clnicos"];return o.jsx("div",{className:"modal-overlay",onClick:I=>{I.target===I.currentTarget&&a()},children:o.jsx("div",{className:"premium-card modal-card animate-fade",style:{width:"100%",maxWidth:"540px",padding:"28px",backgroundColor:"var(--bloom-surface)",position:"relative",maxHeight:"90vh",overflowY:"auto"},children:v?o.jsxs("div",{style:{textAlign:"center",padding:"40px 0"},children:[o.jsx("div",{style:{backgroundColor:"rgba(16, 185, 129, 0.1)",width:"80px",height:"80px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:o.jsx(g1,{size:48,color:"var(--bloom-mint)"})}),o.jsx("h2",{style:{marginBottom:"8px"},children:"Paciente Cadastrado!"}),o.jsxs("p",{className:"text-muted",children:["Adicionando ",f.name,"  sua lista..."]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"22px",marginBottom:"4px"},children:"Novo Paciente"}),o.jsxs("p",{className:"text-muted",style:{fontSize:"13px"},children:["Etapa ",u,"/3  ",X[u-1]]})]}),o.jsx("button",{onClick:a,style:{background:"none",color:"var(--bloom-text-muted)",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px"},children:o.jsx(Gs,{size:24})})]}),J,_&&o.jsxs("div",{style:{padding:"12px 16px",borderRadius:"10px",marginBottom:"16px",background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.2)",display:"flex",alignItems:"center",gap:"10px",color:"#f87171",fontSize:"13px"},children:[o.jsx(d0,{size:16}),_]}),o.jsxs("form",{onSubmit:z,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[u===1&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Nome Completo da Criana *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Bl,{size:18,style:R}),o.jsx("input",{required:!0,type:"text",placeholder:"Ex: Camila Renata Cardoso",value:f.name,onChange:I=>p({...f,name:I.target.value}),style:N})]})]}),o.jsxs("div",{className:"modal-form-row",children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Data de Nascimento *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(on,{size:18,style:R}),o.jsx("input",{required:!0,type:"date",value:f.birth_date,onChange:I=>p({...f,birth_date:I.target.value}),style:N})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Sexo"}),o.jsxs("select",{value:f.gender,onChange:I=>p({...f,gender:I.target.value}),style:T,children:[o.jsx("option",{value:"",children:"Selecionar"}),o.jsx("option",{value:"masculino",children:"Masculino"}),o.jsx("option",{value:"feminino",children:"Feminino"}),o.jsx("option",{value:"outro",children:"Outro"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"CPF da Criana (opcional)"}),o.jsx("input",{type:"text",placeholder:"000.000.000-00",value:f.cpf,onChange:I=>p({...f,cpf:I.target.value}),style:A})]})]}),u===2&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Nome do Responsvel *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(sa,{size:18,style:R}),o.jsx("input",{required:!0,type:"text",placeholder:"Nome completo do responsvel",value:f.responsible_name,onChange:I=>p({...f,responsible_name:I.target.value}),style:N})]})]}),o.jsxs("div",{className:"modal-form-row",children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Parentesco"}),o.jsxs("select",{value:f.responsible_relationship,onChange:I=>p({...f,responsible_relationship:I.target.value}),style:T,children:[o.jsx("option",{value:"me",children:"Me"}),o.jsx("option",{value:"pai",children:"Pai"}),o.jsx("option",{value:"av",children:"Av"}),o.jsx("option",{value:"av",children:"Av"}),o.jsx("option",{value:"tio(a)",children:"Tio(a)"}),o.jsx("option",{value:"responsvel legal",children:"Responsvel Legal"}),o.jsx("option",{value:"outro",children:"Outro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"WhatsApp *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(ub,{size:16,style:{...R,left:"12px"}}),o.jsx("input",{required:!0,type:"text",placeholder:"(00) 00000-0000",value:f.responsible_phone,onChange:I=>p({...f,responsible_phone:I.target.value}),style:{...A,paddingLeft:"36px"}})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"E-mail do Responsvel"}),o.jsx("input",{type:"email",placeholder:"email@exemplo.com",value:f.responsible_email,onChange:I=>p({...f,responsible_email:I.target.value}),style:A})]}),o.jsxs("div",{className:"modal-form-row",children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Escola"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(g0,{size:16,style:{...R,left:"12px"}}),o.jsx("input",{type:"text",placeholder:"Nome da escola",value:f.school_name,onChange:I=>p({...f,school_name:I.target.value}),style:{...A,paddingLeft:"36px"}})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Srie / Ano"}),o.jsx("input",{type:"text",placeholder:"Ex: 3 ano",value:f.school_grade,onChange:I=>p({...f,school_grade:I.target.value}),style:A})]})]})]}),u===3&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Queixa Principal"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Ml,{size:18,style:R}),o.jsx("textarea",{placeholder:"Descreva o motivo principal do encaminhamento...",value:f.main_complaint,onChange:I=>p({...f,main_complaint:I.target.value}),rows:3,style:{...N,resize:"none",paddingTop:"12px"}})]})]}),o.jsxs("div",{className:"modal-form-row",children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Diagnstico / CID (se houver)"}),o.jsx("input",{type:"text",placeholder:"Ex: TEA - F84.0",value:f.diagnosis,onChange:I=>p({...f,diagnosis:I.target.value}),style:A})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Medicaes em uso"}),o.jsx("input",{type:"text",placeholder:"Ex: Risperidona 1mg",value:f.medications,onChange:I=>p({...f,medications:I.target.value}),style:A})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Encaminhado por"}),o.jsx("input",{type:"text",placeholder:"Ex: Dra. Ana - Neuropediatra",value:f.referral_source,onChange:I=>p({...f,referral_source:I.target.value}),style:A})]}),o.jsxs("div",{className:"modal-form-row",children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Frequncia"}),o.jsxs("select",{value:f.session_frequency,onChange:I=>p({...f,session_frequency:I.target.value}),style:T,children:[o.jsx("option",{value:"semanal",children:"Semanal"}),o.jsx("option",{value:"quinzenal",children:"Quinzenal"}),o.jsx("option",{value:"mensal",children:"Mensal"}),o.jsx("option",{value:"2x_semana",children:"2x por semana"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Dia"}),o.jsxs("select",{value:f.session_day,onChange:I=>p({...f,session_day:I.target.value}),style:T,children:[o.jsx("option",{value:"",children:"Selecionar"}),o.jsx("option",{value:"segunda",children:"Segunda"}),o.jsx("option",{value:"terca",children:"Tera"}),o.jsx("option",{value:"quarta",children:"Quarta"}),o.jsx("option",{value:"quinta",children:"Quinta"}),o.jsx("option",{value:"sexta",children:"Sexta"}),o.jsx("option",{value:"sabado",children:"Sbado"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Horrio"}),o.jsx("input",{type:"time",value:f.session_time,onChange:I=>p({...f,session_time:I.target.value}),style:A})]})]}),o.jsxs("div",{className:"modal-form-row",children:[o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Convnio / Plano"}),o.jsx("input",{type:"text",placeholder:"Particular ou nome do plano",value:f.health_insurance,onChange:I=>p({...f,health_insurance:I.target.value}),style:A})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Valor da Sesso (R$)"}),o.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:f.session_value,onChange:I=>p({...f,session_value:I.target.value}),style:A})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:C,children:"Observaes Gerais"}),o.jsx("textarea",{placeholder:"Anotaes livres sobre o paciente...",value:f.notes,onChange:I=>p({...f,notes:I.target.value}),rows:2,style:{...A,resize:"none"}})]})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px"},children:[u>1&&o.jsx("button",{type:"button",onClick:()=>h(u-1),style:{flex:1,padding:"14px",borderRadius:"12px",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",color:"#94a3b8",fontWeight:"600",fontSize:"14px",cursor:"pointer"},children:"Voltar"}),o.jsx("button",{type:"submit",disabled:y,className:"btn-primary",style:{flex:u>1?2:1,justifyContent:"center",padding:"14px",fontSize:"14px",opacity:y?.6:1},children:y?"Salvando...":u<3?"Prximo ":" Finalizar Cadastro"})]})]})]})})})},Wg=()=>{const i=Wt(),{user:a}=tn(),[r,l]=j.useState([]),[u,h]=j.useState(!0),[f,p]=j.useState(!1),[y,m]=j.useState("");j.useEffect(()=>{a?.id&&v()},[a]);async function v(){try{h(!0);const _=await be.getPatients(a?.id);l(_||[])}catch(_){console.error("Erro ao carregar pacientes:",_)}finally{h(!1)}}const b=r.filter(_=>_.name.toLowerCase().includes(y.toLowerCase())||_.responsible_name?.toLowerCase().includes(y.toLowerCase()));return o.jsxs("div",{className:"patients-page animate-fade",style:{padding:"24px 0"},children:[o.jsxs("div",{className:"patients-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"16px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",marginBottom:"8px"},children:"Pacientes"}),o.jsx("p",{className:"text-muted",children:"Gesto estratgica de casos e responsveis."})]}),o.jsxs("button",{className:"btn-primary",onClick:()=>p(!0),children:[o.jsx(Oa,{size:20})," Novo Paciente"]})]}),o.jsxs("div",{className:"patients-search-row",style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[o.jsxs("div",{className:"premium-card",style:{flex:1,display:"flex",alignItems:"center",gap:"12px",padding:"4px 16px",backgroundColor:"var(--bloom-surface)"},children:[o.jsx(gb,{size:18,color:"var(--bloom-text-muted)"}),o.jsx("input",{type:"text",placeholder:"Buscar por nome ou responsvel...",value:y,onChange:_=>m(_.target.value),style:{width:"100%",padding:"12px 0",background:"none",border:"none",color:"white",outline:"none",fontSize:"14px"}})]}),o.jsxs("button",{className:"premium-card",style:{padding:"0 16px",display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[o.jsx(h0,{size:18})," Filtrar"]})]}),o.jsx("div",{className:"premium-card",style:{padding:"0",overflow:"hidden"},children:u?o.jsxs("div",{style:{padding:"60px 24px",textAlign:"center"},children:[o.jsx("div",{className:"loader",style:{marginBottom:"16px",fontSize:"32px"},children:""}),o.jsx("p",{className:"text-muted",children:"Carregando seus pacientes..."})]}):b.length===0?o.jsxs("div",{style:{padding:"60px 24px",textAlign:"center"},children:[o.jsx(Bl,{size:48,color:"var(--bloom-text-muted)",style:{marginBottom:"20px",opacity:.3}}),o.jsx("p",{style:{color:"var(--bloom-text-muted)",fontSize:"18px"},children:"Nenhum paciente encontrado."}),o.jsx("button",{className:"text-link",onClick:()=>p(!0),style:{marginTop:"16px",color:"var(--bloom-lavender)",fontWeight:"600",border:"none",background:"none",fontSize:"15px"},children:"Cadastrar primeiro paciente"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("table",{className:"patient-table-desktop",children:[o.jsx("thead",{children:o.jsxs("tr",{style:{textAlign:"left",background:"rgba(255,255,255,0.02)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"var(--bloom-text-muted)",fontWeight:"600"},children:"PACIENTE"}),o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"var(--bloom-text-muted)",fontWeight:"600"},children:"RESPONSVEL"}),o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"var(--bloom-text-muted)",fontWeight:"600"},children:"DTA. NASC."}),o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"var(--bloom-text-muted)",fontWeight:"600"},children:"STATUS"}),o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"var(--bloom-text-muted)",fontWeight:"600"},children:"AES"})]})}),o.jsx("tbody",{children:b.map(_=>o.jsxs("tr",{onClick:()=>i(`/evoluir/${_.id}`),style:{borderBottom:"1px solid rgba(255,255,255,0.03)",cursor:"pointer",transition:"background 0.2s"},className:"patient-row-hover",children:[o.jsx("td",{style:{padding:"16px 24px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",backgroundColor:"var(--bloom-lavender)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",flexShrink:0},children:_.name.charAt(0)}),o.jsx("span",{style:{fontWeight:"600"},children:_.name})]})}),o.jsx("td",{style:{padding:"16px 24px"},children:o.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[o.jsx("span",{style:{fontSize:"14px"},children:_.responsible_name||"-"}),o.jsx("span",{className:"text-muted",style:{fontSize:"12px"},children:_.responsible_phone||""})]})}),o.jsx("td",{style:{padding:"16px 24px",fontSize:"14px",color:"var(--bloom-text-muted)"},children:_.birth_date?new Date(_.birth_date).toLocaleDateString("pt-BR"):"-"}),o.jsx("td",{style:{padding:"16px 24px"},children:o.jsx("span",{style:{fontSize:"10px",padding:"4px 10px",borderRadius:"100px",fontWeight:"700",backgroundColor:_.status==="ativo"?"rgba(16, 185, 129, 0.1)":"rgba(255,255,255,0.1)",color:_.status==="ativo"?"var(--bloom-mint)":"var(--bloom-text-muted)",textTransform:"uppercase"},children:_.status})}),o.jsx("td",{style:{padding:"16px 24px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[o.jsxs("button",{onClick:S=>{S.stopPropagation(),i(`/portais/${_.id}`)},style:{background:"rgba(139,92,246,0.08)",border:"1px solid rgba(139,92,246,0.15)",borderRadius:"8px",padding:"6px 10px",cursor:"pointer",color:"#a78bfa",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(Hs,{size:13})," Portais"]}),o.jsx(kl,{size:18,color:"var(--bloom-text-muted)"})]})})]},_.id))})]}),o.jsx("div",{className:"patient-cards-mobile",children:b.map(_=>o.jsxs("div",{className:"patient-card-mobile",onClick:()=>i(`/evoluir/${_.id}`),style:{borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[o.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",backgroundColor:"var(--bloom-lavender)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"16px",flexShrink:0},children:_.name.charAt(0)}),o.jsxs("div",{className:"patient-card-info",children:[o.jsx("div",{className:"patient-card-name",children:_.name}),o.jsxs("div",{className:"patient-card-detail",children:[_.responsible_name||"Sem responsvel","  ",_.birth_date?new Date(_.birth_date).toLocaleDateString("pt-BR"):""]})]}),o.jsx("button",{onClick:S=>{S.stopPropagation(),i(`/portais/${_.id}`)},style:{background:"rgba(139,92,246,0.08)",border:"1px solid rgba(139,92,246,0.15)",borderRadius:"8px",padding:"6px 8px",cursor:"pointer",color:"#a78bfa",flexShrink:0},children:o.jsx(Hs,{size:14})}),o.jsx(kl,{size:18,color:"var(--bloom-text-muted)",style:{flexShrink:0}})]},_.id))})]})}),o.jsx(yS,{isOpen:f,onClose:()=>p(!1),onSave:v}),o.jsx("style",{children:`
                .patient-row-hover:hover { background-color: rgba(255,255,255,0.02); }
            `})]})},xS=()=>{const{user:i}=tn(),{patientId:a}=Nl(),r=Wt(),[l,u]=j.useState(null),[h,f]=j.useState(""),[p,y]=j.useState([]),[m,v]=j.useState(!1),[b,_]=j.useState([]),[S,z]=j.useState(!0),[A,N]=j.useState(""),[C,R]=j.useState(""),[T,J]=j.useState(""),[X,I]=j.useState(3),[K,de]=j.useState(3),[ue,qe]=j.useState([]),Qe=["Regulao Emocional","Foco Atencional","Interao Social","Resistncia","Frustrao","Comunicao Verbal","Autonomia","Coordenao Motora","Engajamento","Contato Visual","Jogo Simblico","Expresso Facial"],ze=["Anlise do Comportamento (ABA)","Terapia Cognitivo-Comportamental","Ludoterapia","Treino de Habilidades Sociais","Mediao de Conflitos","Reforo Positivo","Socioemocional"];j.useEffect(()=>{if(!i?.id)return;async function P(){try{const G=(await be.getPatients(i.id))?.find(Z=>Z.id===a);u(G||{name:"Paciente"});const Q=await be.getEvolutions(a);_(Q||[]),Q&&Q.length>0&&Q[0].metrics?.objective&&N("")}catch(E){console.error(E)}finally{z(!1)}}P()},[a,i]);const ft=P=>{y(E=>E.includes(P)?E.filter(G=>G!==P):[...E,P])},Ze=P=>{qe(E=>E.includes(P)?E.filter(G=>G!==P):[...E,P])},Ge=async()=>{if(p.length!==0){v(!0);try{const P=`Objetivo: ${A}. Tcnicas: ${ue.join(", ")}. Humor inicial: ${X}, Humor final: ${K}.`,E=await be.generateSmartEvolution(p,P);f(G=>G?G+`

`+E:E)}finally{v(!1)}}},$=async()=>{if(!h&&!A){alert("Por favor, preencha pelo menos o contedo ou objetivo.");return}try{await be.createEvolution({patient_id:a,psychologist_id:i?.id,content:h,tags:p,session_date:new Date().toISOString(),metrics:{objective:A,homework:C,parentsFeedback:T,mood_pre:X,mood_post:K,techniques:ue}}),r("/pacientes")}catch{alert("Erro ao salvar evoluo.")}},q=[{val:1,icon:o.jsx(N1,{size:20}),color:"#f43f5e",label:"Muito Baixo"},{val:2,icon:o.jsx(sb,{size:20}),color:"#f59e0b",label:"Baixo"},{val:3,icon:o.jsx(Eu,{size:20}),color:"#3b82f6",label:"Estvel"},{val:4,icon:o.jsx(bb,{size:20}),color:"#10b981",label:"Bom"},{val:5,icon:o.jsx(Da,{size:20}),color:"#8b5cf6",label:"Radiante"}];if(S)return o.jsx("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},className:"loader",children:" Abrindo sala de atendimento..."});const B={fontSize:"12px",fontWeight:"800",color:"#64748b",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},ne={background:"rgba(30, 41, 59, 0.4)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"24px",boxShadow:"0 10px 30px -10px rgba(0,0,0,0.3)",transition:"all 0.3s ease"};return o.jsxs("div",{className:"evolution-page animate-fade",style:{padding:"12px 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},children:[o.jsxs("button",{onClick:()=>r(-1),className:"btn-secondary",style:{padding:"10px 18px",display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",color:"#94a3b8",fontSize:"14px",fontWeight:"600"},children:[o.jsx(Mi,{size:18})," Voltar para Pacientes"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:"600"},children:"Pronturio Digital"}),o.jsx("div",{style:{fontSize:"18px",fontWeight:"800",color:"#f8fafc",fontFamily:"Outfit"},children:l?.name})]}),o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"16px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"900",fontSize:"20px",boxShadow:"0 8px 16px -4px rgba(139,92,246,0.3)"},children:l?.name?.charAt(0)})]})]}),o.jsxs("div",{className:"db-main-grid",style:{display:"grid",gridTemplateColumns:"1.7fr 1.2fr",gap:"20px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[o.jsxs("div",{style:{...ne,padding:"28px"},children:[o.jsxs("h3",{style:B,children:[o.jsx(Is,{size:18,color:"#8b5cf6"})," Estrutura da Sesso"]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",color:"#94a3b8",marginBottom:"10px",fontWeight:"600"},children:"Qual o foco destas intervenes?"}),o.jsx("input",{type:"text",value:A,onChange:P=>N(P.target.value),placeholder:"Ex: Treino de habilidades sociais e regulao de ansiedade",className:"premium-input",style:{width:"100%",padding:"16px",borderRadius:"16px",background:"rgba(15, 23, 42, 0.4)",border:"1px solid rgba(255,255,255,0.08)",color:"white",outline:"none",fontSize:"15px"}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},className:"responsive-grid-2",children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",color:"#94a3b8",marginBottom:"14px",fontWeight:"600"},children:"Check-in: Estado Interno"}),o.jsx("div",{style:{display:"flex",justifyContent:"space-between",background:"rgba(15, 23, 42, 0.4)",padding:"10px",borderRadius:"18px",border:"1px solid rgba(255,255,255,0.05)"},children:q.map(P=>o.jsx("button",{onClick:()=>I(P.val),style:{background:X===P.val?P.color:"transparent",border:"none",padding:"12px",borderRadius:"14px",color:X===P.val?"white":"#475569",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:X===P.val?"scale(1.1)":"scale(1)",boxShadow:X===P.val?`0 4px 12px ${P.color}60`:"none",display:"flex",alignItems:"center",justifyContent:"center"},title:P.label,children:P.icon},`pre-${P.val}`))})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",color:"#94a3b8",marginBottom:"14px",fontWeight:"600"},children:"Check-out: Estado Final"}),o.jsx("div",{style:{display:"flex",justifyContent:"space-between",background:"rgba(15, 23, 42, 0.4)",padding:"10px",borderRadius:"18px",border:"1px solid rgba(255,255,255,0.05)"},children:q.map(P=>o.jsx("button",{onClick:()=>de(P.val),style:{background:K===P.val?P.color:"transparent",border:"none",padding:"12px",borderRadius:"14px",color:K===P.val?"white":"#475569",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:K===P.val?"scale(1.1)":"scale(1)",boxShadow:K===P.val?`0 4px 12px ${P.color}60`:"none",display:"flex",alignItems:"center",justifyContent:"center"},title:P.label,children:P.icon},`post-${P.val}`))})]})]})]})]}),o.jsxs("div",{style:{...ne,overflow:"hidden",border:"1px solid rgba(139,92,246,0.15)"},children:[o.jsxs("div",{style:{padding:"18px 28px",background:"rgba(139,92,246,0.08)",borderBottom:"1px solid rgba(139,92,246,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("h3",{style:{...B,marginBottom:0,color:"white"},children:[o.jsx(m0,{size:18,color:"#a78bfa"})," Registro Clnico"]}),o.jsxs("div",{style:{fontSize:"11px",color:"#10b981",background:"rgba(16,185,129,0.1)",padding:"4px 12px",borderRadius:"100px",display:"flex",alignItems:"center",gap:"8px",fontWeight:"800"},children:[o.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#10b981",animation:"pulse 2s infinite"}}),"AUTOSAVE ON"]})]}),o.jsx("textarea",{value:h,onChange:P=>f(P.target.value),placeholder:"Inicie sua redao aqui. Use o co-piloto ao lado para acelerar o processo...",style:{width:"100%",height:"420px",padding:"28px",background:"transparent",border:"none",color:"#e2e8f0",fontSize:"16px",lineHeight:"1.8",outline:"none",resize:"none",fontFamily:"Inter, sans-serif",letterSpacing:"0.2px"}}),o.jsxs("div",{style:{padding:"24px 28px",background:"rgba(0,0,0,0.1)",borderTop:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{display:"flex",gap:"16px"},children:o.jsxs("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:"500"},children:[o.jsx(V1,{size:14,style:{marginRight:"6px",verticalAlign:"middle"}}),o.jsx("b",{children:h.split(/\s+/).filter(P=>P).length})," palavras digitadas"]})}),o.jsxs("button",{className:"btn-primary",onClick:$,style:{padding:"14px 32px",borderRadius:"16px",fontWeight:"700",boxShadow:"0 8px 20px -4px rgba(139,92,246,0.4)",transform:"translateY(0)",transition:"all 0.2s"},children:[o.jsx(fb,{size:20})," Finalizar e Arquivar"]})]})]}),o.jsxs("div",{className:"responsive-grid-2",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{style:{...ne,padding:"24px"},children:[o.jsxs("h4",{style:B,children:[o.jsx(f0,{size:16,color:"#fbbf24"})," Continuidade em Casa"]}),o.jsx("textarea",{value:C,onChange:P=>R(P.target.value),placeholder:"O que a famlia deve priorizar?",style:{width:"100%",height:"100px",background:"rgba(15,23,42,0.3)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"16px",padding:"16px",color:"white",fontSize:"14px",resize:"none",outline:"none"}})]}),o.jsxs("div",{style:{...ne,padding:"24px"},children:[o.jsxs("h4",{style:B,children:[o.jsx(Rb,{size:16,color:"#10b981"})," Feedback dos Pais"]}),o.jsx("textarea",{value:T,onChange:P=>J(P.target.value),placeholder:"Resumo do feedback compartilhado...",style:{width:"100%",height:"100px",background:"rgba(15,23,42,0.3)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"16px",padding:"16px",color:"white",fontSize:"14px",resize:"none",outline:"none"}})]})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[o.jsxs("div",{style:{...ne,padding:"28px",border:"1px solid rgba(139,92,246,0.25)",position:"relative",overflow:"hidden",background:"linear-gradient(145deg, rgba(30, 41, 59, 0.6), rgba(15, 23, 42, 0.4))"},children:[o.jsx("div",{style:{position:"absolute",top:"12px",right:"12px",background:"#8b5cf6",color:"white",fontSize:"10px",fontWeight:"900",padding:"3px 10px",borderRadius:"100px",boxShadow:"0 4px 10px rgba(139,92,246,0.3)"},children:"BLOOM IA"}),o.jsxs("h3",{style:{...B,color:"#f1f5f9",fontSize:"13px"},children:[o.jsx(Da,{size:18,color:"#a78bfa"})," Sintetizador Inteligente"]}),o.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",marginBottom:"20px",lineHeight:"1.5"},children:"Selecione os indicadores para que a IA ajude a estruturar seu relato tcnico."}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"24px"},children:Qe.map(P=>o.jsx("button",{onClick:()=>ft(P),style:{padding:"8px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",background:p.includes(P)?"rgba(139,92,246,0.25)":"rgba(255,255,255,0.03)",color:p.includes(P)?"#a78bfa":"#64748b",border:"1px solid",borderColor:p.includes(P)?"#8b5cf6":"rgba(255,255,255,0.08)",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:p.includes(P)?"translateY(-1px)":"none"},children:P},P))}),o.jsxs("button",{className:"btn-primary",onClick:Ge,disabled:m||p.length===0,style:{width:"100%",justifyContent:"center",background:"transparent",border:"1px solid rgba(139,92,246,0.4)",borderRadius:"16px",color:"#a78bfa",opacity:m||p.length===0?.5:1,padding:"16px",fontSize:"14px",fontWeight:"700"},children:[o.jsx(n1,{size:20,style:{marginRight:"8px"}}),m?"Processando Relato...":"Sintetizar Registro"]})]}),o.jsxs("div",{style:{...ne,padding:"24px"},children:[o.jsxs("h3",{style:B,children:[o.jsx(Eu,{size:18,color:"#10b981"})," Metodologias & Tcnicas"]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:ze.map(P=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"12px",fontSize:"13px",color:ue.includes(P)?"#f8fafc":"#64748b",cursor:"pointer",padding:"12px",borderRadius:"14px",background:ue.includes(P)?"rgba(16,185,129,0.08)":"transparent",border:"1px solid",borderColor:ue.includes(P)?"rgba(16,185,129,0.2)":"transparent",transition:"all 0.2s"},children:[o.jsx("input",{type:"checkbox",checked:ue.includes(P),onChange:()=>Ze(P),style:{accentColor:"#10b981",width:"18px",height:"18px"}}),P]},P))})]}),o.jsxs("div",{style:{padding:"24px",borderRadius:"24px",background:"rgba(251,191,36,0.03)",border:"1px solid rgba(251,191,36,0.1)",display:"flex",gap:"16px"},children:[o.jsx($1,{size:24,color:"#fbbf24",style:{flexShrink:0}}),o.jsxs("div",{children:[o.jsx("p",{style:{fontSize:"14px",color:"#fbbf24",fontWeight:"800",marginBottom:"6px"},children:"Lembretes Clnicos"}),o.jsx("p",{style:{fontSize:"13px",color:"#d97706",lineHeight:"1.6",opacity:.9},children:l?.notes||"Nenhuma nota especial registrada no cadastro do paciente."})]})]}),o.jsxs("div",{style:{...ne,padding:"24px"},children:[o.jsxs("h3",{style:B,children:[o.jsx(L1,{size:18,color:"#94a3b8"})," Histrico Rpido"]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[b.slice(0,3).map(P=>o.jsxs("div",{style:{padding:"16px",borderRadius:"18px",background:"rgba(15,23,42,0.4)",borderLeft:"4px solid #6366f1",cursor:"pointer",transition:"all 0.2s"},children:[o.jsx("div",{style:{fontSize:"11px",color:"#818cf8",fontWeight:"800",marginBottom:"6px",textTransform:"uppercase"},children:new Date(P.session_date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}),o.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:"1.5"},children:P.content})]},P.id)),b.length===0&&o.jsx("p",{style:{fontSize:"13px",color:"#475569",textAlign:"center",padding:"20px"},children:"Inicie o histrico deste paciente."})]})]})]})]}),o.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.4; transform: scale(1.1); }
                    100% { opacity: 1; transform: scale(1); }
                }
                .premium-input:focus {
                    background: rgba(15, 23, 42, 0.6) !important;
                    border-color: rgba(139,92,246,0.5) !important;
                    box-shadow: 0 0 0 4px rgba(139,92,246,0.1);
                }
            `})]})},vS=()=>{const{user:i}=tn(),[a,r]=j.useState(new Date),[l,u]=j.useState(new Date),[h,f]=j.useState([]),[p,y]=j.useState([]),[m,v]=j.useState(!0),[b,_]=j.useState(!1),[S,z]=j.useState(null),[A,N]=j.useState("semana"),[C,R]=j.useState({patient_id:"",date:"",start_time:"09:00",end_time:"10:00",session_type:"individual",notes:"",status:"agendado",location:"consultrio"});j.useEffect(()=>{i?.id&&T()},[i]);async function T(){try{const L=i?.id,[F,ce]=await Promise.all([be.getPatients(L),be.getAppointments(null,null,L)]);y(F||[]),f(ce||[])}catch(L){console.error(L)}finally{v(!1)}}const J=new Date,X=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),I=new Date(a.getFullYear(),a.getMonth(),1).getDay(),K=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],de=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],ue=L=>{const F=new Date(a);F.setMonth(F.getMonth()+L),r(F)},qe=(L,F)=>L.getFullYear()===F.getFullYear()&&L.getMonth()===F.getMonth()&&L.getDate()===F.getDate(),Qe=L=>{const F=L.toISOString().split("T")[0];return h.filter(ce=>ce.date===F)},ze=Qe(l).sort((L,F)=>L.start_time.localeCompare(F.start_time));(()=>{const L=new Date(l);L.setDate(L.getDate()-L.getDay());const F=[];for(let ce=0;ce<7;ce++){const Ee=new Date(L);Ee.setDate(Ee.getDate()+ce),F.push(Ee)}return F})();const Ze=[];for(let L=7;L<=20;L++)Ze.push(`${L.toString().padStart(2,"0")}:00`);const Ge=L=>p.find(F=>F.id===L)?.name||"Paciente",$=async L=>{L.preventDefault();try{S?await be.updateAppointment(S.id,{...C,psychologist_id:i?.id}):await be.createAppointment({...C,psychologist_id:i?.id}),_(!1),z(null),P(),await T()}catch{alert("Erro ao salvar agendamento.")}},q=async L=>{if(confirm("Remover este agendamento?"))try{await be.deleteAppointment(L),await T()}catch{alert("Erro ao remover agendamento.")}},B=L=>{R({patient_id:L.patient_id,date:L.date,start_time:L.start_time,end_time:L.end_time,session_type:L.session_type||"individual",notes:L.notes||"",status:L.status||"agendado",location:L.location||"consultrio"}),z(L),_(!0)},ne=(L,F)=>{const ce=L?L.toISOString().split("T")[0]:l.toISOString().split("T")[0],Ee=parseInt("9")+1;P(),R(Ne=>({...Ne,date:ce,start_time:"09:00",end_time:`${Ee.toString().padStart(2,"0")}:00`})),_(!0)},P=()=>{R({patient_id:"",date:"",start_time:"09:00",end_time:"10:00",session_type:"individual",notes:"",status:"agendado",location:"consultrio"}),z(null)},E={agendado:{color:"#3b82f6",bg:"rgba(59,130,246,0.1)",label:"Agendado"},confirmado:{color:"#10b981",bg:"rgba(16,185,129,0.1)",label:"Confirmado"},cancelado:{color:"#ef4444",bg:"rgba(239,68,68,0.1)",label:"Cancelado"},realizado:{color:"#8b5cf6",bg:"rgba(139,92,246,0.1)",label:"Realizado"}},G={individual:{label:"Individual",color:"#8b5cf6"},grupo:{label:"Grupo",color:"#3b82f6"},avaliacao:{label:"Avaliao",color:"#f59e0b"},devolutiva:{label:"Devolutiva",color:"#10b981"},supervisao:{label:"Superviso",color:"#06b6d4"}},Q={width:"100%",padding:"12px 14px",borderRadius:"10px",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",color:"white",outline:"none",fontSize:"14px"},Z={display:"block",fontSize:"12px",color:"#94a3b8",fontWeight:"600",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.3px"};return o.jsxs("div",{className:"agenda-page animate-fade",style:{padding:"24px 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"12px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",marginBottom:"6px"},children:"Agenda"}),o.jsx("p",{className:"text-muted",children:"Gerencie suas sesses e compromissos."})]}),o.jsxs("button",{className:"btn-primary",onClick:()=>ne(),children:[o.jsx(Oa,{size:18})," Nova Sesso"]})]}),o.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"20px",background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"4px",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:[{key:"dia",label:"Dia"},{key:"semana",label:"Semana"},{key:"mes",label:"Ms"}].map(L=>o.jsx("button",{onClick:()=>N(L.key),style:{flex:"1 0 auto",minWidth:"80px",padding:"10px",borderRadius:"10px",background:A===L.key?"rgba(139,92,246,0.12)":"transparent",color:A===L.key?"#a78bfa":"#94a3b8",border:A===L.key?"1px solid rgba(139,92,246,0.15)":"1px solid transparent",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:L.label},L.key))}),o.jsxs("div",{className:"agenda-layout",style:{display:"grid",gridTemplateColumns:"minmax(0, 300px) 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsxs("div",{className:"premium-card",style:{padding:"20px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[o.jsx("button",{onClick:()=>ue(-1),style:{background:"rgba(255,255,255,0.05)",border:"none",color:"#94a3b8",borderRadius:"8px",padding:"6px",cursor:"pointer"},children:o.jsx(o1,{size:16})}),o.jsxs("span",{style:{fontWeight:"700",fontSize:"15px",fontFamily:"Outfit"},children:[K[a.getMonth()]," ",a.getFullYear()]}),o.jsx("button",{onClick:()=>ue(1),style:{background:"rgba(255,255,255,0.05)",border:"none",color:"#94a3b8",borderRadius:"8px",padding:"6px",cursor:"pointer"},children:o.jsx(kl,{size:16})})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"8px"},children:de.map(L=>o.jsx("div",{style:{textAlign:"center",fontSize:"11px",color:"#64748b",fontWeight:"600",padding:"4px"},children:L},L))}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px"},children:[Array.from({length:I}).map((L,F)=>o.jsx("div",{},`empty-${F}`)),Array.from({length:X}).map((L,F)=>{const ce=F+1,Ee=new Date(a.getFullYear(),a.getMonth(),ce),Ne=qe(Ee,J),nn=qe(Ee,l),Ua=Qe(Ee).length>0;return o.jsxs("button",{onClick:()=>u(Ee),style:{width:"100%",aspectRatio:"1",borderRadius:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"13px",fontWeight:nn?"700":"500",cursor:"pointer",border:"none",position:"relative",background:nn?"linear-gradient(135deg, #8b5cf6, #7c3aed)":Ne?"rgba(139,92,246,0.1)":"transparent",color:nn?"white":Ne?"#a78bfa":"#e2e8f0",transition:"all 0.15s"},children:[ce,Ua&&o.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:nn?"white":"#8b5cf6",position:"absolute",bottom:"4px"}})]},ce)})]})]}),o.jsxs("div",{className:"premium-card",style:{padding:"18px",marginTop:"12px"},children:[o.jsx("div",{style:{fontSize:"13px",color:"#94a3b8",marginBottom:"10px",fontWeight:"600"},children:"Resumo do Dia"}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",borderRadius:"10px",background:"rgba(139,92,246,0.06)"},children:[o.jsx("div",{style:{fontSize:"20px",fontWeight:"700",fontFamily:"Outfit",color:"#a78bfa"},children:ze.length}),o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8"},children:"Sesses"})]}),o.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",borderRadius:"10px",background:"rgba(16,185,129,0.06)"},children:[o.jsx("div",{style:{fontSize:"20px",fontWeight:"700",fontFamily:"Outfit",color:"#10b981"},children:ze.filter(L=>L.status==="confirmado").length}),o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8"},children:"Confirmados"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:o.jsx("h2",{style:{fontSize:"18px",fontFamily:"Outfit"},children:l.toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long"})})}),o.jsx("div",{className:"premium-card",style:{padding:"0",overflow:"hidden"},children:ze.length===0?o.jsxs("div",{style:{padding:"60px 24px",textAlign:"center"},children:[o.jsx(on,{size:40,color:"#334155",style:{marginBottom:"16px"}}),o.jsx("p",{style:{color:"#64748b",fontSize:"15px",marginBottom:"12px"},children:"Nenhuma sesso agendada."}),o.jsxs("button",{className:"btn-primary",onClick:()=>ne(l),style:{margin:"0 auto",justifyContent:"center",fontSize:"13px"},children:[o.jsx(Oa,{size:16})," Agendar sesso"]})]}):o.jsx("div",{style:{display:"flex",flexDirection:"column"},children:ze.map((L,F)=>{const ce=E[L.status]||E.agendado,Ee=G[L.session_type]||G.individual;return o.jsxs("div",{style:{display:"flex",gap:"16px",padding:"18px 20px",borderBottom:F<ze.length-1?"1px solid rgba(255,255,255,0.04)":"none",transition:"background 0.2s",cursor:"pointer"},className:"appt-row-hover",children:[o.jsxs("div",{style:{minWidth:"56px",flexShrink:0},children:[o.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#a78bfa",fontFamily:"Outfit"},children:L.start_time}),o.jsx("div",{style:{fontSize:"11px",color:"#64748b"},children:L.end_time})]}),o.jsx("div",{style:{width:"3px",borderRadius:"100px",background:Ee.color,flexShrink:0}}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsxs("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[Ge(L.patient_id),o.jsx("span",{style:{fontSize:"10px",padding:"2px 8px",borderRadius:"100px",background:ce.bg,color:ce.color,fontWeight:"700",textTransform:"uppercase"},children:ce.label})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"12px",color:"#94a3b8",flexWrap:"wrap"},children:[o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(Bl,{size:12})," ",Ee.label]}),L.location&&o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(g0,{size:12})," ",L.location]})]}),L.notes&&o.jsxs("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[" ",L.notes]})]}),o.jsxs("div",{style:{display:"flex",gap:"6px",flexShrink:0},children:[o.jsx("button",{onClick:()=>B(L),style:{background:"rgba(255,255,255,0.05)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#94a3b8"},children:o.jsx(ob,{size:14})}),o.jsx("button",{onClick:()=>q(L.id),style:{background:"rgba(239,68,68,0.05)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#ef4444"},children:o.jsx(y0,{size:14})})]})]},L.id)})})}),ze.length>0&&o.jsxs("button",{onClick:()=>ne(l),style:{marginTop:"12px",width:"100%",padding:"14px",borderRadius:"12px",border:"2px dashed rgba(139,92,246,0.2)",background:"rgba(139,92,246,0.03)",color:"#a78bfa",fontWeight:"600",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(Oa,{size:16})," Adicionar sesso neste dia"]})]})]}),b&&o.jsx("div",{className:"modal-overlay",onClick:L=>{L.target===L.currentTarget&&(_(!1),P())},children:o.jsxs("div",{className:"premium-card modal-card animate-fade",style:{width:"100%",maxWidth:"480px",padding:"28px",backgroundColor:"var(--bloom-surface)",position:"relative"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"20px",marginBottom:"4px"},children:S?"Editar Sesso":"Nova Sesso"}),o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8"},children:"Agende uma sesso"})]}),o.jsx("button",{onClick:()=>{_(!1),P()},style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer"},children:o.jsx(Gs,{size:22})})]}),o.jsxs("form",{onSubmit:$,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:Z,children:"Paciente"}),o.jsxs("select",{required:!0,value:C.patient_id,onChange:L=>R({...C,patient_id:L.target.value}),style:{...Q,cursor:"pointer"},children:[o.jsx("option",{value:"",children:"Selecionar paciente..."}),p.map(L=>o.jsx("option",{value:L.id,children:L.name},L.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{style:Z,children:"Data"}),o.jsx("input",{type:"date",required:!0,value:C.date,onChange:L=>R({...C,date:L.target.value}),style:Q})]}),o.jsxs("div",{className:"modal-form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:Z,children:"Incio"}),o.jsx("input",{type:"time",required:!0,value:C.start_time,onChange:L=>R({...C,start_time:L.target.value}),style:Q})]}),o.jsxs("div",{children:[o.jsx("label",{style:Z,children:"Fim"}),o.jsx("input",{type:"time",required:!0,value:C.end_time,onChange:L=>R({...C,end_time:L.target.value}),style:Q})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:Z,children:"Tipo de Sesso"}),o.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:Object.entries(G).map(([L,F])=>o.jsx("button",{type:"button",onClick:()=>R({...C,session_type:L}),style:{padding:"8px 14px",borderRadius:"100px",fontSize:"12px",fontWeight:"600",cursor:"pointer",background:C.session_type===L?`${F.color}15`:"rgba(255,255,255,0.03)",border:C.session_type===L?`2px solid ${F.color}`:"1px solid rgba(255,255,255,0.08)",color:C.session_type===L?F.color:"#94a3b8"},children:F.label},L))})]}),o.jsxs("div",{children:[o.jsx("label",{style:Z,children:"Status"}),o.jsx("select",{value:C.status,onChange:L=>R({...C,status:L.target.value}),style:{...Q,cursor:"pointer"},children:Object.entries(E).map(([L,F])=>o.jsx("option",{value:L,children:F.label},L))})]}),o.jsxs("div",{children:[o.jsx("label",{style:Z,children:"Local"}),o.jsx("input",{value:C.location,onChange:L=>R({...C,location:L.target.value}),placeholder:"Ex: Consultrio, Online",style:Q})]}),o.jsxs("div",{children:[o.jsx("label",{style:Z,children:"Observaes"}),o.jsx("textarea",{value:C.notes,onChange:L=>R({...C,notes:L.target.value}),placeholder:"Notas sobre a sesso...",rows:2,style:{...Q,resize:"none"}})]}),o.jsxs("button",{type:"submit",className:"btn-primary",style:{width:"100%",justifyContent:"center",marginTop:"8px"},children:[o.jsx(ia,{size:18})," ",S?"Salvar Alteraes":"Agendar Sesso"]})]})]})}),o.jsx("style",{children:`
                .appt-row-hover:hover { background-color: rgba(255,255,255,0.02); }
                @media (max-width: 768px) {
                    .agenda-layout {
                        grid-template-columns: 1fr !important;
                    }
                }
            `})]})},bS=()=>{const{patientId:i}=Nl(),a=Wt(),{user:r}=tn(),[l,u]=j.useState(null),[h,f]=j.useState([]),[p,y]=j.useState([]),[m,v]=j.useState([]),[b,_]=j.useState(!0),[S,z]=j.useState("codigos"),[A,N]=j.useState(null),[C,R]=j.useState(!1),[T,J]=j.useState(!1),[X,I]=j.useState({title:"",description:"",difficulty:"normal",coins_reward:10,xp_reward:25,emoji:"",category:"diaria"}),[K,de]=j.useState({title:"",content:"",diagnostic_type:"observacao",share_with_parents:!0});j.useEffect(()=>{ue()},[i]);async function ue(){try{const ne=(await be.getPatients(r?.id))?.find(Q=>Q.id===i);u(ne||{name:"Paciente"});const[P,E,G]=await Promise.all([be.getAccessCodes(i),be.getTasks(i),be.getDiagnostics(i)]);f(P||[]),y(E||[]),v(G||[])}catch(B){console.error(B)}finally{_(!1)}}const qe=async B=>{try{await be.generateAccessCode(i,B),await ue()}catch{alert("Erro ao gerar cdigo.")}},Qe=B=>{navigator.clipboard.writeText(B),N(B),setTimeout(()=>N(null),2e3)},ze=async B=>{B.preventDefault();try{await be.createTask({...X,patient_id:i}),R(!1),I({title:"",description:"",difficulty:"normal",coins_reward:10,xp_reward:25,emoji:"",category:"diaria"}),await ue()}catch{alert("Erro ao criar misso.")}},ft=async B=>{B.preventDefault();try{await be.createDiagnostic({...K,patient_id:i}),J(!1),de({title:"",content:"",diagnostic_type:"observacao",share_with_parents:!0}),await ue()}catch{alert("Erro ao criar diagnstico.")}},Ze=["","","","","","","","","","","",""],Ge=[{value:"facil",label:"Fcil",color:"#10b981"},{value:"normal",label:"Normal",color:"#3b82f6"},{value:"dificil",label:"Difcil",color:"#f59e0b"},{value:"epico",label:"pico",color:"#ef4444"}],$={width:"100%",padding:"12px 14px",borderRadius:"10px",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",color:"white",outline:"none",fontSize:"14px"},q={display:"block",fontSize:"12px",color:"#94a3b8",fontWeight:"600",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.3px"};return o.jsxs("div",{className:"portal-manager animate-fade",style:{padding:"24px 0"},children:[o.jsxs("button",{onClick:()=>a("/pacientes"),style:{background:"none",border:"none",color:"var(--bloom-text-muted)",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",marginBottom:"20px",fontSize:"14px"},children:[o.jsx(Mi,{size:18})," Voltar"]}),o.jsxs("div",{style:{marginBottom:"28px"},children:[o.jsx("h1",{style:{fontSize:"26px",marginBottom:"6px"},children:"Gerenciar Portais"}),o.jsx("p",{style:{color:"var(--bloom-lavender)",fontWeight:"600",fontSize:"16px"},children:l?.name})]}),o.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"24px",background:"rgba(255,255,255,0.03)",borderRadius:"14px",padding:"4px",overflowX:"auto"},children:[{key:"codigos",label:"Cdigos",icon:o.jsx(Hs,{size:15})},{key:"missoes",label:"Misses",icon:o.jsx(Is,{size:15})},{key:"diagnosticos",label:"Diagnsticos",icon:o.jsx(Na,{size:15})}].map(B=>o.jsxs("button",{onClick:()=>z(B.key),style:{flex:1,padding:"11px 16px",borderRadius:"12px",whiteSpace:"nowrap",background:S===B.key?"rgba(139,92,246,0.12)":"transparent",color:S===B.key?"#a78bfa":"#94a3b8",border:S===B.key?"1px solid rgba(139,92,246,0.15)":"1px solid transparent",fontWeight:"600",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[B.icon," ",B.label]},B.key))}),S==="codigos"&&o.jsxs("div",{children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"24px"},className:"portal-code-grid",children:[o.jsxs("button",{onClick:()=>qe("pais"),className:"premium-card",style:{padding:"20px",cursor:"pointer",textAlign:"center",border:"1px dashed rgba(251,113,133,0.3)",background:"rgba(251,113,133,0.03)"},children:[o.jsx(sa,{size:24,color:"#fb7185",style:{marginBottom:"10px"}}),o.jsx("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"4px"},children:"Gerar para Pais"}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"Relatrios e evolues"})]}),o.jsxs("button",{onClick:()=>qe("aluno"),className:"premium-card",style:{padding:"20px",cursor:"pointer",textAlign:"center",border:"1px dashed rgba(16,185,129,0.3)",background:"rgba(16,185,129,0.03)"},children:[o.jsx(Oi,{size:24,color:"#10b981",style:{marginBottom:"10px"}}),o.jsx("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"4px"},children:"Gerar para Aluno"}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"Misses e conquistas"})]})]}),h.length>0?o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:h.map(B=>o.jsxs("div",{className:"premium-card",style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[B.portal_type==="pais"?o.jsx(sa,{size:18,color:"#fb7185"}):o.jsx(Oi,{size:18,color:"#10b981"}),o.jsxs("div",{children:[o.jsxs("div",{style:{fontSize:"11px",color:"#94a3b8",textTransform:"uppercase",fontWeight:"600"},children:["Portal ",B.portal_type==="pais"?"dos Pais":"do Aluno"]}),o.jsx("div",{style:{fontSize:"20px",fontWeight:"800",letterSpacing:"4px",fontFamily:"monospace",color:"#f8fafc"},children:B.access_code})]})]}),o.jsx("button",{onClick:()=>Qe(B.access_code),style:{background:A===B.access_code?"rgba(16,185,129,0.1)":"rgba(255,255,255,0.05)",border:"none",padding:"10px",borderRadius:"10px",cursor:"pointer",color:A===B.access_code?"#10b981":"#94a3b8"},children:A===B.access_code?o.jsx(ia,{size:18}):o.jsx(_1,{size:18})})]},B.id))}):o.jsxs("div",{className:"premium-card",style:{padding:"40px",textAlign:"center"},children:[o.jsx(Hs,{size:32,color:"#334155",style:{marginBottom:"12px"}}),o.jsx("p",{style:{color:"#64748b"},children:"Nenhum cdigo gerado ainda."})]})]}),S==="missoes"&&o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>R(!0),className:"btn-primary",style:{marginBottom:"20px",width:"100%",justifyContent:"center"},children:[o.jsx(Oa,{size:18})," Nova Misso"]}),p.length>0?o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:p.map(B=>o.jsxs("div",{className:"premium-card",style:{padding:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",background:"rgba(139,92,246,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:B.emoji||""}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"2px"},children:B.title}),o.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"11px"},children:[o.jsxs("span",{style:{color:"#fbbf24"},children:[" ",B.coins_reward]}),o.jsxs("span",{style:{color:"#a78bfa"},children:[" ",B.xp_reward," XP"]}),o.jsx("span",{style:{color:B.status==="concluida"?"#10b981":"#94a3b8",textTransform:"uppercase",fontWeight:"700"},children:B.status})]})]})]},B.id))}):o.jsxs("div",{className:"premium-card",style:{padding:"40px",textAlign:"center"},children:[o.jsx(Is,{size:32,color:"#334155",style:{marginBottom:"12px"}}),o.jsx("p",{style:{color:"#64748b"},children:"Crie misses para o aluno."})]})]}),S==="diagnosticos"&&o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>J(!0),className:"btn-primary",style:{marginBottom:"20px",width:"100%",justifyContent:"center"},children:[o.jsx(Oa,{size:18})," Novo Diagnstico"]}),m.length>0?o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:m.map(B=>o.jsxs("div",{className:"premium-card",style:{padding:"18px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[o.jsx($s,{size:16,color:"#10b981"}),o.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:B.title}),B.share_with_parents&&o.jsx("span",{style:{fontSize:"10px",padding:"2px 8px",borderRadius:"100px",background:"rgba(251,113,133,0.1)",color:"#fb7185",fontWeight:"600"},children:"Visvel para pais"})]}),o.jsxs("p",{style:{fontSize:"13px",color:"#94a3b8",lineHeight:"1.5"},children:[B.content?.substring(0,120),B.content?.length>120?"...":""]})]},B.id))}):o.jsxs("div",{className:"premium-card",style:{padding:"40px",textAlign:"center"},children:[o.jsx(Na,{size:32,color:"#334155",style:{marginBottom:"12px"}}),o.jsx("p",{style:{color:"#64748b"},children:"Nenhum diagnstico registrado."})]})]}),C&&o.jsx("div",{className:"modal-overlay",onClick:B=>{B.target===B.currentTarget&&R(!1)},children:o.jsxs("div",{className:"premium-card modal-card animate-fade",style:{width:"100%",maxWidth:"480px",padding:"28px",backgroundColor:"var(--bloom-surface)",position:"relative"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"20px",marginBottom:"4px"},children:"Nova Misso"}),o.jsxs("p",{style:{fontSize:"12px",color:"#94a3b8"},children:["Crie tarefas gamificadas para ",l?.name]})]}),o.jsx("button",{onClick:()=>R(!1),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer"},children:o.jsx(Gs,{size:22})})]}),o.jsxs("form",{onSubmit:ze,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:q,children:"cone da Misso"}),o.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:Ze.map(B=>o.jsx("button",{type:"button",onClick:()=>I({...X,emoji:B}),style:{width:"40px",height:"40px",borderRadius:"10px",fontSize:"20px",background:X.emoji===B?"rgba(139,92,246,0.15)":"rgba(255,255,255,0.03)",border:X.emoji===B?"2px solid #8b5cf6":"1px solid rgba(255,255,255,0.08)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:B},B))})]}),o.jsxs("div",{children:[o.jsx("label",{style:q,children:"Ttulo"}),o.jsx("input",{required:!0,value:X.title,onChange:B=>I({...X,title:B.target.value}),placeholder:"Ex: Praticar respirao 5 min",style:$})]}),o.jsxs("div",{children:[o.jsx("label",{style:q,children:"Descrio (opcional)"}),o.jsx("textarea",{value:X.description,onChange:B=>I({...X,description:B.target.value}),placeholder:"Detalhes da misso...",rows:3,style:{...$,resize:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:q,children:"Dificuldade"}),o.jsx("div",{style:{display:"flex",gap:"6px"},children:Ge.map(B=>o.jsx("button",{type:"button",onClick:()=>I({...X,difficulty:B.value}),style:{flex:1,padding:"10px",borderRadius:"10px",background:X.difficulty===B.value?`${B.color}15`:"rgba(255,255,255,0.03)",border:X.difficulty===B.value?`2px solid ${B.color}`:"1px solid rgba(255,255,255,0.08)",color:X.difficulty===B.value?B.color:"#94a3b8",fontWeight:"600",fontSize:"12px",cursor:"pointer"},children:B.label},B.value))})]}),o.jsxs("div",{className:"modal-form-row",children:[o.jsxs("div",{children:[o.jsx("label",{style:q,children:" Moedas"}),o.jsx("input",{type:"number",min:"1",max:"100",value:X.coins_reward,onChange:B=>I({...X,coins_reward:parseInt(B.target.value)||0}),style:$})]}),o.jsxs("div",{children:[o.jsx("label",{style:q,children:" XP"}),o.jsx("input",{type:"number",min:"1",max:"500",value:X.xp_reward,onChange:B=>I({...X,xp_reward:parseInt(B.target.value)||0}),style:$})]})]}),o.jsxs("button",{type:"submit",className:"btn-primary",style:{width:"100%",justifyContent:"center",marginTop:"8px"},children:[o.jsx(Da,{size:18})," Criar Misso"]})]})]})}),T&&o.jsx("div",{className:"modal-overlay",onClick:B=>{B.target===B.currentTarget&&J(!1)},children:o.jsxs("div",{className:"premium-card modal-card animate-fade",style:{width:"100%",maxWidth:"520px",padding:"28px",backgroundColor:"var(--bloom-surface)",position:"relative"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"20px",marginBottom:"4px"},children:"Novo Diagnstico"}),o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8"},children:"Registre observaes e laudos"})]}),o.jsx("button",{onClick:()=>J(!1),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer"},children:o.jsx(Gs,{size:22})})]}),o.jsxs("form",{onSubmit:ft,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:q,children:"Ttulo"}),o.jsx("input",{required:!0,value:K.title,onChange:B=>de({...K,title:B.target.value}),placeholder:"Ex: Avaliao Neuropsicolgica",style:$})]}),o.jsxs("div",{children:[o.jsx("label",{style:q,children:"Tipo"}),o.jsxs("select",{value:K.diagnostic_type,onChange:B=>de({...K,diagnostic_type:B.target.value}),style:{...$,cursor:"pointer"},children:[o.jsx("option",{value:"observacao",children:"Observao Clnica"}),o.jsx("option",{value:"laudo",children:"Laudo"}),o.jsx("option",{value:"encaminhamento",children:"Encaminhamento"}),o.jsx("option",{value:"relatorio",children:"Relatrio de Progresso"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:q,children:"Contedo"}),o.jsx("textarea",{required:!0,value:K.content,onChange:B=>de({...K,content:B.target.value}),placeholder:"Descreva as observaes, hipteses diagnsticas e recomendaes...",rows:6,style:{...$,resize:"none",lineHeight:"1.6"}})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",padding:"12px",borderRadius:"10px",background:"rgba(251,113,133,0.05)",border:"1px solid rgba(251,113,133,0.1)"},children:[o.jsx("input",{type:"checkbox",checked:K.share_with_parents,onChange:B=>de({...K,share_with_parents:B.target.checked}),style:{accentColor:"#8b5cf6",width:"18px",height:"18px"}}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",fontWeight:"600"},children:"Compartilhar com pais"}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"Visvel no Portal dos Pais"})]})]}),o.jsxs("button",{type:"submit",className:"btn-primary",style:{width:"100%",justifyContent:"center",marginTop:"8px"},children:[o.jsx(yb,{size:18})," Salvar Diagnstico"]})]})]})}),o.jsx("style",{children:`
                @media (max-width: 768px) {
                    .portal-code-grid { grid-template-columns: 1fr !important; }
                }
            `})]})},_S=()=>{const i=Wt(),[a,r]=j.useState(""),[l,u]=j.useState(!1),[h,f]=j.useState(""),p=async y=>{y.preventDefault();const m=a.trim().toUpperCase();if(!m||m.length<4){f("Digite um cdigo vlido.");return}u(!0),f("");try{const v=await be.validateAccessCode(m);if(!v){f("Cdigo invlido ou expirado. Verifique com a psicloga.");return}if(!v.patients_psico){f("Erro: Dados do paciente no encontrados.");return}v.portal_type==="pais"?i(`/portal/pais/${v.access_code}`):i(`/portal/aluno/${v.access_code}`)}catch(v){console.error("Erro de acesso:",v),f("Erro de sistema: No foi possvel validar o cdigo. Tente novamente.")}finally{u(!1)}};return o.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:"10%",left:"10%",width:"200px",height:"200px",background:"radial-gradient(circle, rgba(139,92,246,0.15) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(40px)"}}),o.jsx("div",{style:{position:"absolute",bottom:"20%",right:"15%",width:"300px",height:"300px",background:"radial-gradient(circle, rgba(16,185,129,0.1) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)"}}),o.jsxs("div",{style:{width:"100%",maxWidth:"440px",position:"relative",zIndex:1},children:[o.jsxs("button",{onClick:()=>i("/"),style:{background:"none",border:"none",color:"#94a3b8",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",marginBottom:"24px",fontSize:"13px",padding:"0"},children:[o.jsx(Mi,{size:16})," Voltar ao incio"]}),o.jsxs("div",{className:"login-card",style:{width:"100%",maxWidth:"440px",background:"rgba(30, 41, 59, 0.8)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.08)",padding:"48px 36px",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)",position:"relative",zIndex:1},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[o.jsx("div",{onClick:()=>i("/"),style:{width:"64px",height:"64px",borderRadius:"20px",background:"linear-gradient(135deg, #8b5cf6, #a78bfa)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",fontSize:"28px",fontWeight:"900",color:"white",boxShadow:"0 8px 32px rgba(139,92,246,0.3)",cursor:"pointer"},children:"B"}),o.jsx("h1",{onClick:()=>i("/"),style:{fontFamily:"Outfit",fontSize:"28px",fontWeight:"700",marginBottom:"8px",cursor:"pointer"},children:"Portal Bloom"}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"14px",lineHeight:"1.5"},children:"Acompanhe a evoluo e o progresso no tratamento"})]}),o.jsxs("form",{onSubmit:p,children:[o.jsx("label",{style:{display:"block",fontSize:"12px",color:"#94a3b8",fontWeight:"600",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Cdigo de Acesso"}),o.jsxs("div",{style:{position:"relative",marginBottom:"20px"},children:[o.jsx(Hs,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#8b5cf6"}}),o.jsx("input",{type:"text",value:a,onChange:y=>{r(y.target.value.toUpperCase()),f("")},placeholder:"Ex: A3B7K2",maxLength:6,style:{width:"100%",padding:"16px 16px 16px 50px",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.04)",color:"white",fontSize:"18px",fontWeight:"700",letterSpacing:"6px",textAlign:"center",outline:"none",transition:"border-color 0.2s"},onFocus:y=>y.target.style.borderColor="rgba(139,92,246,0.5)",onBlur:y=>y.target.style.borderColor="rgba(255,255,255,0.1)"})]}),h&&o.jsx("div",{style:{padding:"12px 16px",borderRadius:"10px",background:"rgba(251,113,133,0.1)",border:"1px solid rgba(251,113,133,0.2)",color:"#fb7185",fontSize:"13px",marginBottom:"16px",textAlign:"center"},children:h}),o.jsxs("button",{type:"submit",disabled:l||a.length<4,style:{width:"100%",padding:"16px",borderRadius:"14px",background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",color:"white",fontWeight:"700",fontSize:"16px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",opacity:l||a.length<4?.5:1,transition:"all 0.2s",boxShadow:"0 4px 20px rgba(139,92,246,0.3)"},children:[l?"Verificando...":"Acessar Portal",!l&&o.jsx(Us,{size:18})]})]}),o.jsxs("div",{style:{marginTop:"36px",display:"flex",gap:"12px"},children:[o.jsxs("div",{style:{flex:1,padding:"16px",borderRadius:"14px",background:"rgba(139,92,246,0.06)",border:"1px solid rgba(139,92,246,0.1)",textAlign:"center"},children:[o.jsx(sa,{size:20,color:"#fb7185",style:{marginBottom:"8px"}}),o.jsx("p",{style:{fontSize:"11px",color:"#94a3b8",fontWeight:"500"},children:"Portal dos Pais"})]}),o.jsxs("div",{style:{flex:1,padding:"16px",borderRadius:"14px",background:"rgba(16,185,129,0.06)",border:"1px solid rgba(16,185,129,0.1)",textAlign:"center"},children:[o.jsx(Oi,{size:20,color:"#10b981",style:{marginBottom:"8px"}}),o.jsx("p",{style:{fontSize:"11px",color:"#94a3b8",fontWeight:"500"},children:"Portal do Aluno"})]})]}),o.jsx("p",{style:{textAlign:"center",marginTop:"24px",fontSize:"12px",color:"#64748b"},children:"Pea o cdigo de acesso para sua psicloga"})]})]})]})},SS=()=>{const{code:i}=Nl(),a=Wt(),[r,l]=j.useState(null),[u,h]=j.useState([]),[f,p]=j.useState([]),[y,m]=j.useState(!0),[v,b]=j.useState(null),[_,S]=j.useState("evolucoes"),[z,A]=j.useState(null);j.useEffect(()=>{N()},[i]);async function N(){try{const T=await be.validateAccessCode(i);if(!T||T.portal_type!=="pais"){a("/portal");return}l(T.patients_psico),A(T.patients_psico?.profiles_psico);const[J,X]=await Promise.all([be.getEvolutions(T.patient_id),be.getDiagnostics(T.patient_id,!0)]);h(J||[]),p(X||[])}catch(T){console.error(T)}finally{m(!1)}}const C=T=>{if(!T)return"";const J=new Date,X=new Date(T),I=J.getFullYear()-X.getFullYear(),K=J.getMonth()-X.getMonth();return I===0?`${K>0?K:1} meses`:`${I} anos`},R=T=>{if(!T||!Array.isArray(T))return[];const J={"Regulao Emocional":{label:"Emocional",color:"#fb923c",icon:""},"Foco Atencional":{label:"Cognitivo",color:"#8b5cf6",icon:""},"Interao Social":{label:"Social",color:"#3b82f6",icon:""},"Comunicao Verbal":{label:"Comunicao",color:"#10b981",icon:""},Autonomia:{label:"Autonomia",color:"#f59e0b",icon:""},"Coordenao Motora":{label:"Motor",color:"#ef4444",icon:""},Engajamento:{label:"Engajamento",color:"#06b6d4",icon:""},"Contato Visual":{label:"Social",color:"#3b82f6",icon:""},"Jogo Simblico":{label:"Cognitivo",color:"#8b5cf6",icon:""},"Expresso Facial":{label:"Emocional",color:"#fb923c",icon:""}};return T.map(X=>J[X]||{label:X,color:"#94a3b8",icon:""})};return y?o.jsxs("div",{style:{minHeight:"100vh",background:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"16px"},children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",border:"3px solid rgba(139,92,246,0.2)",borderTopColor:"#8b5cf6",animation:"spin 0.8s linear infinite"}}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Carregando portal..."}),o.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):o.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #0f172a 0%, #1e1b4b 100%)",color:"#f8fafc"},children:[o.jsx("div",{className:"portal-header",style:{background:"rgba(30,41,59,0.8)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(255,255,255,0.05)",padding:"16px 24px",position:"sticky",top:0,zIndex:10},children:o.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("button",{onClick:()=>a("/portal"),style:{background:"none",border:"none",color:"#94a3b8",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"13px"},children:[o.jsx(Mi,{size:16})," Sair"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(sa,{size:16,color:"#fb7185"}),o.jsx("span",{style:{fontSize:"13px",fontWeight:"600",color:"#fb7185"},children:"Portal dos Pais"})]})]})})}),o.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"24px 16px 80px"},children:[o.jsxs("div",{className:"portal-hero",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.15), rgba(59,130,246,0.1))",borderRadius:"20px",padding:"28px",marginBottom:"24px",border:"1px solid rgba(139,92,246,0.15)",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:"-30px",right:"-30px",width:"120px",height:"120px",background:"radial-gradient(circle, rgba(139,92,246,0.2), transparent 70%)",borderRadius:"50%"}}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"800",color:"white",flexShrink:0},children:r?.name?.charAt(0)}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"11px",color:"#a78bfa",fontWeight:"700",textTransform:"uppercase",marginBottom:"2px"},children:"Paciente"}),o.jsx("h1",{style:{fontSize:"22px",fontFamily:"Outfit",fontWeight:"700",marginBottom:"4px"},children:r?.name}),o.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[r?.birth_date&&o.jsxs("span",{style:{fontSize:"13px",color:"#94a3b8",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(on,{size:13})," ",C(r.birth_date)]}),o.jsx("span",{style:{fontSize:"10px",padding:"3px 10px",borderRadius:"100px",background:"rgba(16,185,129,0.1)",color:"#10b981",fontWeight:"700",textTransform:"uppercase"},children:r?.status||"ativo"})]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",paddingTop:"20px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",fontWeight:"600",marginBottom:"4px"},children:"Psicloga Responsvel"}),o.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(Bl,{size:14,color:"#8b5cf6"}),"Dr(a). ",z?.full_name||"Profissional"]}),z?.crp&&o.jsxs("div",{style:{fontSize:"11px",color:"#64748b",marginLeft:"20px"},children:["CRP: ",z.crp]})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",fontWeight:"600",marginBottom:"4px"},children:"Responsvel"}),o.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(sa,{size:14,color:"#fb7185"}),r?.responsible_name||"No informado"]}),o.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginLeft:"20px"},children:r?.responsible_relationship})]})]})]})]}),o.jsxs("div",{className:"portal-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(130px, 1fr))",gap:"12px",marginBottom:"24px"},children:[o.jsxs("div",{style:{background:"rgba(30,41,59,0.6)",borderRadius:"14px",padding:"16px",textAlign:"center",border:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx(Eu,{size:20,color:"#8b5cf6",style:{marginBottom:"8px"}}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"700",fontFamily:"Outfit"},children:u.length}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"Sesses"})]}),o.jsxs("div",{style:{background:"rgba(30,41,59,0.6)",borderRadius:"14px",padding:"16px",textAlign:"center",border:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx(Ml,{size:20,color:"#10b981",style:{marginBottom:"8px"}}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"700",fontFamily:"Outfit"},children:f.length}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"Relatrios"})]}),o.jsxs("div",{style:{background:"rgba(30,41,59,0.6)",borderRadius:"14px",padding:"16px",textAlign:"center",border:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx(Ms,{size:20,color:"#fb923c",style:{marginBottom:"8px"}}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"700",fontFamily:"Outfit"},children:u.length>0?"Bom":"-"}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"Progresso"})]})]}),o.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"24px",background:"rgba(30,41,59,0.4)",borderRadius:"14px",padding:"4px"},children:[{key:"evolucoes",label:"Evolues",icon:o.jsx(Ms,{size:16})},{key:"diagnosticos",label:"Diagnsticos",icon:o.jsx(Na,{size:16})}].map(T=>o.jsxs("button",{onClick:()=>S(T.key),style:{flex:1,padding:"12px",borderRadius:"12px",background:_===T.key?"rgba(139,92,246,0.15)":"transparent",color:_===T.key?"#a78bfa":"#94a3b8",border:_===T.key?"1px solid rgba(139,92,246,0.2)":"1px solid transparent",fontWeight:"600",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s"},children:[T.icon," ",T.label]},T.key))}),_==="evolucoes"&&o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:u.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"60px 24px",background:"rgba(30,41,59,0.4)",borderRadius:"16px"},children:[o.jsx(Ms,{size:40,color:"#334155",style:{marginBottom:"16px"}}),o.jsx("p",{style:{color:"#64748b",fontSize:"15px"},children:"Nenhuma evoluo registrada ainda."}),o.jsx("p",{style:{color:"#475569",fontSize:"13px",marginTop:"8px"},children:"Aps as sesses, as evolues aparecero aqui."})]}):u.map((T,J)=>{const X=v===T.id,I=R(T.tags);return o.jsxs("div",{style:{background:"rgba(30,41,59,0.6)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",overflow:"hidden",transition:"all 0.3s",animation:`fadeIn 0.4s ease-out ${J*.05}s both`},children:[o.jsxs("button",{onClick:()=>b(X?null:T.id),style:{width:"100%",padding:"18px 20px",background:"none",border:"none",color:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",textAlign:"left"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",flex:1,minWidth:0},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(139,92,246,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:o.jsx(on,{size:18,color:"#8b5cf6"})}),o.jsxs("div",{style:{minWidth:0},children:[o.jsxs("div",{style:{fontWeight:"600",fontSize:"14px"},children:["Sesso ",u.length-J]}),o.jsxs("div",{style:{fontSize:"12px",color:"#94a3b8",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(Tu,{size:12}),new Date(T.session_date).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),X?o.jsx(d1,{size:18,color:"#94a3b8"}):o.jsx(r1,{size:18,color:"#94a3b8"})]}),X&&o.jsxs("div",{style:{padding:"0 20px 20px",animation:"fadeIn 0.3s ease-out"},children:[I.length>0&&o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"16px"},children:I.map((K,de)=>o.jsxs("span",{style:{padding:"4px 10px",borderRadius:"100px",background:`${K.color}15`,color:K.color,fontSize:"11px",fontWeight:"600"},children:[K.icon," ",K.label]},de))}),o.jsx("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",fontSize:"14px",lineHeight:"1.7",color:"#cbd5e1",marginBottom:T.metrics?.homework||T.metrics?.parentsFeedback?"12px":"0"},children:T.content}),(T.metrics?.homework||T.metrics?.parentsFeedback)&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[T.metrics?.homework&&o.jsxs("div",{style:{background:"rgba(139,92,246,0.05)",borderRadius:"12px",padding:"12px",border:"1px solid rgba(139,92,246,0.1)"},children:[o.jsxs("div",{style:{fontSize:"11px",color:"#a78bfa",fontWeight:"700",textTransform:"uppercase",marginBottom:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(f0,{size:12})," Tarefa de Casa"]}),o.jsx("div",{style:{fontSize:"13px",color:"#cbd5e1"},children:T.metrics.homework})]}),T.metrics?.parentsFeedback&&o.jsxs("div",{style:{background:"rgba(16,185,129,0.05)",borderRadius:"12px",padding:"12px",border:"1px solid rgba(16,185,129,0.1)"},children:[o.jsxs("div",{style:{fontSize:"11px",color:"#10b981",fontWeight:"700",textTransform:"uppercase",marginBottom:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(m0,{size:12})," Feedback para Pais"]}),o.jsx("div",{style:{fontSize:"13px",color:"#cbd5e1"},children:T.metrics.parentsFeedback})]})]})]})]},T.id)})}),_==="diagnosticos"&&o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:f.length===0?o.jsxs("div",{style:{textAlign:"center",padding:"60px 24px",background:"rgba(30,41,59,0.4)",borderRadius:"16px"},children:[o.jsx(Na,{size:40,color:"#334155",style:{marginBottom:"16px"}}),o.jsx("p",{style:{color:"#64748b",fontSize:"15px"},children:"Nenhum diagnstico compartilhado."}),o.jsx("p",{style:{color:"#475569",fontSize:"13px",marginTop:"8px"},children:"Quando a psicloga compartilhar um relatrio, ele aparecer aqui."})]}):f.map((T,J)=>o.jsxs("div",{style:{background:"rgba(30,41,59,0.6)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",padding:"20px",animation:`fadeIn 0.4s ease-out ${J*.05}s both`},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[o.jsx($s,{size:18,color:"#10b981"}),o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600"},children:T.title})]}),o.jsx("p",{style:{fontSize:"14px",lineHeight:"1.7",color:"#cbd5e1",marginBottom:"12px"},children:T.content}),o.jsxs("div",{style:{fontSize:"12px",color:"#64748b",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(Tu,{size:12}),new Date(T.created_at).toLocaleDateString("pt-BR")]})]},T.id))})]}),o.jsxs("div",{style:{textAlign:"center",padding:"24px",borderTop:"1px solid rgba(255,255,255,0.05)",fontSize:"12px",color:"#475569"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",marginBottom:"4px"},children:[o.jsx($s,{size:12})," Dados protegidos conforme LGPD"]}),"Bloom Psicologia  2026"]})]})},wS=()=>{const{code:i}=Nl(),a=Wt(),[r,l]=j.useState(null),[u,h]=j.useState([]),[f,p]=j.useState([]),[y,m]=j.useState([]),[v,b]=j.useState(!0),[_,S]=j.useState("missoes"),[z,A]=j.useState(null),[N,C]=j.useState(null),[R,T]=j.useState(null),[J,X]=j.useState(null);j.useEffect(()=>{I()},[i]);async function I(){try{const q=await be.validateAccessCode(i);if(!q||q.portal_type!=="aluno"){a("/portal");return}l(q.patients_psico),X(q.patients_psico?.profiles_psico),T(q);const[B,ne,P]=await Promise.all([be.getTasks(q.patient_id),be.getAchievements(),be.getPatientAchievements(q.patient_id)]);h(B||[]),p(ne||[]),m(P||[])}catch(q){console.error(q)}finally{b(!1)}}const K=async q=>{if(q.status!=="concluida"){A(q.id);try{await be.completeTask(q.id,R.patient_id),C({coins:q.coins_reward||10,xp:q.xp_reward||25}),setTimeout(async()=>{await I(),A(null),setTimeout(()=>C(null),2e3)},800)}catch(B){console.error(B),A(null)}}},de=r?.coins||0,ue=r?.xp||0,qe=r?.level||1,Qe=qe*100,ze=ue%100/100*100,ft=u.filter(q=>q.status==="concluida").length,Ze=u.filter(q=>q.status!=="concluida"),Ge=u.filter(q=>q.status==="concluida"),$={facil:{color:"#10b981",label:"Fcil",stars:1},normal:{color:"#3b82f6",label:"Normal",stars:2},dificil:{color:"#f59e0b",label:"Difcil",stars:3},epico:{color:"#ef4444",label:"pico",stars:4}};return v?o.jsxs("div",{style:{minHeight:"100vh",background:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"16px"},children:[o.jsx("div",{style:{fontSize:"48px",animation:"bounce 1s infinite"},children:""}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Carregando suas misses..."}),o.jsx("style",{children:`
                    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-12px); } }
                `})]}):o.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg, #0f172a 0%, #0c1222 100%)",color:"#f8fafc",paddingBottom:"80px"},children:[N&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(15,23,42,0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",padding:"40px",textAlign:"center",zIndex:1e3,border:"2px solid rgba(139,92,246,0.3)",boxShadow:"0 0 60px rgba(139,92,246,0.2)",animation:"scaleIn 0.4s ease-out"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",animation:"bounce 0.6s ease"},children:""}),o.jsx("h2",{style:{fontSize:"22px",fontFamily:"Outfit",marginBottom:"16px"},children:"Misso Completa!"}),o.jsxs("div",{style:{display:"flex",gap:"24px",justifyContent:"center"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"#fbbf24"},children:["+",N.coins]}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"Moedas"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"#8b5cf6"},children:["+",N.xp]}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"XP"})]})]})]}),o.jsx("div",{className:"portal-header",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.15), rgba(16,185,129,0.08))",borderBottom:"1px solid rgba(255,255,255,0.05)",padding:"16px 16px 24px"},children:o.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[o.jsxs("button",{onClick:()=>a("/portal"),style:{background:"none",border:"none",color:"#94a3b8",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"13px"},children:[o.jsx(Mi,{size:16})," Sair"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 14px",borderRadius:"100px",background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.2)"},children:[o.jsx(Oi,{size:14,color:"#10b981"}),o.jsx("span",{style:{fontSize:"12px",fontWeight:"600",color:"#10b981"},children:"Modo Aventura"})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px"},children:[o.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"18px",background:"linear-gradient(135deg, #6366f1, #8b5cf6)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",border:"3px solid rgba(255,255,255,0.1)",boxShadow:"0 4px 20px rgba(99,102,241,0.3)",flexShrink:0},children:r?.avatar_emoji||""}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"10px",color:"#a78bfa",fontWeight:"800",textTransform:"uppercase",letterSpacing:"1px"},children:"Aventureiro(a)"}),o.jsx("h1",{style:{fontSize:"20px",fontFamily:"Outfit",fontWeight:"700",marginBottom:"4px"},children:r?.name}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsxs("span",{style:{padding:"2px 10px",borderRadius:"100px",background:"rgba(139,92,246,0.15)",color:"#a78bfa",fontSize:"12px",fontWeight:"700"},children:["Nvel ",qe]}),o.jsxs("span",{style:{fontSize:"12px",color:"#94a3b8"},children:[ue," / ",Qe," XP"]})]})]})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"14px",padding:"10px 16px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:"rgba(139,92,246,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Ml,{size:16,color:"#a78bfa"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",fontWeight:"700"},children:"Sua Psicloga"}),o.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#f8fafc"},children:["Dr(a). ",J?.full_name||"Profissional"]})]})]}),o.jsx("div",{style:{width:"100%",height:"8px",borderRadius:"100px",background:"rgba(255,255,255,0.08)",overflow:"hidden",marginBottom:"16px"},children:o.jsx("div",{style:{height:"100%",borderRadius:"100px",background:"linear-gradient(90deg, #8b5cf6, #6366f1)",width:`${ze}%`,transition:"width 0.5s ease",boxShadow:"0 0 10px rgba(139,92,246,0.4)"}})}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsxs("div",{style:{flex:1,padding:"12px",borderRadius:"12px",background:"rgba(251,191,36,0.08)",border:"1px solid rgba(251,191,36,0.15)",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#fbbf24",fontFamily:"Outfit"},children:de}),o.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[o.jsx(xg,{size:12})," Moedas"]})]}),o.jsxs("div",{style:{flex:1,padding:"12px",borderRadius:"12px",background:"rgba(139,92,246,0.08)",border:"1px solid rgba(139,92,246,0.15)",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#a78bfa",fontFamily:"Outfit"},children:ft}),o.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[o.jsx(Is,{size:12})," Misses"]})]}),o.jsxs("div",{style:{flex:1,padding:"12px",borderRadius:"12px",background:"rgba(16,185,129,0.08)",border:"1px solid rgba(16,185,129,0.15)",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#10b981",fontFamily:"Outfit"},children:y.length}),o.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[o.jsx(vg,{size:12})," Trofus"]})]})]})]})}),o.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"20px 16px"},children:[o.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"20px",background:"rgba(30,41,59,0.4)",borderRadius:"14px",padding:"4px"},children:[{key:"missoes",label:"Misses",icon:o.jsx(Is,{size:15})},{key:"conquistas",label:"Trofus",icon:o.jsx(vg,{size:15})}].map(q=>o.jsxs("button",{onClick:()=>S(q.key),style:{flex:1,padding:"11px",borderRadius:"12px",background:_===q.key?"linear-gradient(135deg, rgba(139,92,246,0.15), rgba(99,102,241,0.15))":"transparent",color:_===q.key?"#a78bfa":"#94a3b8",border:_===q.key?"1px solid rgba(139,92,246,0.2)":"1px solid transparent",fontWeight:"600",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[q.icon," ",q.label]},q.key))}),_==="missoes"&&o.jsxs("div",{children:[Ze.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"14px"},children:[o.jsx(z1,{size:16,color:"#fb923c"}),o.jsxs("h3",{style:{fontSize:"15px",fontWeight:"600"},children:["Misses Ativas (",Ze.length,")"]})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"28px"},children:Ze.map((q,B)=>{const ne=$[q.difficulty]||$.normal,P=z===q.id;return o.jsxs("div",{style:{background:"rgba(30,41,59,0.6)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",padding:"16px",display:"flex",alignItems:"center",gap:"14px",transition:"all 0.3s",transform:P?"scale(0.98)":"scale(1)",opacity:P?.6:1,animation:`fadeIn 0.4s ease-out ${B*.05}s both`},children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:`${ne.color}15`,border:`1px solid ${ne.color}30`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",flexShrink:0},children:q.emoji||""}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"4px"},children:q.title}),q.description&&o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",marginBottom:"6px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:q.description}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsxs("span",{style:{fontSize:"11px",color:"#fbbf24",fontWeight:"600",display:"flex",alignItems:"center",gap:"3px"},children:[o.jsx(xg,{size:12})," +",q.coins_reward||10]}),o.jsxs("span",{style:{fontSize:"11px",color:"#a78bfa",fontWeight:"600",display:"flex",alignItems:"center",gap:"3px"},children:[o.jsx(Ub,{size:12})," +",q.xp_reward||25," XP"]}),o.jsx("span",{style:{fontSize:"10px",color:ne.color,fontWeight:"600",padding:"2px 8px",borderRadius:"100px",background:`${ne.color}10`},children:ne.label})]})]}),o.jsx("button",{onClick:()=>K(q),disabled:P,style:{width:"44px",height:"44px",borderRadius:"14px",background:"linear-gradient(135deg, #10b981, #059669)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"white",flexShrink:0,boxShadow:"0 4px 12px rgba(16,185,129,0.3)",transition:"all 0.2s"},children:o.jsx(ia,{size:20})})]},q.id)})})]}),Ge.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"14px"},children:[o.jsx(ia,{size:16,color:"#10b981"}),o.jsxs("h3",{style:{fontSize:"15px",fontWeight:"600",color:"#94a3b8"},children:["Completadas (",Ge.length,")"]})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Ge.slice(0,5).map(q=>o.jsxs("div",{style:{background:"rgba(30,41,59,0.3)",borderRadius:"12px",padding:"14px",display:"flex",alignItems:"center",gap:"12px",opacity:.6},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"rgba(16,185,129,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",flexShrink:0},children:q.emoji||""}),o.jsx("div",{style:{flex:1},children:o.jsx("div",{style:{fontWeight:"500",fontSize:"13px",textDecoration:"line-through"},children:q.title})}),o.jsx(ia,{size:16,color:"#10b981"})]},q.id))})]}),u.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"60px 24px",background:"rgba(30,41,59,0.4)",borderRadius:"16px"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"Nenhuma misso disponvel"}),o.jsx("p",{style:{color:"#64748b",fontSize:"13px"},children:"Aguarde sua psicloga criar novas misses para voc!"})]})]}),_==="conquistas"&&o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[o.jsx(ab,{size:16,color:"#fbbf24"}),o.jsxs("h3",{style:{fontSize:"15px",fontWeight:"600"},children:["Suas Conquistas (",y.length,"/",f.length,")"]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:f.map((q,B)=>{const ne=y.some(P=>P.achievement_id===q.id);return o.jsxs("div",{style:{background:ne?"linear-gradient(135deg, rgba(139,92,246,0.1), rgba(99,102,241,0.08))":"rgba(30,41,59,0.4)",borderRadius:"16px",padding:"18px 14px",textAlign:"center",border:ne?"1px solid rgba(139,92,246,0.2)":"1px solid rgba(255,255,255,0.03)",opacity:ne?1:.45,transition:"all 0.3s",animation:`fadeIn 0.4s ease-out ${B*.05}s both`},children:[o.jsx("div",{style:{fontSize:"32px",marginBottom:"10px",filter:ne?"none":"grayscale(100%)",transition:"filter 0.3s"},children:q.emoji||""}),o.jsx("div",{style:{fontWeight:"700",fontSize:"13px",marginBottom:"4px",color:ne?"#f8fafc":"#64748b"},children:q.title}),o.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginBottom:"8px",lineHeight:"1.3"},children:q.description}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",fontSize:"11px",fontWeight:"600",color:ne?"#10b981":"#475569"},children:[ne?o.jsx(P1,{size:12}):o.jsx(Ku,{size:12}),ne?"Desbloqueada!":`+${q.coins_bonus} `]})]},q.id)})}),f.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"60px 24px",background:"rgba(30,41,59,0.4)",borderRadius:"16px"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"15px"},children:"Conquistas em breve!"})]})]})]}),o.jsx("style",{children:`
                @keyframes scaleIn {
                    from { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
                    to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                }
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(8px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes bounce {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-12px); }
                }
            `})]})},jS=()=>{const i=Wt(),[a,r]=j.useState(!1);j.useEffect(()=>{const h=()=>r(window.scrollY>50);return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const l=[{icon:o.jsx(Ml,{size:28}),title:"IA Assistente",description:"Gere evolues clnicas automticas com inteligncia artificial treinada para psicologia infantil.",color:"#8b5cf6"},{icon:o.jsx(Oi,{size:28}),title:"Portal do Aluno",description:"Gamificao com misses, moedas e conquistas que engajam crianas e adolescentes no tratamento.",color:"#10b981"},{icon:o.jsx(sa,{size:28}),title:"Portal dos Pais",description:"Pais acompanham evolues, relatrios e diagnsticos compartilhados pela psicloga.",color:"#fb7185"},{icon:o.jsx(on,{size:28}),title:"Agenda Inteligente",description:"Gerencie sesses com calendrio visual, tipos de atendimento e status de confirmao.",color:"#3b82f6"},{icon:o.jsx($s,{size:28}),title:"LGPD Compliance",description:"Dados protegidos com criptografia e controle de acesso por cdigo individual.",color:"#f59e0b"},{icon:o.jsx(Na,{size:28}),title:"Pronturio Digital",description:"Evolues, diagnsticos e laudos organizados cronologicamente por paciente.",color:"#06b6d4"}],u=[{value:"100%",label:"Digital"},{value:"LGPD",label:"Conforme"},{value:"IA",label:"Integrada"},{value:"24/7",label:"Disponvel"}];return o.jsxs("div",{style:{minHeight:"100vh",background:"#0a0e1a",color:"#f8fafc",fontFamily:"'Outfit', 'Inter', sans-serif",overflow:"hidden"},children:[o.jsx("nav",{style:{position:"fixed",top:0,left:0,right:0,zIndex:100,padding:"16px 24px",background:a?"rgba(10,14,26,0.9)":"transparent",backdropFilter:a?"blur(20px)":"none",borderBottom:a?"1px solid rgba(255,255,255,0.05)":"none",transition:"all 0.3s ease"},children:o.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:"900",color:"white"},children:"B"}),o.jsx("span",{style:{fontSize:"22px",fontWeight:"800"},children:"Bloom"})]}),o.jsxs("div",{className:"nav-links-desktop",style:{display:"flex",alignItems:"center",gap:"32px"},children:[o.jsx("a",{href:"#features",style:{color:"#94a3b8",textDecoration:"none",fontSize:"14px",fontWeight:"500"},children:"Recursos"}),o.jsx("a",{href:"#portals",style:{color:"#94a3b8",textDecoration:"none",fontSize:"14px",fontWeight:"500"},children:"Portais"}),o.jsx("button",{onClick:()=>i("/login"),style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",border:"none",padding:"10px 24px",borderRadius:"10px",color:"white",fontWeight:"600",fontSize:"14px",cursor:"pointer",boxShadow:"0 4px 15px rgba(139,92,246,0.3)"},children:"Entrar"})]})]})}),o.jsxs("section",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"120px 24px 80px",position:"relative"},children:[o.jsx("div",{style:{position:"absolute",top:"15%",left:"10%",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(139,92,246,0.12) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(80px)",pointerEvents:"none"}}),o.jsx("div",{style:{position:"absolute",bottom:"20%",right:"10%",width:"350px",height:"350px",background:"radial-gradient(circle, rgba(16,185,129,0.08) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",pointerEvents:"none"}}),o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:"600px",height:"600px",background:"radial-gradient(circle, rgba(99,102,241,0.06) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(100px)",pointerEvents:"none"}}),o.jsxs("div",{style:{maxWidth:"800px",position:"relative",zIndex:1},children:[o.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 20px",borderRadius:"100px",background:"rgba(139,92,246,0.08)",border:"1px solid rgba(139,92,246,0.15)",marginBottom:"32px",fontSize:"13px",color:"#a78bfa",fontWeight:"600"},children:[o.jsx(Da,{size:14})," Plataforma inteligente para psiclogos"]}),o.jsxs("h1",{style:{fontSize:"clamp(36px, 6vw, 64px)",fontWeight:"800",lineHeight:"1.1",marginBottom:"24px",background:"linear-gradient(135deg, #f8fafc 0%, #94a3b8 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Transforme o cuidado",o.jsx("br",{}),"em ",o.jsx("span",{style:{background:"linear-gradient(135deg, #8b5cf6, #06b6d4)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"evoluo"})]}),o.jsx("p",{style:{fontSize:"clamp(16px, 2vw, 20px)",color:"#94a3b8",lineHeight:"1.6",marginBottom:"40px",maxWidth:"600px",margin:"0 auto 40px"},children:"Pronturio digital com IA, portais gamificados para crianas e acompanhamento em tempo real para pais. Tudo em uma nica plataforma."}),o.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap",padding:"0 20px"},children:[o.jsxs("button",{onClick:()=>i("/login"),style:{flex:"1 1 200px",maxWidth:"300px",background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",border:"none",padding:"16px 24px",borderRadius:"14px",color:"white",fontWeight:"700",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 8px 30px rgba(139,92,246,0.4)",transition:"all 0.2s"},children:["Acessar Plataforma ",o.jsx(Us,{size:18})]}),o.jsxs("button",{onClick:()=>i("/portal"),style:{flex:"1 1 200px",maxWidth:"300px",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.1)",padding:"16px 24px",borderRadius:"14px",color:"#e2e8f0",fontWeight:"600",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s"},children:["Portal Pais/Alunos ",o.jsx(kl,{size:18})]})]}),o.jsx("div",{style:{display:"flex",gap:"32px",justifyContent:"center",marginTop:"60px",flexWrap:"wrap"},children:u.map((h,f)=>o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"28px",fontWeight:"800",color:"#a78bfa",fontFamily:"Outfit"},children:h.value}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:"500"},children:h.label})]},f))})]})]}),o.jsxs("section",{id:"features",style:{padding:"80px 24px",maxWidth:"1200px",margin:"0 auto"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"60px"},children:[o.jsx("h2",{style:{fontSize:"clamp(28px, 4vw, 40px)",fontWeight:"800",marginBottom:"16px"},children:"Tudo que voc precisa"}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"16px",maxWidth:"500px",margin:"0 auto"},children:"Ferramentas pensadas para psiclogos infantis que querem ir alm do pronturio."})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"20px"},children:l.map((h,f)=>o.jsxs("div",{style:{background:"rgba(30,41,59,0.4)",borderRadius:"20px",padding:"32px",border:"1px solid rgba(255,255,255,0.05)",transition:"all 0.3s",cursor:"default"},className:"feature-card-hover",children:[o.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"14px",background:`${h.color}12`,display:"flex",alignItems:"center",justifyContent:"center",color:h.color,marginBottom:"20px"},children:h.icon}),o.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",marginBottom:"10px"},children:h.title}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"14px",lineHeight:"1.6"},children:h.description})]},f))})]}),o.jsxs("section",{id:"portals",style:{padding:"80px 24px",maxWidth:"1000px",margin:"0 auto"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"60px"},children:[o.jsx("h2",{style:{fontSize:"clamp(28px, 4vw, 40px)",fontWeight:"800",marginBottom:"16px"},children:"Trs portais, um ecossistema"}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"16px"},children:"Cada participante tem seu espao personalizado."})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139,92,246,0.08), rgba(99,102,241,0.04))",borderRadius:"20px",padding:"36px",border:"1px solid rgba(139,92,246,0.15)",display:"flex",alignItems:"center",gap:"24px",flexWrap:"wrap"},children:[o.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"18px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:o.jsx(Ku,{size:28,color:"white"})}),o.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[o.jsx("div",{style:{fontSize:"10px",color:"#a78bfa",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"6px"},children:"Psicloga"}),o.jsx("h3",{style:{fontSize:"22px",fontWeight:"700",marginBottom:"8px"},children:"Painel Administrativo"}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"14px",lineHeight:"1.5"},children:"Controle total: pacientes, pronturios, agenda, portais, diagnsticos e misses gamificadas."})]}),o.jsxs("button",{onClick:()=>i("/login"),style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",border:"none",padding:"12px 24px",borderRadius:"12px",color:"white",fontWeight:"600",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:["Acessar ",o.jsx(Us,{size:16})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},className:"portals-grid",children:[o.jsxs("div",{style:{background:"rgba(251,113,133,0.04)",borderRadius:"20px",padding:"32px",border:"1px solid rgba(251,113,133,0.1)"},children:[o.jsx(sa,{size:32,color:"#fb7185",style:{marginBottom:"16px"}}),o.jsx("div",{style:{fontSize:"10px",color:"#fb7185",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"6px"},children:"Portal dos Pais"}),o.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"10px"},children:"Acompanhamento"}),o.jsx("ul",{style:{listStyle:"none",padding:0,margin:"0 0 20px"},children:["Evolues das sesses","Diagnsticos compartilhados","Progresso do tratamento"].map((h,f)=>o.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 0",fontSize:"13px",color:"#94a3b8"},children:[o.jsx(ia,{size:14,color:"#fb7185"})," ",h]},f))}),o.jsx("button",{onClick:()=>i("/portal"),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"rgba(251,113,133,0.08)",border:"1px solid rgba(251,113,133,0.15)",color:"#fb7185",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:"Entrar com cdigo"})]}),o.jsxs("div",{style:{background:"rgba(16,185,129,0.04)",borderRadius:"20px",padding:"32px",border:"1px solid rgba(16,185,129,0.1)"},children:[o.jsx(Oi,{size:32,color:"#10b981",style:{marginBottom:"16px"}}),o.jsx("div",{style:{fontSize:"10px",color:"#10b981",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"6px"},children:"Portal do Aluno"}),o.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"10px"},children:"Gamificao"}),o.jsx("ul",{style:{listStyle:"none",padding:0,margin:"0 0 20px"},children:["Misses com recompensas","Moedas e XP","Conquistas e trofus"].map((h,f)=>o.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 0",fontSize:"13px",color:"#94a3b8"},children:[o.jsx(ia,{size:14,color:"#10b981"})," ",h]},f))}),o.jsx("button",{onClick:()=>i("/portal"),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"rgba(16,185,129,0.08)",border:"1px solid rgba(16,185,129,0.15)",color:"#10b981",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:"Entrar com cdigo"})]})]})]})]}),o.jsx("section",{style:{padding:"80px 24px",textAlign:"center"},children:o.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"60px 40px",background:"linear-gradient(135deg, rgba(139,92,246,0.1), rgba(59,130,246,0.05))",borderRadius:"24px",border:"1px solid rgba(139,92,246,0.15)"},children:[o.jsx(Da,{size:32,color:"#a78bfa",style:{marginBottom:"20px"}}),o.jsx("h2",{style:{fontSize:"28px",fontWeight:"800",marginBottom:"12px"},children:"Comece agora"}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"15px",marginBottom:"28px"},children:"Cadastre-se gratuitamente e transforme sua prtica clnica."}),o.jsxs("button",{onClick:()=>i("/login"),style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",border:"none",padding:"16px 40px",borderRadius:"14px",color:"white",fontWeight:"700",fontSize:"16px",cursor:"pointer",boxShadow:"0 8px 30px rgba(139,92,246,0.4)",display:"inline-flex",alignItems:"center",gap:"10px"},children:["Criar minha conta ",o.jsx(Us,{size:18})]})]})}),o.jsxs("footer",{style:{padding:"40px 24px",borderTop:"1px solid rgba(255,255,255,0.05)",textAlign:"center",maxWidth:"1200px",margin:"0 auto"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"12px"},children:[o.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"6px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"900",color:"white"},children:"B"}),o.jsx("span",{style:{fontWeight:"700",fontSize:"16px"},children:"Bloom"})]}),o.jsx("p",{style:{color:"#475569",fontSize:"13px",marginBottom:"8px"},children:"Plataforma inteligente para psiclogos infantis"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#475569",fontSize:"12px"},children:[o.jsx($s,{size:12})," Dados protegidos conforme LGPD"]}),o.jsx("p",{style:{color:"#334155",fontSize:"11px",marginTop:"16px"},children:" 2026 Bloom Psicologia. Todos os direitos reservados."})]}),o.jsx("style",{children:`
                .feature-card-hover:hover {
                    transform: translateY(-4px);
                    border-color: rgba(139,92,246,0.15) !important;
                    box-shadow: 0 12px 40px rgba(0,0,0,0.2);
                }
                @media (max-width: 768px) {
                    .nav-links-desktop a { display: none; }
                    .portals-grid { grid-template-columns: 1fr !important; }
                }
                html { scroll-behavior: smooth; }
            `})]})},ES=()=>{const i=Wt(),{signIn:a,signUp:r}=tn(),[l,u]=j.useState(!1),[h,f]=j.useState(!1),[p,y]=j.useState(!1),[m,v]=j.useState(""),[b,_]=j.useState(""),[S,z]=j.useState({fullName:"",email:"",password:""}),[A,N]=j.useState(""),C=async T=>{T.preventDefault(),v(""),_(""),y(!0),N("Conectando...");const J=3;let X=0;for(;X<J;){X++;try{if(X>1&&(N(`Tentativa ${X}/${J}  Acordando o banco de dados...`),await new Promise(I=>setTimeout(I,2e3))),l){N("Criando sua conta..."),await r(S.email,S.password,S.fullName),_("Conta criada! Verifique seu email para confirmar o cadastro."),u(!1),y(!1),N("");return}else{N(X>1?"Reconectando...":"Autenticando..."),await a(S.email,S.password),i("/dashboard");return}}catch(I){console.error(`Erro de login (tentativa ${X}):`,I);const K=(I.message||"Erro inesperado").toLowerCase();if(K.includes("failed to fetch")||K.includes("networkerror")||K.includes("timeout")||K.includes("hibernao")){if(X<J)continue;v('O banco de dados est acordando. Por favor, aguarde 10 segundos e clique em "Entrar" novamente.')}else K.includes("invalid login")?v("Email ou senha incorretos."):K.includes("already registered")?v("Este email j est cadastrado."):K.includes("email not confirmed")?v("Verifique seu email para confirmar o cadastro antes de entrar."):v(I.message||"Erro ao conectar ao servidor.");break}}y(!1),N("")},R={width:"100%",padding:"14px 14px 14px 48px",borderRadius:"12px",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",color:"white",outline:"none",fontSize:"15px",transition:"border-color 0.2s"};return o.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0a0e1a 0%, #1e1b4b 50%, #0a0e1a 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:"5%",right:"15%",width:"300px",height:"300px",background:"radial-gradient(circle, rgba(139,92,246,0.12) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(60px)",pointerEvents:"none"}}),o.jsx("div",{style:{position:"absolute",bottom:"10%",left:"10%",width:"250px",height:"250px",background:"radial-gradient(circle, rgba(16,185,129,0.08) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",pointerEvents:"none"}}),o.jsxs("div",{style:{width:"100%",maxWidth:"440px",position:"relative",zIndex:1},children:[o.jsxs("button",{onClick:()=>i("/"),style:{background:"none",border:"none",color:"#94a3b8",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",marginBottom:"24px",fontSize:"13px",padding:"0"},children:[o.jsx(Mi,{size:16})," Voltar ao incio"]}),o.jsxs("div",{className:"login-card",style:{background:"rgba(30, 41, 59, 0.7)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.07)",padding:"44px 36px",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"36px"},children:[o.jsx("div",{onClick:()=>i("/"),style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, #8b5cf6, #6366f1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",fontSize:"24px",fontWeight:"900",color:"white",boxShadow:"0 8px 32px rgba(139,92,246,0.3)",cursor:"pointer"},children:"B"}),o.jsx("h1",{onClick:()=>i("/"),style:{fontSize:"26px",fontWeight:"700",fontFamily:"Outfit",marginBottom:"8px",cursor:"pointer"},children:l?"Criar Conta":"Bem-vinda de volta"}),o.jsx("p",{style:{color:"#94a3b8",fontSize:"14px"},children:l?"Cadastre-se para acessar a plataforma":"Acesse o painel administrativo da Bloom"})]}),o.jsxs("form",{onSubmit:C,style:{display:"flex",flexDirection:"column",gap:"18px"},children:[l&&o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"12px",color:"#94a3b8",fontWeight:"600",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Nome Completo"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Au,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#64748b"}}),o.jsx("input",{type:"text",value:S.fullName,onChange:T=>z({...S,fullName:T.target.value}),placeholder:"Dra. Mayne Margadona",style:R,onFocus:T=>T.target.style.borderColor="rgba(139,92,246,0.4)",onBlur:T=>T.target.style.borderColor="rgba(255,255,255,0.08)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"12px",color:"#94a3b8",fontWeight:"600",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Email"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(eb,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#64748b"}}),o.jsx("input",{type:"email",required:!0,value:S.email,onChange:T=>z({...S,email:T.target.value}),placeholder:"seu@email.com",style:R,onFocus:T=>T.target.style.borderColor="rgba(139,92,246,0.4)",onBlur:T=>T.target.style.borderColor="rgba(255,255,255,0.08)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"12px",color:"#94a3b8",fontWeight:"600",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Senha"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Ku,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#64748b"}}),o.jsx("input",{type:h?"text":"password",required:!0,value:S.password,onChange:T=>z({...S,password:T.target.value}),placeholder:"",minLength:6,style:R,onFocus:T=>T.target.style.borderColor="rgba(139,92,246,0.4)",onBlur:T=>T.target.style.borderColor="rgba(255,255,255,0.08)"}),o.jsx("button",{type:"button",onClick:()=>f(!h),style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#64748b",cursor:"pointer",padding:"4px"},children:h?o.jsx(T1,{size:18}):o.jsx(k1,{size:18})})]})]}),m&&o.jsxs("div",{style:{padding:"12px 16px",borderRadius:"10px",background:"rgba(251,113,133,0.08)",border:"1px solid rgba(251,113,133,0.15)",color:"#fb7185",fontSize:"13px",display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(d0,{size:16})," ",m]}),m.includes("acordando")&&o.jsx("button",{type:"button",onClick:()=>window.location.reload(),style:{background:"rgba(255,255,255,0.1)",border:"none",color:"white",padding:"6px",borderRadius:"6px",fontSize:"11px",cursor:"pointer",marginTop:"4px"},children:"Recarregar Pgina"})]}),b&&o.jsxs("div",{style:{padding:"12px 16px",borderRadius:"10px",background:"rgba(16,185,129,0.08)",border:"1px solid rgba(16,185,129,0.15)",color:"#10b981",fontSize:"13px",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(Da,{size:16})," ",b]}),o.jsx("button",{type:"submit",disabled:p,style:{width:"100%",padding:"16px",borderRadius:"14px",background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",color:"white",fontWeight:"700",fontSize:"16px",border:"none",cursor:p?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",opacity:p?.6:1,boxShadow:"0 4px 20px rgba(139,92,246,0.3)",transition:"all 0.2s",marginTop:"4px"},children:p?A||"Processando...":o.jsxs(o.Fragment,{children:[l?o.jsx(Au,{size:18}):o.jsx(J1,{size:18}),l?"Criar Conta":"Entrar"]})})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"24px"},children:o.jsxs("p",{style:{color:"#64748b",fontSize:"14px"},children:[l?"J tem uma conta?":"No tem conta?",o.jsx("button",{onClick:()=>{u(!l),v(""),_("")},style:{background:"none",border:"none",color:"#a78bfa",fontWeight:"600",cursor:"pointer",marginLeft:"6px",fontSize:"14px"},children:l?"Fazer login":"Cadastre-se"})]})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",margin:"28px 0 20px"},children:[o.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.06)"}}),o.jsx("span",{style:{fontSize:"12px",color:"#475569"},children:"ou"}),o.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.06)"}})]}),o.jsxs("button",{onClick:()=>i("/portal"),style:{width:"100%",padding:"14px",borderRadius:"12px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",color:"#94a3b8",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s"},children:["Sou pai/aluno  Entrar com cdigo ",o.jsx(Us,{size:16})]})]})]})]})},TS=()=>{const{user:i}=tn(),[a,r]=j.useState([]),[l,u]=j.useState(!0),[h,f]=j.useState(!1),[p,y]=j.useState({revenue:0,expenses:0,balance:0}),[m,v]=j.useState({type:"receita",category:"Sesso",amount:"",date:new Date().toISOString().split("T")[0],description:"",status:"pago",payment_method:"Pix"});j.useEffect(()=>{i?.id&&b()},[i]);async function b(){try{u(!0);const R=await be.getTransactions(i?.id);r(R||[]);const T=R.filter(X=>X.type==="receita").reduce((X,I)=>X+Number(I.amount),0),J=R.filter(X=>X.type==="despesa").reduce((X,I)=>X+Number(I.amount),0);y({revenue:T,expenses:J,balance:T-J})}catch(R){console.error(R)}finally{u(!1)}}const _=async R=>{R.preventDefault();try{await be.createTransaction({...m,psychologist_id:i?.id}),f(!1),z(),b()}catch{alert("Erro ao salvar transao")}},S=async R=>{if(confirm("Deseja excluir esta transao?"))try{await be.deleteTransaction(R),b()}catch{alert("Erro ao excluir")}},z=()=>{v({type:"receita",category:"Sesso",amount:"",date:new Date().toISOString().split("T")[0],description:"",status:"pago",payment_method:"Pix"})},A=R=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R),N={receita:["Sesso","Avaliao","Laudo","Superviso","Outros"],despesa:["Aluguel","Material CRP","Marketing","Cursos","Software","Outros"]},C={width:"100%",padding:"12px 14px",borderRadius:"10px",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",color:"white",outline:"none",fontSize:"14px"};return o.jsxs("div",{className:"financeiro-page animate-fade",style:{padding:"24px 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"16px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",marginBottom:"8px"},children:"Financeiro"}),o.jsx("p",{className:"text-muted",children:"Gesto de fluxo de caixa e faturamento."})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{className:"premium-card",style:{padding:"10px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(j1,{size:18})," Exportar"]}),o.jsxs("button",{className:"btn-primary",onClick:()=>f(!0),children:[o.jsx(Oa,{size:18})," Nova Transao"]})]})]}),o.jsxs("div",{className:"financeiro-stats",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"32px"},children:[o.jsxs("div",{className:"premium-card",style:{padding:"24px",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",right:"-10px",top:"-10px",opacity:.05},children:o.jsx(Ms,{size:100})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[o.jsx("span",{style:{color:"#94a3b8",fontSize:"14px",fontWeight:"600"},children:"Receita Total"}),o.jsx("div",{style:{padding:"6px",borderRadius:"8px",background:"rgba(16,185,129,0.1)",color:"#10b981"},children:o.jsx(e1,{size:18})})]}),o.jsx("div",{style:{fontSize:"28px",fontWeight:"800",fontFamily:"Outfit",color:"#10b981"},children:A(p.revenue)}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"8px"},children:"Referente ao ms atual"})]}),o.jsxs("div",{className:"premium-card",style:{padding:"24px",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",right:"-10px",top:"-10px",opacity:.05},children:o.jsx(Eb,{size:100})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[o.jsx("span",{style:{color:"#94a3b8",fontSize:"14px",fontWeight:"600"},children:"Despesas Totais"}),o.jsx("div",{style:{padding:"6px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",color:"#ef4444"},children:o.jsx(Jv,{size:18})})]}),o.jsx("div",{style:{fontSize:"28px",fontWeight:"800",fontFamily:"Outfit",color:"#ef4444"},children:A(p.expenses)}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"8px"},children:"Gastos operacionais"})]}),o.jsxs("div",{className:"premium-card",style:{padding:"24px",background:"linear-gradient(135deg, #1e1b4b 0%, #0f172a 100%)",border:"1px solid rgba(139,92,246,0.3)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[o.jsx("span",{style:{color:"#a78bfa",fontSize:"14px",fontWeight:"600"},children:"Saldo Lquido"}),o.jsx("div",{style:{padding:"6px",borderRadius:"8px",background:"rgba(139,92,246,0.1)",color:"#a78bfa"},children:o.jsx(zi,{size:18})})]}),o.jsx("div",{style:{fontSize:"28px",fontWeight:"800",fontFamily:"Outfit",color:"white"},children:A(p.balance)}),o.jsx("div",{style:{fontSize:"12px",color:"#a78bfa",marginTop:"8px",opacity:.8},children:"Lucro real do perodo"})]})]}),o.jsxs("div",{className:"premium-card",style:{padding:"0",overflow:"hidden"},children:[o.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[o.jsxs("h3",{style:{fontSize:"18px",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(on,{size:20,color:"#a78bfa"})," Transaes Recentes"]}),o.jsx("div",{style:{display:"flex",gap:"8px"},children:o.jsxs("button",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",padding:"6px 12px",color:"#94a3b8",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(h0,{size:14})," Filtro"]})})]}),l?o.jsx("div",{style:{padding:"60px",textAlign:"center"},className:"loader",children:" Carregando transaes..."}):a.length===0?o.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#64748b"},children:[o.jsx(zi,{size:48,style:{marginBottom:"16px",opacity:.2}}),o.jsx("p",{children:"Nenhuma transao registrada este ms."})]}):o.jsx("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[o.jsx("thead",{style:{background:"rgba(255,255,255,0.02)"},children:o.jsxs("tr",{style:{textAlign:"left"},children:[o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"#64748b",fontWeight:"600"},children:"DATA"}),o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"#64748b",fontWeight:"600"},children:"DESCRIO"}),o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"#64748b",fontWeight:"600"},children:"CATEGORIA"}),o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"#64748b",fontWeight:"600"},children:"VALOR"}),o.jsx("th",{style:{padding:"16px 24px",fontSize:"12px",color:"#64748b",fontWeight:"600"},children:"STATUS"}),o.jsx("th",{style:{padding:"16px 24px",width:"50px"}})]})}),o.jsx("tbody",{children:a.sort((R,T)=>new Date(T.date)-new Date(R.date)).map((R,T)=>o.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)",transition:"background 0.2s"},className:"row-hover",children:[o.jsx("td",{style:{padding:"16px 24px",fontSize:"14px"},children:new Date(R.date).toLocaleDateString("pt-BR")}),o.jsxs("td",{style:{padding:"16px 24px",fontSize:"14px",fontWeight:"500"},children:[R.description||R.category,o.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginTop:"2px"},children:R.payment_method})]}),o.jsx("td",{style:{padding:"16px 24px"},children:o.jsx("span",{style:{fontSize:"12px",padding:"4px 10px",borderRadius:"100px",background:"rgba(255,255,255,0.05)",color:"#94a3b8"},children:R.category})}),o.jsxs("td",{style:{padding:"16px 24px",fontSize:"15px",fontWeight:"700",color:R.type==="receita"?"#10b981":"#ef4444"},children:[R.type==="receita"?"+":"-"," ",A(R.amount)]}),o.jsx("td",{style:{padding:"16px 24px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:R.status==="pago"?"#10b981":"#f59e0b"},children:[R.status==="pago"?o.jsx(ia,{size:14}):o.jsx(Tu,{size:14}),R.status==="pago"?"Pago":"Pendente"]})}),o.jsx("td",{style:{padding:"16px 24px"},children:o.jsx("button",{onClick:()=>S(R.id),style:{background:"none",border:"none",color:"#475569",cursor:"pointer"},className:"delete-btn",children:o.jsx(y0,{size:16})})})]},R.id))})]})})]}),h&&o.jsx("div",{className:"modal-overlay",onClick:R=>{R.target===R.currentTarget&&f(!1)},children:o.jsxs("div",{className:"premium-card animate-scale",style:{width:"100%",maxWidth:"440px",padding:"32px"},children:[o.jsx("h2",{style:{fontSize:"22px",marginBottom:"24px"},children:"Nova Transao"}),o.jsxs("form",{onSubmit:_,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("div",{style:{display:"flex",gap:"8px",background:"rgba(255,255,255,0.03)",padding:"4px",borderRadius:"12px",marginBottom:"8px"},children:[o.jsx("button",{type:"button",onClick:()=>v({...m,type:"receita"}),style:{flex:1,padding:"10px",borderRadius:"8px",border:"none",background:m.type==="receita"?"rgba(16,185,129,0.15)":"transparent",color:m.type==="receita"?"#10b981":"#94a3b8",fontWeight:"700",cursor:"pointer"},children:"Receita"}),o.jsx("button",{type:"button",onClick:()=>v({...m,type:"despesa"}),style:{flex:1,padding:"10px",borderRadius:"8px",border:"none",background:m.type==="despesa"?"rgba(239,68,68,0.15)":"transparent",color:m.type==="despesa"?"#ef4444":"#94a3b8",fontWeight:"700",cursor:"pointer"},children:"Despesa"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"11px",color:"#64748b",fontWeight:"700",display:"block",marginBottom:"6px"},children:"VALOR"}),o.jsx("input",{type:"number",step:"0.01",required:!0,value:m.amount,onChange:R=>v({...m,amount:R.target.value}),placeholder:"0,00",style:C})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"11px",color:"#64748b",fontWeight:"700",display:"block",marginBottom:"6px"},children:"DATA"}),o.jsx("input",{type:"date",required:!0,value:m.date,onChange:R=>v({...m,date:R.target.value}),style:C})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"11px",color:"#64748b",fontWeight:"700",display:"block",marginBottom:"6px"},children:"CATEGORIA"}),o.jsx("select",{value:m.category,onChange:R=>v({...m,category:R.target.value}),style:C,children:N[m.type].map(R=>o.jsx("option",{value:R,children:R},R))})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"11px",color:"#64748b",fontWeight:"700",display:"block",marginBottom:"6px"},children:"MTODO DE PAGAMENTO"}),o.jsxs("select",{value:m.payment_method,onChange:R=>v({...m,payment_method:R.target.value}),style:C,children:[o.jsx("option",{value:"Pix",children:"Pix"}),o.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),o.jsx("option",{value:"Carto",children:"Carto"}),o.jsx("option",{value:"Boleto",children:"Boleto"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"11px",color:"#64748b",fontWeight:"700",display:"block",marginBottom:"6px"},children:"DESCRIO (OPCIONAL)"}),o.jsx("input",{value:m.description,onChange:R=>v({...m,description:R.target.value}),placeholder:"Ex: Sesso Joo da Silva",style:C})]}),o.jsx("button",{type:"submit",className:"btn-primary",style:{marginTop:"12px",justifyContent:"center",width:"100%",padding:"14px",borderRadius:"12px"},children:"Salvar Transao"})]})]})}),o.jsx("style",{children:`
                .row-hover:hover { background-color: rgba(255,255,255,0.02) !important; }
                .delete-btn:hover { color: #ef4444 !important; }
                @media (max-width: 768px) {
                    .financeiro-page { padding: 12px 0; }
                }
            `})]})},Aa=({children:i})=>{const{isAuthenticated:a,loading:r}=tn();return r?o.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0a0e1a",color:"white"},children:o.jsx("div",{className:"loader",children:" Carregando..."})}):a?i:o.jsx(s0,{to:"/login"})};function AS(){const[i,a]=j.useState(!1),[r,l]=j.useState(!1),u=en(),{profile:h}=tn();j.useEffect(()=>{const m=async()=>{try{await be.checkConnection(),l(!1)}catch(b){console.warn("Conexo perdida com o banco de dados:",b),l(!0)}};m();const v=setInterval(m,3e4);return()=>clearInterval(v)},[]);const f=u.pathname==="/",p=u.pathname==="/login",y=u.pathname.startsWith("/portal");return f||p||y?o.jsxs(o.Fragment,{children:[r&&o.jsx("div",{style:{background:"#ef4444",color:"white",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"700",position:"fixed",top:0,width:"100%",zIndex:9999},children:" CONEXO INSTVEL: O sistema pode demorar para responder. Verifique sua internet."}),o.jsxs(gg,{children:[o.jsx(_t,{path:"/",element:o.jsx(jS,{})}),o.jsx(_t,{path:"/login",element:o.jsx(ES,{})}),o.jsx(_t,{path:"/portal",element:o.jsx(_S,{})}),o.jsx(_t,{path:"/portal/pais/:code",element:o.jsx(SS,{})}),o.jsx(_t,{path:"/portal/aluno/:code",element:o.jsx(wS,{})})]})]}):o.jsxs("div",{className:"bloom-app",children:[r&&o.jsx("div",{style:{background:"#ef4444",color:"white",padding:"8px",textAlign:"center",fontSize:"12px",fontWeight:"700",position:"fixed",top:0,left:0,width:"100%",zIndex:9999},children:" CONEXO PERDIDA: Tentando reconectar ao Banco de Dados..."}),o.jsx("div",{className:`sidebar-overlay ${i?"active":""}`,onClick:()=>a(!1)}),o.jsx(pS,{isOpen:i,onClose:()=>a(!1)}),o.jsxs("main",{className:"bloom-main",children:[o.jsxs("header",{className:"bloom-topbar",children:[o.jsx("button",{className:"mobile-menu-btn",onClick:()=>a(!0),"aria-label":"Abrir menu",children:o.jsxs("div",{className:"hamburger-icon",children:[o.jsx("span",{}),o.jsx("span",{}),o.jsx("span",{})]})}),o.jsxs("div",{className:"search-bar",children:[o.jsx("span",{children:""}),o.jsx("input",{type:"text",placeholder:"Buscar paciente..."})]}),o.jsxs("div",{className:"user-profile",children:[o.jsx("div",{className:"notifications",children:""}),o.jsxs("div",{className:"user-info",children:[o.jsx("span",{className:"user-name",children:h?.full_name||"Dra. Mayne Margadona"}),o.jsx("div",{className:"user-avatar",children:h?.full_name?h.full_name.charAt(0):"M"})]})]})]}),o.jsxs(gg,{children:[o.jsx(_t,{path:"/dashboard",element:o.jsx(Aa,{children:o.jsx(mS,{})})}),o.jsx(_t,{path:"/pacientes",element:o.jsx(Aa,{children:o.jsx(Wg,{})})}),o.jsx(_t,{path:"/relatorios",element:o.jsx(Aa,{children:o.jsx(Wg,{})})}),o.jsx(_t,{path:"/evoluir/:patientId",element:o.jsx(Aa,{children:o.jsx(xS,{})})}),o.jsx(_t,{path:"/agenda",element:o.jsx(Aa,{children:o.jsx(vS,{})})}),o.jsx(_t,{path:"/financeiro",element:o.jsx(Aa,{children:o.jsx(TS,{})})}),o.jsx(_t,{path:"/portais/:patientId",element:o.jsx(Aa,{children:o.jsx(bS,{})})}),o.jsx(_t,{path:"*",element:o.jsx(s0,{to:"/dashboard"})})]})]}),o.jsx(gS,{})]})}function kS(){return o.jsx(Nv,{children:o.jsx(fS,{children:o.jsx(AS,{})})})}fx.createRoot(document.getElementById("root")).render(o.jsx(j.StrictMode,{children:o.jsx(kS,{})}));
